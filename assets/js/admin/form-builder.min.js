!function(c,f){c(function(){var o,u,l={init:function(){f.i18n_admin;l.init_user_profile_modal(),l.init_form_builder(),c(document).on("click",".ur-selected-item",function(){l.handle_selected_item(c(this))}),f.is_form_builder&&(c(window).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&("s"===String.fromCharCode(e.which).toLowerCase()||83===e.which))return e.preventDefault(),l.ur_save_form(),!1}),c(window).on("keydown",function(e){!e.ctrlKey&&!e.metaKey||"p"!==String.fromCharCode(e.which).toLowerCase()&&80!==e.which||(e.preventDefault(),window.open(f.ur_preview))}),c(window).on("keydown",function(e){!e.ctrlKey&&!e.metaKey||"u"!==String.fromCharCode(e.which).toLowerCase()&&85!==e.which||(e.preventDefault(),window.open(f.ur_user_list_table))}),c(window).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&("h"===String.fromCharCode(e.which).toLowerCase()||85===e.which))return e.preventDefault(),l.ur_show_help(),!1})),c("#ur-keyboard-shortcut-link").on("click",function(e){e.preventDefault(),c(".ur-quick-links-content").slideToggle(),l.ur_show_help()}),c(".ur_save_form_action_button").on("click",function(){l.ur_save_form()}),c(document).on("click",".ur-message .ur-message-close",function(){$message=c(this).closest(".ur-message"),l.removeMessage($message)}),l.init_choice_field_options(),c(document).ready(function(){var e=window.location.search,e=new URLSearchParams(e),t=e.get("page"),e=e.get("edit-registration"),i=c(".user-registration-setup").length,a=document.referrer.split("page=")[1];"add-new-registration"===t&&(null===e||null!==e&&"add-new-registration"===a)&&0===i&&l.ur_show_help()})},init_user_profile_modal:function(){({init:function(){c(document.body).on("click",".column-data_link a",this.add_item).on("ur_backbone_modal_loaded",this.backbone.init).on("ur_backbone_modal_response",this.backbone.response)},add_item:function(e){return e.preventDefault(),c(this).URBackboneModal({template:"test-demo"}),!1},backbone:{init:function(e,t){},response:function(e,t){}}}).init()},ur_save_form:function(){var e,i,t,a,n,r,s=l.get_validation_status();!1===s.validation_status?l.show_message(s.message):(s=l.get_form_data(),e=l.get_form_row_ids(),i=c("#ur_form_id").val(),t=f.post_id,l.ur_parse_int(t,0)!==l.ur_parse_int(i,0)&&(i=0),t=c("#ur-field-settings :not(.urcl-user-role-field, .uret-override-content-field, .ur_mailerlite_settings)").serializeArray(),a=l.get_form_conditional_role_data(),n=l.get_form_email_content_override_data(),r=c("#ur-multi-part-page-settings").serializeArray(),s={action:"user_registration_form_save_action",security:f.ur_form_save,data:{form_data:JSON.stringify(s),form_row_ids:JSON.stringify(e),form_name:c("#ur-form-name").val(),form_id:i,form_setting_data:t,conditional_roles_settings_data:a,email_content_override_settings_data:n,multipart_page_setting:r}},c(document).trigger("user_registration_admin_before_form_submit",[s]),c.ajax({url:f.ajax_url,data:s,type:"POST",beforeSend:function(){c(".ur_save_form_action_button").append('<span class="ur-spinner is-active"></span>'),c(".ur-notices").remove()},complete:function(t){var e;c(".ur_save_form_action_button").find(".ur-spinner").remove(),!0===t.responseJSON.success?(e=f.i18n_admin.i18n_form_successfully_saved,"1"!==f.is_edit_form?(message_body="<p>Want to create a login form as well? Check this <a target='_blank' href='https://docs.wpeverest.com/docs/user-registration/registration-form-and-login-form/how-to-show-login-form/'>link</a>. To know more about other cool features check our <a target='_blank' href='https://docs.wpeverest.com/docs/user-registration/'>docs</a>.</p>",Swal.fire({icon:"success",title:"Form successfully created.",html:message_body}).then(function(e){0===parseInt(i)&&(window.location=f.admin_url+t.responseJSON.data.post_id)})):(l.show_message(e,"success"),0===parseInt(i)&&(window.location=f.admin_url+t.responseJSON.data.post_id))):(e=t.responseJSON.data.message,l.show_message(e))}}))},ur_show_help:function(){var i;c(".jconfirm").length?jc.close():(i="<ul>",c.each(f.i18n_shortcut_keys,function(e,t){i+='<li class="ur-shortcut-keyword"><div class="ur-shortcut-title">'+t+'</div><div class="ur-key"><span class="ur-key-ctrl">'+e.split("+")[0]+'</span><i class="ur-key-plus"> + </i><span class="ur-key-character"><b>'+e.split("+")[1]+"</b></span></div></li>"}),i+="</ul>",jc=c.dialog({title:f.i18n_shortcut_key_title,content:i,icon:"dashicons dashicons-info",type:"blue",useBootstrap:"false",boxWidth:"550px",buttons:{confirm:{text:f.i18n_close,btnClass:"btn-confirm",keys:["enter"]}},escapeKey:!0,backgroundDismiss:function(){return!0},theme:"material"}))},get_validation_status:function(){var e=c.makeArray(f.form_one_time_draggable_fields),t=c.makeArray(f.form_required_fields),s={validation_status:!0,message:""};if(0===c(".ur-selected-item").length)return s.validation_status=!1,s.message=f.i18n_admin.i18n_at_least_one_field_need_to_select,s;if(""===c("#ur-form-name").val())return s.validation_status=!1,s.message=f.i18n_admin.i18n_empty_form_name,s;if(0<c(".ur_save_form_action_button").find(".ur-spinner").length)return s.validation_status=!1,s.message=f.i18n_admin.i18n_previous_save_action_ongoing,s;c.each(c(".ur-selected-item select.ur-settings-selected-countries"),function(){var e=c(this).val();if(!e||Array.isArray(e)&&0===e.length)return s.validation_status=!1,s.message=f.i18n_admin.i18n_select_countries,s}),c.each(c('.ur-input-grids .ur-general-setting-block input[data-field="field_name"]'),function(){var e,t=c(this),i=!1;try{var a=t.val();if(1<c(".ur-input-grids .ur-general-setting-block").find('input[data-field="field_name"][value="'+a+'"]').length)throw f.i18n_admin.i18n_duplicate_field_name;if(""===t.closest(".ur-general-setting-block").find('input[data-field="label"]').val())throw t=t.closest(".ur-general-setting-block").find('input[data-field="label"]'),f.i18n_admin.i18n_empty_field_label;var n=a.match(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/gm);if(null===n||1!==n.length||n[0]!==a)throw f.i18n_admin.i18n_invald_field_name}catch(r){s.validation_status=!1,s.message=r.message===undefined?r:r.message,t.closest(".ur-selected-item").trigger("click"),e=t.attr("data-field"),c("#ur-setting-form").find('input[data-field="'+e+'"]').css({border:"1px solid red"}),setTimeout(function(){c("#ur-setting-form").find('input[data-field="'+e+'"]').removeAttr("style")},2e3),i=!0}if(i)return!1});for(var i=0;i<e.length;i++)if(1<c(".ur-input-grids").find('.ur-field[data-field-key="'+e[i]+'"]').length){s.validation_status=!1,s.message=f.i18n_admin.i18n_multiple_field_key+e[i];break}var a=c("#user_registration_enable_paypal_standard"),n=c("#user_registration_enable_stripe");a.is(":checked")?t=t.concat(["payment_fields"]):n.is(":checked")&&(t=t.concat(["payment_fields","stripe_gateway"]));for(var r=0;r<t.length;r++)if("payment_fields"===t[r]){var l=c(".ur-input-grids").find('.ur-field[data-field-key="multiple_choice"]').length,d=c(".ur-input-grids").find('.ur-field[data-field-key="single_item"]').length,o=c(".ur-input-grids").find(".ur-payment-slider-sign:visible").length;if(l<1&&d<1&&o<1){s.validation_status=!1;var u=f.i18n_admin.i18n_payment_field;s.message=u+" "+f.i18n_admin.i18n_field_is_required;break}}else if(0===c(".ur-input-grids").find('.ur-field[data-field-key="'+t[r]+'"]').length){s.validation_status=!1,u=0===r?f.i18n_admin.i18n_user_email:1===r?f.i18n_admin.i18n_user_password:f.i18n_admin.i18n_stripe_field,s.message=u+" "+f.i18n_admin.i18n_field_is_required;break}return c.each(c(".ur-input-grids").find('.ur-field[data-field-key="text"]'),function(){var e=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-size").val(),t=c(this).closest(".ur-selected-item").find(".ur-label label").html();e<1&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_input_size)}),c.each(c(".ur-input-grids").find('.ur-field[data-field-key="password"]'),function(){var e=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-size").val(),t=c(this).closest(".ur-selected-item").find(".ur-label label").html();e<1&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_input_size)}),c.each(c(".ur-input-grids").find('.ur-field[data-field-key="file"]'),function(){var e=c(this).closest(".ur-selected-item").find(".ur-general-setting-block .ur-general-setting-maximum-number-limit-on-uploads input").val(),t=c(this).closest(".ur-selected-item").find(".ur-label label").html(),e=(e<1&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_input_size),c(this).closest(".ur-selected-item").find(".ur-advance-setting-block input[data-id='file_advance_setting_max_upload_size']").val()),i=f.max_upload_size_ini;parseInt(e)>parseInt(i)&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_max_upload_size)}),c.each(c(".ur-input-grids").find('.ur-field[data-field-key="number"]'),function(){var e=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-size").val(),t=c(this).closest(".ur-selected-item").find(".ur-label label").html(),e=(e<1&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_input_size),c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-min").val()),i=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-max").val();parseFloat(e)>parseFloat(i)&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_min_max_input)}),c.each(c(".ur-input-grids").find('.ur-field[data-field-key="timepicker"]'),function(){var e=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-time_interval").val(),t=c(this).closest(".ur-selected-item").find(".ur-label label").html();e<1&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_input_size)}),c.each(c(".ur-input-grids").find('.ur-field[data-field-key="range"]'),function(){var e=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-step").val(),t=c(this).closest(".ur-selected-item").find(".ur-label label").html(),e=(e<1&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_input_size),c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-min").val()),i=c(this).closest(".ur-selected-item").find(".ur-advance-setting-block .ur-settings-max").val();parseFloat(e)>parseFloat(i)&&(s.validation_status=!1,s.message=t+" "+f.i18n_admin.i18n_min_max_input)}),s},show_message:function(e,t){var i=c(".ur-form-container").find(".ur-builder-message-container"),a=c("#wpadminbar"),n="",r=(0===i.length&&(c(".ur-form-container").append('<div class="ur-builder-message-container"></div>'),(i=c(".ur-form-container").find(".ur-builder-message-container")).css({top:a.height()+"px"})),n="success"===t?'<div class="ur-message"><div class="ur-success"><p><strong>'+f.i18n_admin.i18n_success+"! </strong>"+e+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>':'<div class="ur-message"><div class="ur-error"><p><strong>'+f.i18n_admin.i18n_error+"! </strong>"+e+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>',c(n).prependTo(i));setTimeout(function(){r.addClass("entered")},50),setTimeout(function(){l.removeMessage(r)},2e3)},removeMessage:function(e){e.removeClass("entered").addClass("exiting"),setTimeout(function(){e.remove()},120)},get_form_data:function(){var i=[],e=c(".ur-input-grids .ur-single-row");return c.each(e,function(){var e=c(this).find(".ur-grid-list-item"),t=[];c.each(e,function(){var e=c(this),e=l.get_grid_wise_data(e);t.push(e)}),i.push(t)}),i},get_grid_wise_data:function(e){var e=e.find(".ur-selected-item"),a=[];return c.each(e,function(){var e=c(this),t=e.find(".ur-field").attr("data-field-key"),i=c("li[data-field-id ='"+("user_registration_"+t)+"']").find(".ur-icon").attr("class"),t={field_key:t,general_setting:l.get_field_general_setting(e),advance_setting:l.get_field_advance_setting(e),icon:i};a.push(t)}),a},get_field_general_setting:function(e){var e=e.find(".ur-general-setting-block").find(".ur-general-setting-field"),n={},r=[],s=[];return c.each(e,function(){var e,a,t,i=c(this).closest(".ur-general-setting").hasClass("ur-setting-checkbox");"options"===c(this).attr("data-field")?("multiple_choice"===c(this).attr("data-field-name")?(e=c(this).closest("ul").find("li"),a=[],e.each(function(e,t){var i=c(t).find("input.ur-type-checkbox-label").val(),t=c(t).find("input.ur-type-checkbox-money-input").val();a.every(function(e){return e.label!==i})&&(n.options=a.push({label:i,value:t})),n.options=a})):t=l.get_ur_data(c(this)).trim(),r.every(function(e){return e!==t})&&(n.options=r.push(t),n.options=r)):"default_value"===c(this).attr("data-field")?!0===i?c(this).is(":checked")&&(n.default_value=s.push(l.get_ur_data(c(this))),n.default_value=s):c(this).is(":checked")&&(n.default_value=l.get_ur_data(c(this))):"html"===c(this).attr("data-field")?n[c(this).attr("data-field")]=l.get_ur_data(c(this)).replace(/"/g,"'"):n[c(this).attr("data-field")]=l.get_ur_data(c(this))}),n},get_field_advance_setting:function(e){var e=e.find(".ur-advance-setting-block").find(".ur_advance_setting"),t={};return c.each(e,function(){t[c(this).attr("data-advance-field")]=l.get_ur_data(c(this))}),t},get_ur_data:function(e){var t="";switch(e.get(0).tagName.toLowerCase()){case"input":("checkbox"!==e.attr("type")||e.is(":checked"))&&(t=e.val());break;case"select":case"textarea":t=e.val()}return t},get_form_row_ids:function(){var e=[],t=c(".ur-input-grids .ur-single-row");return c.each(t,function(){e.push(c(this).attr("data-row-id"))}),e},ur_parse_int:function(e){return parseInt(e,0)},ur_math_ceil:function(e){return Math.ceil(e,0)},get_form_conditional_role_data:function(){var r=[],e=c(".urcl-role-logic-wrap");return c.each(e,function(){var e=c(this).find(".urcl-user-role-field"),i=[],t=[],a="",n=(c.each(e,function(){"user_registration_form_conditional_user_role"===($field_key=c(this).attr("name").split("["))[0]&&(a=c(this).val(),e.splice(c(this),1))}),c(this).find(".urcl-conditional-group")),n=(c.each(n,function(){var t=[],e=c(this).find(".urcl-user-role-field");c.each(e,function(){var e={field_key:c(this).attr("name"),field_value:c(this).val()};t.push(e)}),i.push(t)}),c(this).find(".urcl-or-groups")),n=(c.each(n,function(){var e=c(this).find(".urcl-conditional-or-group"),i=[];c.each(e,function(){var t=[],e=c(this).find(".urcl-user-role-field");c.each(e,function(){var e={field_key:c(this).attr("name"),field_value:c(this).val()};t.push(e)}),i.push(t)}),t.push(i)}),{assign_role:a,conditions:i,or_conditions:t});r.push(n)}),r},get_form_email_content_override_data:function(){var i={},e=c(".user-registration-email-template-content-wrap");return c.each(e,function(){var e=c(this).find(".user-registration-card__header"),t=c(this).find(".user-registration-card__body");i[c(this).prop("id")]={title:e.find(".user-registration-card__title ").text(),description:e.find(".user-registration-help-tip").data("description"),override:e.find("#uret_override_"+c(this).prop("id")).hasClass("enabled")?1:0,subject:t.find(".uret_subject_input").val(),content:t.find("#user_registration_"+c(this).prop("id")+"_content").val()}}),i},init_form_builder:function(){c.fn.ur_form_builder=function(){var r={active_grid:f.active_grid,number_of_grid_list:f.number_of_grid,min_grid_height:70};return this.each(function(){var i=c(this),s={init:function(){this.single_row(),this.manage_required_fields(),this.manage_label_hidden_fields()},single_row:function(){var e,t;"1"!==f.is_edit_form&&((e=c("<div class='ur-single-row'/ data-row-id=\"0\">")).append(c("<div class='ur-grids'/>")),t=this.get_grid_button(),e.find(".ur-grids").append(t),e.find(".ur-grids").find('span[data-id="'+r.active_grid+'"]').addClass("ur-active-grid"),t=this.get_grid_lists(r.active_grid),e.append('<div style="clear:both"></div>'),e.append(t),e.append('<div style="clear:both"></div>'),i.append(e),c(".ur-single-row").eq(0).find(".ur-grid-lists").eq(0).find(".ur-grid-list-item").eq(0).find(".user-registration-dragged-me").remove(),c(".ur-single-row").eq(0).find(".ur-grid-lists").eq(0).find(".ur-grid-list-item").eq(0).append(f.required_form_html)),0==i.find(".ur-add-new-row").length&&(i.append('<button type="button" class="button button-primary dashicons dashicons-plus-alt ur-add-new-row ui-sortable-handle" data-total-rows="0">'+f.add_new+"</button>"),t=i.find(".ur-add-new-row").siblings(".ur-single-row").last().prev().attr("data-row-id"),i.find(".ur-add-new-row").attr("data-total-rows",t)),a.render_draggable_sortable(),s.manage_empty_grid(),s.manage_draggable_users_fields()},get_grid_button:function(){var e=c('<div class="ur-grid-containner"/>'),t='<button type="button" class="ur-edit-grid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg></button>';t+='<button type="button" class="dashicons dashicons-no-alt ur-remove-row"></button>';return e.html('<button type="button" class="ur-edit-grid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg></button><button type="button" class="dashicons dashicons-no-alt ur-remove-row"></button><div class="ur-toggle-grid-content" style="display:none"><small>Select the grid column.</small><div class="ur-grid-selector" data-grid = "1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg></div><div class="ur-grid-selector" data-grid = "2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M17,4H2V28H30V4ZM4,26V6H15V26Zm24,0H17V6H28Z"/></svg></div><div class="ur-grid-selector" data-grid = "3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M22,4H2V28H30V4ZM4,26V6h6V26Zm8,0V6h8V26Zm16,0H22V6h6Z"/></svg></div></div>'),e.html()},get_grid_lists:function(e){for(var t=c('<div class="ur-grid-lists"/>'),i=1;i<=e;i++){var a=c("<div ur-grid-id='"+i+"' class='ur-grid-list-item'></div>"),n=Math.floor(100/e)-e;a.css({width:n+"%","min-height":r.min_grid_height+"px"}),t.append(a)}return t.append('<div style="clear:both"></div>'),t.find(".ur-grid-list-item").eq("0").css({}),t},manage_label_hidden_fields:function(){c('select[data-field="hide_label"]').each(function(){"yes"===c(this).val()?c(this).closest(".ur-selected-item").find(".ur-label").find("label").hide():c(this).closest(".ur-selected-item").find(".ur-label").find("label").show()})},manage_required_fields:function(){var e=f.form_required_fields,t=c(".ur-input-grids");if(Array.isArray(e))for(var i=0;i<e.length;i++){var a=t.find('.ur-field[data-field-key="'+e[i]+'"]');a.closest(".ur-selected-item").find('select[data-field="required"]').val("yes").trigger("change"),a.closest(".ur-selected-item").find('select[data-field="required"]').find('option[value="yes"]').attr("selected","selected"),a.closest(".ur-selected-item").find('select[data-field="required"]').attr("disabled","disabled")}var n=t.find('select[data-field="required"]').find('option[selected="selected"][value="yes"]').closest(".ur-selected-item").find(".ur-label").find("label");n.find("span:contains('*')").remove(),n.append('<span style="color:red">*</span>')},manage_empty_grid:function(){var e=c(".ur-input-grids"),t=c('<div class="user-registration-dragged-me"/>');e.find(".user-registration-dragged-me").remove(),c.each(e.find(".ur-grid-list-item"),function(){var e=c(this);0===c(this).find(".ur-selected-item").length&&e.append(t.clone())})},manage_draggable_users_fields:function(){var i=f.form_one_time_draggable_fields,e=c("#ur-tab-registered-fields").find("ul.ur-registered-list");c.each(e.find("li"),function(){var e=c(this),t=c(this).attr("data-field-id").replace("user_registration_","");0<=c.inArray(t,i)&&(0<c(".ur-input-grids").find('.ur-field[data-field-key="'+t+'"]').length?e.draggable("disable"):e.draggable("enable"))})},populate_dropped_node:function(i,e){var e={action:"user_registration_user_input_dropped",security:f.user_input_dropped,form_field_id:e},a='<div class="ur-selected-item ajax_added"><div class="ur-action-buttons"><span title="Clone" class="dashicons dashicons-admin-page ur-clone"></span><span title="Trash" class="dashicons dashicons-trash ur-trash"></span></div>(content)</div>';i.closest(".ur-single-row").find(".user-registration-dragged-me").fadeOut(),c.ajax({url:f.ajax_url,data:e,type:"POST",beforeSend:function(){i.removeAttr("class").removeAttr("id").removeAttr("data-field-id").addClass("ur-selected-item").css({width:"auto"}),i.html('<small class="spinner is-active"></small>'),i.addClass("ur-item-dragged")},complete:function(e){s.manage_empty_grid(),!0===e.responseJSON.success&&((t=c(a.replace("(content)",e.responseJSON.data.template))).removeClass("ajax_added"),t.removeClass("ur-item-dragged"),i.find(".ajax_added").find(".spinner").remove(),i.find(".ajax_added").remove(),c(t).insertBefore(i),i.remove()),s.manage_draggable_users_fields();var t,e=t.closest(".ur-selected-item ").find("[data-field='field_name']").val();l.manage_conditional_field_options(e),c('.ur-input-type-select2 .ur-field[data-field-key="select2"] select, .ur-input-type-multi-select2 .ur-field[data-field-key="multi_select2"] select').selectWoo(),c(document.body).trigger("ur_new_field_created")}})}},a={register:function(){this.register_add_new_row(),this.register_remove_row(),this.change_ur_grids(),this.remove_selected_item(),this.clone_selected_item()},register_add_new_row:function(){var i=this;c("body").on("click",".ur-add-new-row",function(){var e=c(this).attr("data-total-rows"),t=(c(this).attr("data-total-rows",parseInt(e)+1),c(this).closest(".ur-input-grids").find(".ur-single-row").eq(0).clone()),e=(t.attr("data-row-id",parseInt(e)+1),t.find(".ur-grid-lists").html(""),t.find(".ur-grids").find("span").removeClass("ur-active-grid"),t.find(".ur-grids").find('span[data-id="'+r.active_grid+'"]').addClass("ur-active-grid"),s.get_grid_lists(r.active_grid));t.find(".ur-grid-lists").append(e.html()),t.insertBefore(".ur-add-new-row"),t.show(),i.render_draggable_sortable(),s.manage_empty_grid(),c(document).trigger("user_registration_row_added",[t])})},register_remove_row:function(){var a=this;c("body").on("click",".ur-remove-row",function(){var i;1<c(".ur-input-grids").find(".ur-single-row:visible").length?(i=c(this),ur_confirmation(f.i18n_admin.i18n_are_you_sure_want_to_delete_row,{title:f.i18n_admin.i18n_msg_delete,confirm:function(){var e=i.prev(),e=e.hasClass("ur-add-new-row")?e.clone():i.clone().attr("class","dashicons-minus ur-remove-row"),e=(e.hasClass("ur-add-new-row")&&i.closest(".ur-single-row").prev().find(".ur-remove-row").before(e),i.closest(".ur-single-row")),t=(c(document).trigger("user_registration_row_deleted",[e]),e.find(".ur-grid-lists .ur-selected-item .ur-general-setting"));c(t).each(function(){c(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-label label").text();var e=c(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-field").data("field-key");"section_title"!=e&&"html"!=e&&"wysiwyg"!=e&&"billing_address_title"!=e&&"shipping_address_title"!=e&&void 0!==(e=c(this).find("[data-field='field_name']").val())&&(c('[class*="urcl-settings-rules_field_"] option[value="'+e+'"]').remove(),c('[class*="urcl-field-conditional-field-select"] option[value="'+e+'"]').remove())}),e.remove(),a.check_grid(),s.manage_draggable_users_fields(),Swal.fire({icon:"success",title:"Successfully deleted!",customClass:"user-registration-swal2-modal user-registration-swal2-modal--center",showConfirmButton:!1,timer:1e3})},reject:function(){}})):l.ur_alert(f.i18n_admin.i18n_at_least_one_row_is_required_to_create_a_registration_form,{title:f.i18n_admin.i18n_cannot_delete_row})})},change_ur_grids:function(){var r=this;c(document).on("click",".ur-grids .ur-edit-grid",function(e){e.stopPropagation(),c(this).siblings(".ur-toggle-grid-content").stop(!0).slideToggle(200)}),c(document).on("click",function(){c(".ur-toggle-grid-content").stop(!0).slideUp(200)}),c(document).on("click",".ur-grids .ur-toggle-grid-content .ur-grid-selector",function(){var e=c(this).closest(".ur-single-row"),t=c(this).attr("data-grid"),i=e.find(".ur-grid-lists .ur-grid-list-item").length,a=s.get_grid_lists(t),n=0;e.find(".ur-grid-lists .ur-grid-list-item").length!==parseInt(t)&&(e.find("button.ur-edit-grid").html(c(this).html()),c.each(e.find(".ur-grid-lists .ur-grid-list-item"),function(){c(this).children("*").each(function(){a.find(".ur-grid-list-item").eq(n).append(c(this).clone()),3===parseInt(c(this).parent().attr("ur-grid-id"))&&3===parseInt(i)&&2===parseInt(t)&&(n=Math.abs(--n))}),(parseInt(t)>i||c(this).children("*").length&&2<=parseInt(t))&&(n=parseInt(t)<=++n?0:n)}),e.find(".ur-grid-lists").eq(0).hide(),a.clone().insertAfter(e.find(".ur-grid-lists")),e.find(".ur-grid-lists").eq(0).remove(),r.render_draggable_sortable(),s.manage_empty_grid())})},render_draggable_sortable:function(){c(".ur-grid-list-item").sortable({containment:".ur-input-grids",over:function(){c(this).addClass("ur-sortable-active"),s.manage_empty_grid()},out:function(){c(this).removeClass("ur-sortable-active"),s.manage_empty_grid()},revert:!0,connectWith:".ur-grid-list-item"}).disableSelection(),c(".ur-input-grids").sortable({containment:".ur-builder-wrapper",tolerance:"pointer",revert:"invalid",placeholder:"ur-single-row",forceHelperSize:!0,over:function(){c(this).addClass("ur-sortable-active")},out:function(){c(this).removeClass("ur-sortable-active")}}),c("#ur-draggabled .draggable").draggable({connectToSortable:".ur-grid-list-item",containment:".ur-registered-from",helper:function(){return c(this).clone().insertAfter(c(this).closest(".ur-tab-contents").siblings(".ur-tab-lists"))},revert:"invalid",stop:function(e,t){if(0!==c(t.helper).closest(".ur-grid-list-item").length){var i=c(t.helper).attr("data-field-id").replace("user_registration_","").trim(),a=c(".ur-input-grids").find('.ur-field[data-field-key="'+i+'"]').length,n=c.makeArray(f.form_one_time_draggable_fields);if(0<a&&0<=c.inArray(i,n))return show_message(f.i18n_admin.i18n_user_required_field_already_there),void c(t.helper).remove();a=c(t.helper),i=c(a).attr("data-field-id");void 0!==i&&(n=c(t.helper).closest(".ur-grid-list-item").find('li[data-field-id="'+c(this).attr("data-field-id")+'"]'),s.populate_dropped_node(n,i))}}}).disableSelection()},remove_selected_item:function(){var n=this;c("body").on("click",".ur-selected-item .ur-action-buttons .ur-trash",function(e){var t=c(this).closest(".ur-selected-item ").find("[data-field='field_name']").val(),i=n,a=c(this);ur_confirmation(f.i18n_admin.i18n_are_you_sure_want_to_delete_field,{title:f.i18n_admin.i18n_msg_delete,showCancelButton:!0,confirmButtonText:f.i18n_admin.i18n_choice_ok,cancelButtonText:f.i18n_admin.i18n_choice_cancel,ele:i,$ele:a,removed_item:t,confirm:function(){return a.closest(".ur-selected-item ").remove(),i.check_grid(),s.manage_empty_grid(),s.manage_draggable_users_fields(),c('[class*="urcl-settings-rules_field_"] option[value="'+t+'"]').remove(),c('[class*="urcl-field-conditional-field-select"] option[value="'+t+'"]').remove(),c(document.body).trigger("ur_field_removed"),!1},reject:function(){return!1}})})},clone_selected_item:function(){c("body").on("click",".ur-selected-item .ur-action-buttons  .ur-clone",function(){var e,t,i=c(this).closest(".ur-selected-item ").find(".ur-field").attr("data-field-key");0<c(".ur-input-grids").find('.ur-field[data-field-key="'+i+'"]').length&&-1<c.inArray(i,f.form_one_time_draggable_fields)?l.show_message(f.i18n_admin.i18n_user_required_field_already_there_could_not_clone):(t=0<(t=(e=(i=c(this).closest(".ur-selected-item ").clone()).find('input[data-field="field_name"]')).val().match(/\d+/g)).length?t[t.length-1]:"",e=e.val().replace(t,""),i.find('input[data-field="field_name"]').attr("value",e+(new Date).getTime()),c(this).closest(".ur-grid-list-item").append(i),t=i.find("[data-field='field_name']").val(),l.manage_conditional_field_options(t))})},check_grid:function(){c(".ur-tabs").tabs({disabled:[1]}),c(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"]),c(".ur-tabs").find('[aria-controls="ur-tab-field-options"]').addClass("ur-no-pointer"),c(".ur-selected-item").removeClass("ur-item-active")}};s.init(),a.register()})},c(".ur-input-grids").ur_form_builder(),c(".ur-tabs .ur-tab-lists").on("click","a.nav-tab",function(){c(".ur-tabs .ur-tab-lists").find("a.nav-tab").removeClass("active"),c(this).addClass("active")}),c(".ur-tabs").tabs(),c(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"]),c(".ur-tabs").tabs({disabled:[1]})},manage_conditional_field_options:function(a){c(".ur-grid-lists .ur-selected-item .ur-general-setting").each(function(){var e,t=c(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-label label").text(),i=c(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-field").data("field-key");"section_title"!=i&&"html"!=i&&"wysiwyg"!=i&&"billing_address_title"!=i&&"shipping_address_title"!=i&&void 0!==(e=c(this).find("[data-field='field_name']").val())&&(!1==0<c(".urcl-field-conditional-field-select option[value='"+e+"']").length&&c('[class*="urcl-field-conditional-field-select"]').append('<option value ="'+e+'" data-type="'+i+'">'+t+" </option>"),!1==0<c(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1 option[value='"+e+"']").length?(c('[class*="urcl-settings-rules_field_"]').append('<option value ="'+e+'" data-type="'+i+'">'+t+" </option>"),e==a&&c('.urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields option[value="'+a+'"]').remove()):c(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields").append('<option value ="'+e+'" data-type="'+i+'">'+t+" </option>"))}),c(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields").removeClass("empty-fields")},handle_selected_item:function(e){c(".ur-registered-inputs").find("ul li.ur-no-pointer").removeClass("ur-no-pointer"),c(".ur-selected-item").removeClass("ur-item-active"),c(e).addClass("ur-item-active"),l.render_advance_setting(c(e)),l.init_events(),c(document).trigger("update_perfect_scrollbar");var t,e=c(e).find(".ur-field").data("field-key");"country"!==e&&"billing_country"!==e&&"shipping_country"!==e||(t=c("#ur-setting-form select.ur-settings-selected-countries")).on("change",function(e){var t=c(this).val(),i="",a=this;Array.isArray(t)&&t.forEach(function(e){var t=c(a).find('option[value="'+e+'"]').html();i+='<option value="'+e+'">'+t+"</option>"}),c("#ur-setting-form select.ur-settings-default-value").html(i),c(".ur-selected-item.ur-item-active select.ur-settings-default-value").html(i)}).select2({placeholder:"Select countries...",selectionAdapter:o,dropdownAdapter:u,templateResult:function(e){return e.id?c("<div></div>").text(e.text).addClass("wrap"):e.text},templateSelection:function(e){if(!e.id)return e.text;e=0;return"Selected "+(e=t.val()?t.val().length:e)+" country(s)"}}).on("change",function(e){c(".urcl-rules, .urcl-conditional-group").each(function(){var i,e=c(this).find(".urcl-field").length?c(this).find(".urcl-field"):c(this).find(".urcl-form-group"),t=e.find("select option:selected").data("type");"country"!==t&&"billing_country"!==t&&"shipping_country"!==t||(t=e.find("select option:selected").val(),e=c(this).find(".urcl-value select").val(),t=c('.ur-general-setting-field-name input[value="'+t+'"').closest(".ur-selected-item").find(".ur-advance-selected_countries select option:selected"),i=[],c(this).find(".urcl-value select").html('<option value="">--select--</option>'),t.each(function(){var e=c(this).val(),t=c(this).text();i.push('<option value="'+e+'">'+t+"</option>")}),c(this).find(".urcl-value select").append(i.join("")),c(this).find(".urcl-value select").val(e),c(this).find('.urcl-value select option[value="'+e+'"]').attr("selected","selected"))})}).on("select2:close",function(e){setTimeout(function(){c(":focus").trigger("blur")},1)}),c(document.body).trigger("ur_rendered_field_options"),c(document.body).trigger("init_tooltips")},render_advance_setting:function(e){var t=e.find(".ur-advance-setting-block").clone(),e=e.find(".ur-general-setting-block").clone(),i=c("<form id='ur-setting-form'/>");c("#ur-tab-field-options").html(""),i.append(e),i.append(t),c("#ur-tab-field-options").append(i),c("#ur-tab-field-options").find(".ur-advance-setting-block").show(),c("#ur-tab-field-options").find(".ur-general-setting-block").show(),1===c(".ur-item-active").length&&(c(".ur-tabs").tabs().tabs("enable",1),c(".ur-tabs").find("a").eq(1).trigger("click",["triggered_click"])),c(".ur-options-list").sortable({containment:".ur-general-setting-options"})},init_events:function(){var e=c(".ur-general-setting-field"),e=(c.each(e,function(){var e=c(this);switch(e.attr("data-field")){case"label":e.on("keyup",function(){l.trigger_general_setting_label(c(this))});break;case"field_name":case"max_files":case"input_mask":e.on("change",function(){l.trigger_general_setting_field_name(c(this))});case"default_value":e.on("change",function(){"default_value"===e.attr("data-field")&&(e.closest(".ur-general-setting-block").hasClass("ur-general-setting-select")?l.render_select_box(c(this)):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?l.render_radio(c(this)):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?l.render_check_box(c(this)):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")&&l.render_multiple_choice(c(this)))});break;case"options":e.on("keyup",function(){e.closest(".ur-general-setting-block").hasClass("ur-general-setting-select")&&e.siblings('input[data-field="default_value"]').is(":checked")?l.render_select_box(c(this)):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?l.render_radio(c(this)):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?l.render_check_box(c(this)):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")&&l.render_multiple_choice(c(this)),l.trigger_general_setting_options(c(this))});break;case"placeholder":e.on("keyup",function(){l.trigger_general_setting_placeholder(c(this))});break;case"required":e.on("change",function(){l.trigger_general_setting_required(c(this))});break;case"hide_label":e.on("change",function(){l.trigger_general_setting_hide_label(c(this))});break;case"description":case"html":e.on("keyup",function(){l.trigger_general_setting_description(c(this))})}}),c("#ur-setting-form .ur_advance_setting"));c(".ur-settings-enable-min-max").on("change",function(){"true"===c(this).val()?(c(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").show(),c(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").show(),c("#ur-setting-form .ur-settings-min-date").addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,onChange:function(e,t,i){c(".ur-item-active .ur-settings-min-date").val(t)},onOpen:function(e,t,i){i.set("maxDate",c(".ur-item-active .ur-settings-max-date").val())}}),c("#ur-setting-form .ur-settings-max-date").addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,onChange:function(e,t,i){c(".ur-item-active .ur-settings-max-date").val(t)},onOpen:function(e,t,i){i.set("minDate",c(".ur-item-active .ur-settings-min-date").val())}})):(c(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").hide(),c(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").hide())}),c.each(e,function(){var e=c(this);switch(e.attr("data-advance-field")){case"date_format":e.on("change",function(){l.trigger_general_setting_date_format(c(this))});break;case"min_date":"true"===c(".ur-item-active").find(".ur-settings-enable-min-max").val()?c(this).addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,defaultDate:new Date(c(".ur-item-active").find(".ur-settings-min-date").val()),onChange:function(e,t,i){c(".ur-item-active").find(".ur-settings-min-date").val(t)},onOpen:function(e,t,i){i.set("maxDate",new Date(c(".ur-item-active").find(".ur-settings-max-date").val()))}}):c(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").hide();break;case"max_date":"true"===c(".ur-item-active").find(".ur-settings-enable-min-max").val()?c(this).addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,defaultDate:new Date(c(".ur-item-active").find(".ur-settings-max-date").val()),onChange:function(e,t,i){c(".ur-item-active").find(".ur-settings-max-date").val(t)},onOpen:function(e,t,i){i.set("minDate",new Date(c(".ur-item-active .ur-settings-min-date").val()))}}):c(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").hide();break;case"enable_prepopulate":"false"===e.val()&&c(this).closest(".ur-advance-setting-block").find(".ur-advance-parameter_name").hide(),e.on("change",function(){c(this).closest(".ur-advance-setting-block").find(".ur-advance-parameter_name").toggle(),c(".ur-selected-item.ur-item-active").find(".ur-advance-parameter_name").toggle()});break;case"autocomplete_address":"no"===e.val()&&c(this).closest(".ur-advance-setting-block").find(".ur-advance-address_style").hide(),e.on("change",function(){c(this).closest(".ur-advance-setting-block").find(".ur-advance-address_style").toggle(),c(".ur-selected-item.ur-item-active").find(".ur-advance-address_style").toggle()});break;case"validate_unique":"false"===e.val()&&c(this).closest(".ur-advance-setting-block").find(".ur-advance-validation_message").hide(),e.on("change",function(){c(this).closest(".ur-advance-setting-block").find(".ur-advance-validation_message").toggle(),c(".ur-selected-item.ur-item-active").find(".ur-advance-validation_message").toggle()})}var t=e.get(0).tagName.toLowerCase(),i=("country_advance_setting_default_value"===e.attr("data-id")&&c(".ur-builder-wrapper #ur-input-type-country").find('option[value="'+e.val()+'"]').attr("selected","selected"),"change");switch(t){case"input":i="keyup click";break;case"select":i="change";break;case"textarea":i="keyup";break;default:i="change"}"valid_file_type"!==e.attr("data-advance-field")&&"payment_methods"!==e.attr("data-advance-field")||e.select2(),c(this).on(i,function(){l.trigger_advance_setting(e,t)}),c(this).on("paste",function(){l.trigger_advance_setting(e,t)})})},trigger_general_setting_label:function(e){var t=c(".ur-selected-item.ur-item-active"),t=(t.find(".ur-label").find("label").text(e.val()),"yes"===c(".ur-selected-item.ur-item-active .ur-general-setting").find("[data-field='required']").val()&&t.find(".ur-label").find("label").append('<span style="color:red">*</span>'),t.find(".ur-general-setting-block").find('input[data-field="'+e.attr("data-field")+'"]').attr("value",e.val()),c(".ur-selected-item.ur-item-active .ur-general-setting").find("[data-field='field_name']").val());c('[class*="urcl-settings-rules_field_"] option[value="'+t+'"]').text(e.val()),c('[class*="urcl-field-conditional-field-select"] option[value="'+t+'"]').text(e.val())},trigger_general_setting_field_name:function(e){var t=c(".ur-selected-item.ur-item-active"),i=t.find(".ur-general-setting-block").find('input[data-field="'+e.attr("data-field")+'"]').attr("value");t.find(".ur-general-setting-block").find('input[data-field="'+e.attr("data-field")+'"]').attr("value",e.val()),c('[class*="urcl-settings-rules_field_"] option[value="'+i+'"]').attr("value",e.val()),c('[class*="urcl-field-conditional-field-select"] option[value="'+i+'"]').attr("value",e.val())},render_text_area:function(e){switch(c(".ur-selected-item.ur-item-active").find(".ur-field").attr("data-field-key")){case"select":l.render_select_box(e);break;case"checkbox":l.render_check_box(e);break;case"radio":l.render_radio(e);break;case"multiple_choice":l.render_multiple_choice(e)}},render_select_box:function(e){var t=e.val().trim(),i=c(".ur-selected-item.ur-item-active"),a=e.closest("li").index(),e=i.find(".ur-field").find("select");e.html(""),e.append("<option value='"+t+"'>"+t+"</option>"),i.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(e,t){t=c(t).find('[data-field="default_value"]');e===a?t.prop("checked",!0):t.prop("checked",!1)})},render_radio:function(e){var e=e.closest("ul").find("li"),a=undefined,n=[],e=(e.each(function(e,t){var i=(i=c(t).find("input.ur-type-radio-label").val()).trim();!0===(r=c(t).find("input.ur-type-radio-value").is(":checked"))&&(a=e),n.every(function(e){return e.value!==i})&&n.push({value:i,radio:r})}),c(".ur-selected-item.ur-item-active")),r=e.find(".ur-field");r.html("");for(var t=0;t<n.length;t++)""!==n[t]&&r.append('<label><input value="'+n[t].value.trim()+'" type="radio" '+(n[t].radio?"checked":"")+" disabled>"+n[t].value.trim()+"</label>");e.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(e,t){t=c(t).find('[data-field="default_value"]');e===a?t.prop("checked",!0):t.prop("checked",!1)})},render_check_box:function(e){var a=[],t=e.closest("ul").find("li"),i=e.closest("li").index(),t=(t.each(function(e,t){var i=(i=c(t).find("input.ur-type-checkbox-label").val()).trim();n=c(t).find("input.ur-type-checkbox-value").is(":checked"),a.every(function(e){return e.value!==i})&&a.push({value:i,checkbox:n})}),c(".ur-selected-item.ur-item-active")),n=t.find(".ur-field");n.html("");for(var r=0;r<a.length;r++)""!==a[r]&&(a[r].value=a[r].value.replaceAll('"',"'"),n.append('<label><input value="'+a[r].value.trim()+'" type="checkbox" '+(a[r].checkbox?"checked":"")+" disabled>"+a[r].value.trim()+"</label>"));"checkbox"===e.attr("type")&&(e.is(":checked")?t.find(".ur-general-setting-options li:nth("+i+') input[data-field="default_value"]').prop("checked",!0):t.find(".ur-general-setting-options li:nth("+i+') input[data-field="default_value"]').prop("checked",!1))},render_multiple_choice:function(e){var r=[],t=e.closest("ul").find("li"),i=e.closest("li").index(),t=(t.each(function(e,t){var i=c(t).find("input.ur-type-checkbox-label").val(),a=c(t).find("input.ur-type-checkbox-money-input").val(),n=c(t).find("input.ur-type-checkbox-money-input").attr("data-currency"),i=i.trim(),a=a.trim(),n=n.trim();s=c(t).find("input.ur-type-checkbox-value").is(":checked"),r.every(function(e){return e.label!==i})&&r.push({label:i,value:a,currency:n,checkbox:s})}),c(".ur-selected-item.ur-item-active")),s=t.find(".ur-field");s.html("");for(var a=0;a<r.length;a++)""!==r[a]&&s.append('<label><input value="'+r[a].label.trim()+'" type="checkbox" '+(r[a].checkbox?"checked":"")+" disabled>"+r[a].label.trim()+" - "+r[a].currency.trim()+" "+r[a].value.trim()+"</label>");"checkbox"===e.attr("type")&&(e.is(":checked")?t.find(".ur-general-setting-options li:nth("+i+') input[data-field="default_value"]').prop("checked",!0):t.find(".ur-general-setting-options li:nth("+i+') input[data-field="default_value"]').prop("checked",!1))},trigger_general_setting_options:function(e){var t=c(".ur-selected-item.ur-item-active"),i=e.closest("li").index();("multiple_choice"===e.attr("data-field-name")?t.find(".ur-general-setting-block li:nth("+i+') input[name="'+e.attr("name")+'"]'):t.find(".ur-general-setting-block li:nth("+i+') input[data-field="'+e.attr("data-field")+'"]')).val(e.val()),t.find(".ur-general-setting-block li:nth("+i+') input[data-field="default_value"]').val(e.val()),e.closest("li").find('[data-field="default_value"]').val(e.val())},trigger_general_setting_description:function(e){var t=c(".ur-selected-item.ur-item-active");t.find(".ur-field").find("textarea").attr("description",e.val()),t.find(".ur-general-setting-block").find('textarea[data-field="'+e.attr("data-field")+'"]').val(e.val())},trigger_general_setting_placeholder:function(e){var t=c(".ur-selected-item.ur-item-active");t.find(".ur-field").find("input").attr("placeholder",e.val()),t.find(".ur-general-setting-block").find('input[data-field="'+e.attr("data-field")+'"]').val(e.val())},trigger_general_setting_required:function(e){var t=c(".ur-selected-item.ur-item-active");t.find(".ur-general-setting-block").find('select[data-field="'+e.attr("data-field")+'"] option:selected').removeAttr("selected"),t.find(".ur-label").find("label").find("span:contains(*)").remove(),"yes"===e.val()&&t.find(".ur-label").find("label").append('<span style="color:red">*</span>'),t.find(".ur-general-setting-block").find('select[data-field="'+e.attr("data-field")+'"]').find('option[value="'+e.val()+'"]').attr("selected",!0)},trigger_general_setting_date_format:function(e){c(".ur-selected-item.ur-item-active").find(".ur-field").find("input").attr("placeholder",e.val())},trigger_general_setting_hide_label:function(e){var t=c(".ur-selected-item.ur-item-active");t.find(".ur-general-setting-block").find('select[data-field="'+e.attr("data-field")+'"] option:selected').removeAttr("selected"),"yes"===e.val()?t.find(".ur-label").find("label").hide():t.find(".ur-label").find("label").show(),t.find(".ur-general-setting-block").find('select[data-field="'+e.attr("data-field")+'"]').find('option[value="'+e.val()+'"]').attr("selected",!0)},trigger_advance_setting:function(e,t){var i,a=c(".ur-selected-item.ur-item-active"),n=e.attr("data-id"),r=a.find(".ur-advance-setting-block").find('[data-id="'+n+'"]');switch(t){case"input":r.val(e.val());break;case"select":r.find("option").prop("selected",!1),e.prop("multiple")?(i=e.val(),r.val(i)):r.find('option[value="'+e.val()+'"]').attr("selected","selected");break;case"textarea":r.val(e.val()),l.render_text_area(e.val())}},ur_alert:function(e,t){void 0===t&&(t={}),Swal.fire({icon:"error",title:t.title,text:e,customClass:"user-registration-swal2-modal user-registration-swal2-modal--center"})},init_choice_field_options:function(){c(document).on("sortstop",".ur-options-list",function(e,t){var i=c(this);l.handle_options_sort(i)}),c(document).on("click",".ur-options-list .add",function(e){e.preventDefault();e=c(this);l.add_choice_field_option(e)}),c(document).on("click",".ur-options-list .remove",function(e){e.preventDefault();e=c(this);l.remove_choice_field_option(e)})},handle_options_sort:function(e){l.ur_clone_options(e),$this.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?l.render_radio(e):$this.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?l.render_check_box(e):$this.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")&&l.render_multiple_choice(e)},ur_clone_options:function(e){var e=e.clone(!0,!0),t=c(".ur-selected-item.ur-item-active").find(".ur-general-setting-options .ur-options-list");t.html(""),t.replaceWith(e)},add_choice_field_option:function(e){var t=c(".ur-selected-item.ur-item-active"),i=e.parent("li").index(),a=e.parent("li").clone(!0,!0);a.find('input[data-field="options"]').val(""),a.find('input[data-field="default_value"]').prop("checked",!1),e.parent("li").after(a),t.find(".ur-general-setting-options .ur-options-list > li:nth( "+i+" )").after(a.clone(!0,!0)),e.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?l.render_radio(e):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?l.render_check_box(e):e.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")&&l.render_multiple_choice(e)},remove_choice_field_option:function(e){var t=e.closest("ul"),i=t.find("li"),a=c(".ur-selected-item.ur-item-active"),n=e.parent("li").index();1<t.find("li").length&&(e.parent("li").remove(),a.find(".ur-general-setting-options .ur-options-list > li:nth( "+n+" )").remove(),i.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?l.render_radio(i):i.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")?l.render_check_box(i):i.closest(".ur-general-setting-block").hasClass("ur-general-setting-multiple_choice")&&l.render_multiple_choice(i))}};l.init(),c(document).ready(function(){var i={};c(document.body).on("click","#load_flatpickr",function(){var e,a,n=c(this).data("id"),t=i[n];t||(e=c(this).closest(".ur-field-item").find("#formated_date").val(),a=(0<c(".ur-frontend-form").length?c(".ur-frontend-form #"+n):c(".woocommerce-MyAccount-content #"+n)).attr("type","text").val(e),c(this).attr("data-date-format",a.data("date-format")),c(this).attr("data-mode",a.data("mode")),c(this).attr("data-locale",a.data("locale")),c(this).attr("data-min-date",a.data("min-date")),c(this).attr("data-max-date",a.data("max-date")),c(this).attr("data-default-date",e),t=c(this).flatpickr({disableMobile:!0,onChange:function(e,t,i){c("#"+n).val(t)},onOpen:function(e,t,i){i.set("minDate",a.data("min-date")),i.set("maxDate",a.data("max-date"))}}),i[n]=t),t&&t.open()})}),c(document).on("click",".ur-toggle-heading",function(){c(this).hasClass("closed")?c(this).removeClass("closed"):c(this).addClass("closed");var e=c(this).find(" ~ .ur-registered-list")[0];c(e).slideToggle(),c(this).siblings(".ur-toggle-content").slideToggle()}),c(document.body).on("click",".ur-quick-links-content",function(e){e.stopPropagation()}),c(document.body).on("click",".ur-button-quick-links",function(e){e.stopPropagation(),c(".ur-quick-links-content").slideToggle()}),c(document.body).on("click",function(e){c(".ur-quick-links-content").is(":hidden")||c(".ur-quick-links-content").slideToggle()}),c.fn.select2.amd.require(["select2/selection/single","select2/selection/placeholder","select2/dropdown","select2/dropdown/search","select2/dropdown/attachBody","select2/utils","select2/selection/eventRelay"],function(e,t,i,a,n,r,s){function l(){}function d(){}o=r.Decorate(e,t),o=r.Decorate(o,s),u=r.Decorate(i,a),u=r.Decorate(u,n),l.prototype.render=function(e){var t=this,e=e.call(this),i=c('<button class="button button-secondary button-medium ur-unselect-all-countries-button" type="button">Unselect All</button>');return i.on("click",function(){t.$element.val([]),t.$element.trigger("change"),t.trigger("close")}),e.find(".select2-dropdown").prepend(i),e},u=r.Decorate(u,l),d.prototype.render=function(e){var i=this,e=e.call(this),t=c('<button class="button button-secondary button-medium ur-select-all-countries-button" type="button">Select All</button>');return t.on("click",function(){var e=i.$element.find("option"),t=[];e.each(function(){t.push(c(this).val())}),i.$element.val(t),i.$element.trigger("change"),i.trigger("close")}),e.find(".select2-dropdown").prepend(t),e},u=r.Decorate(u,d)})})}(jQuery,window.user_registration_form_builder_data);