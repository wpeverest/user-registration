!function(r){function e(){var e=function(e){var o=[];return r.each(e,function(r,e){o.push({option:e.id,type:e.type})}),o}(ur_login_form_params.login_settings),i=[];r.each(e,function(e,o){if("toggle"===o.type)var n=r("#"+o.option).is(":checked");else n=r("#"+o.option).val();i.push({option:o.option,value:n})});var n={action:"user_registration_login_settings_save_action",security:ur_login_form_params.ur_login_settings_save,data:{setting_data:i}};r.ajax({url:ur_login_form_params.ajax_url,data:n,type:"POST",beforeSend:function(){r(".ur_save_login_form_action_button").append('<span class="ur-spinner is-active"></span>')},complete:function(e){r(".ur_save_login_form_action_button").find(".ur-spinner").remove();var i=ur_login_form_params.i18n_admin.i18n_settings_successfully_saved;if(!0===e.responseJSON.success)o(i,"success");else{o(JSON.parse(e.responseText).data.message,"error")}}})}function o(e,o){var n=r(".ur-form-container").find(".ur-builder-message-container"),s=r("#wpadminbar"),t="";0===n.length&&(r(".ur-form-container").append('<div class="ur-builder-message-container"></div>'),(n=r(".ur-form-container").find(".ur-builder-message-container")).css({top:s.height()+"px"})),"success"===o?t='<div class="ur-message"><div class="ur-success"><p><strong>'+ur_login_form_params.i18n_admin.i18n_success+"! </strong>"+e+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>':(r(".ur-error").remove(),t='<div class="ur-message"><div class="ur-error"><p><strong>'+ur_login_form_params.i18n_admin.i18n_error+"! </strong>"+e+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>');var a=r(t).prependTo(n);setTimeout(function(){a.addClass("entered")},50),1==r(".ur-error").find(".ur-captcha-error").length?(r(".ur-error").css("width","490px"),setTimeout(function(){i(a)},5e3)):setTimeout(function(){i(a)},3e3)}function i(r){r.removeClass("entered").addClass("exiting"),setTimeout(function(){r.remove()},120)}function n(){var e=r("#user_registration_login_title").is(":checked"),o=r(".ur-login-form-wrapper").find(".ur-frontend-form.login"),i=r("#ur-field-settings").find("#user_registration_general_setting_login_form_title"),n=r("#ur-field-settings").find("#user_registration_general_setting_login_form_desc");e?(o.find(".user-registration-login-title").show(),o.find(".user-registration-login-description").show(),i.closest(".user-registration-login-form-global-settings").show(),n.closest(".user-registration-login-form-global-settings").show(),r(document).on("change keyup keydown","#user_registration_general_setting_login_form_title",function(){o.find(".user-registration-login-title").text(i.val())}),r(document).on("change keyup keydown","#user_registration_general_setting_login_form_desc",function(){o.find(".user-registration-login-description").text(n.val())})):(o.find(".user-registration-login-description").hide(),o.find(".user-registration-login-title").hide(),i.closest(".user-registration-login-form-global-settings").hide(),n.closest(".user-registration-login-form-global-settings").hide())}function s(){var e=r("#user_registration_login_options_remember_me").is(":checked");r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find("#rememberme").parent("label").css({opacity:e?1:.5}),e?r("#user_registration_label_remember_me").closest(".user-registration-login-form-global-settings").show().css("display","block"):r("#user_registration_label_remember_me").closest(".user-registration-login-form-global-settings").hide()}function t(){var e=r("#user_registration_login_options_lost_password").is(":checked");r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-LostPassword").css({opacity:e?1:.5})}function a(){var e=r("#user_registration_login_options_hide_labels").is(":checked"),o=r(".ur-login-form-wrapper").find(".ur-frontend-form.login");e?o.find(".user-registration-form-row label").hide():o.find(".user-registration-form-row label").show()}function l(){r("#user_registration_login_options_enable_recaptcha").is(":checked")?r("#user_registration_login_options_configured_captcha_type").closest(".user-registration-login-form-global-settings").show():r("#user_registration_login_options_configured_captcha_type").closest(".user-registration-login-form-global-settings").hide()}function g(){r("#user_registration_pro_general_setting_prevent_active_login").is(":checked")?r("#user_registration_pro_general_setting_limited_login").closest(".user-registration-login-form-global-settings").show():r("#user_registration_pro_general_setting_limited_login").closest(".user-registration-login-form-global-settings").hide()}function _(){var e=r("#user_registration_pro_passwordless_login").is(":checked"),o=r(".ur-login-form-wrapper").find(".ur-frontend-form.login");e?(o.find(".user-registration-passwordless-login").show(),r("#user_registration_pro_passwordless_login_default_login_area").closest(".user-registration-login-form-global-settings").show()):(o.find(".user-registration-passwordless-login").hide(),r("#user_registration_pro_passwordless_login_default_login_area").closest(".user-registration-login-form-global-settings").hide()),u(r("#user_registration_pro_passwordless_login_default_login_area"))}function u(e){var o=e.is(":checked"),i=r(".ur-login-form-wrapper").find(".ur-frontend-form.login");r("#user_registration_pro_passwordless_login").is(":checked")&&o?(i.find(".user-registration-passwordless-login").hide(),i.find(".password-input-group").closest(".form-row").hide(),i.find(".user-registration-before-login-btn").hide()):r("#user_registration_pro_passwordless_login").is(":checked")&&!o?(i.find(".user-registration-passwordless-login").show(),i.find(".password-input-group").closest(".form-row").show(),i.find(".user-registration-before-login-btn").show()):(i.find(".user-registration-passwordless-login").hide(),i.find(".password-input-group").closest(".form-row").show(),i.find(".user-registration-before-login-btn").show())}function d(){var e=r("#user_registration_pro_general_setting_login_form").is(":checked"),o=r(".ur-login-form-wrapper").find(".ur-frontend-form.login");e?o.find(".user-registration-form-row span.ur-icon").show():o.find(".user-registration-form-row span.ur-icon").hide()}var c={init:function(){c.init_form_builder(),r(document).on("click",".clickable-login-fields",function(){c.handle_selected_item(r(this))}),r(document).on("click",".ur-toggle-heading",function(){r(this).toggleClass("closed"),r(this).parent(".user-registration-field-option-group").toggleClass("closed").toggleClass("open");var e=r(this).find(" ~ .ur-registered-list")[0];r(e).slideToggle(),r(this).siblings(".ur-toggle-content").stop().slideToggle()}),r(document).on("click",'.user-registration-login-form-container ul.ur-tab-lists li[aria-controls="ur-tab-field-options"]',function(){r("form#ur-field-settings").hide(),r(".ur-login-form-wrapper").show()}),r(document).on("click",'.user-registration-login-form-container ul.ur-tab-lists li[aria-controls="ur-tab-login-form-settings"]',function(){r(".ur-login-form-wrapper").hide(),r("form#ur-field-settings").show()}),r('.clickable-login-fields[data-field="username"]').trigger("click")},init_form_builder:function(){r(".ur-tabs .ur-tab-lists").on("click","a.nav-tab",function(){r(".ur-tabs .ur-tab-lists").find("a.nav-tab").removeClass("active"),r(this).addClass("active")}),r(".ur-tabs").tabs(),r(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"])},handle_selected_item:function(e){var o=r(".clickable-login-fields"),i=r("#ur-tab-field-options div[data-field-key]"),n=e.data("field");o.removeClass("active"),e.addClass("active"),i.each(function(){r(this).addClass("ur-d-none"),r(this).data("field-key")===n&&r(this).removeClass("ur-d-none")})}};c.init(),r(document).ready(function(){if(l(),r(document).on("change","#user_registration_login_options_enable_recaptcha",function(){l()}),r(document).on("change","#user_registration_pro_general_setting_login_form",function(){d()}),d(),g(),r(document).on("change","#user_registration_pro_general_setting_prevent_active_login",function(){g()}),_(),r(document).on("change","#user_registration_pro_passwordless_login",function(){_()}),r(document).on("change","#user_registration_pro_passwordless_login_default_login_area",function(){u(r(this))}),r("#user_registration_login_options_form_template").on("change",function(){var e=r("#user_registration_login_options_form_template").val(),o=r(".ur-login-form-wrapper").find(".ur-frontend-form.login");o.removeClass("ur-frontend-form--rounded-edge"),o.removeClass("ur-frontend-form--rounded"),o.removeClass("ur-frontend-form--flat"),o.removeClass("ur-frontend-form--bordered"),"default"!==e&&(e="rounded_edge"===e?"rounded ur-frontend-form--rounded-edge":e,o.addClass("ur-frontend-form--"+e))}),r(document).on("change","#user_registration_login_title",function(r){n()}),n(),r(document).on("change","#user_registration_login_options_remember_me",function(r){s()}),s(),r(document).on("change","#user_registration_login_options_lost_password",function(r){t()}),t(),r(document).on("change","#user_registration_login_options_hide_labels",function(r){a()}),a(),r("#user_registration_general_setting_registration_label").on("keyup",function(){var e=r("#user_registration_general_setting_registration_label").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-register a").html(e)}),r("#user_registration_label_lost_your_password").on("keyup",function(){var e=r("#user_registration_label_lost_your_password").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-LostPassword a").html(e)}),r("#user_registration_label_login").on("keyup",function(){var e=r("#user_registration_label_login").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-Button").html(e)}),r("#user_registration_label_remember_me").on("keyup",function(){var e=r("#user_registration_label_remember_me").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-form__label-for-checkbox span").html(e)}),r("#user_registration_label_password").on("keyup",function(){var e=r("#user_registration_label_password").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-form-row label[for='password']").html(e+'<span class="required">*</span>')}),r("#user_registration_label_username_or_email").on("keyup",function(){var e=r("#user_registration_label_username_or_email").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-form-row label[for='username']").html(e+'<span class="required">*</span>')}),r("#user_registration_placeholder_username_or_email").on("keyup",function(){var e=r("#user_registration_placeholder_username_or_email").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-form-row #username").attr("placeholder",e)}),r("#user_registration_placeholder_password").on("keyup",function(){var e=r("#user_registration_placeholder_password").val();r(".ur-login-form-wrapper").find(".ur-frontend-form.login").find(".user-registration-form-row #password").attr("placeholder",e)}),r(".ur-redirect-to-login-page").ready(function(){var e=r(".ur-redirect-to-login-page"),o=r("#user_registration_login_options_prevent_core_login"),i=r("#user_registration_login_options_login_redirect_url");if(console.log(o.is(":checked")),o.is(":checked")){var n=o.closest(".ur-login-form-setting-block").find(".ur-redirect-to-login-page").val(),s=o.closest(".user-registration-login-form-container"),t=r(s).closest("#wpbody-content");""===n?o.closest(".ur-login-form-setting-block").find(".ur-redirect-to-login-page").closest(".user-registration-login-form-global-settings--field").append('<div class="error inline" style="padding:10px;">'+ur_login_form_params.user_registration_membership_redirect_default_page_message+"</div>"):(r(t).find("#ur-lists-page-topnav").find(".ur_save_login_form_action_button").prop("disabled",!1),o.closest(".ur-login-form-setting-block").find(".ur-redirect-to-login-page").closest(".user-registration-login-form-global-settings--field").find(".error.inline").remove()),i.prop("required",!0)}else e.val("").closest(".single_select_page").css("display","none");r('select[name="user_registration_login_options_login_redirect_url"]').on("select2:unselect",function(){o.closest(".ur-login-form-setting-block").find(".ur-redirect-to-login-page").closest(".user-registration-login-form-global-settings--field").append('<div class="error inline" style="padding:10px;">'+ur_login_form_params.user_registration_membership_redirect_default_page_message+"</div>"),i.prop("required",!0)})}),r("#user_registration_login_options_prevent_core_login").on("change",function(){var e=r("#user_registration_login_options_prevent_core_login");r(".single_select_page").toggle(),r("#user_registration_login_options_login_redirect_url").prop("required",function(){return"checked"===e.prop("checked")})}),ur_login_form_params.is_login_settings_page){r(window).on("keydown",function(r){if((r.ctrlKey||r.metaKey)&&("s"===String.fromCharCode(r.which).toLowerCase()||83===r.which))return r.preventDefault(),e(),!1});r("#toplevel_page_user-registration").find(".wp-submenu").find('li a[href="admin.php?page=user-registration"]').first().closest("li").addClass("current")}r(".ur_save_login_form_action_button").on("click",function(){e()}),r(".ur-submit-button.ur-disabled-btn").on("click",function(r){r.preventDefault()})})}(jQuery);