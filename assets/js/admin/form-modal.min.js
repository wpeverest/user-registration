!function(e){e(function(){var t=function(){e("#ur-modal-select-form").length&&(e("#ur-modal-select-form").get(0).selectedIndex=0),e("#ur-modal-backdrop, #ur-modal-wrap").css("display","none"),e(document.body).removeClass("modal-open")};e(document).on("click",".ur-insert-form-button",function(t){t.preventDefault(),e("#ur-modal-backdrop, #ur-modal-wrap").css("display","block"),e(document.body).addClass("modal-open")}),e(document).on("click",".ur-reset-content-button",function(t){t.preventDefault(),Swal.fire({title:"Reset to Default",text:"Are you sure you want to reset the email content to the default?",icon:"warning",showCancelButton:!0,cancelButtonColor:"#fafafa",confirmButtonText:"Yes, Reset",cancelButtonText:"Cancel"}).then(function(t){if(t.isConfirmed){var n=new URLSearchParams(window.location.search).get("section");if(n){var o=n.replace(/^ur_settings_/,"user_registration_"),r="undefined"!=typeof tinymce?tinymce.get(o):null;if(r&&!r.isHidden()){var a=user_registration_email_settings[n].replace(/\n\n/g,"<br>").replace(/\t/g,"");r.setContent(a)}else{var i=e("textarea#"+o);if(i.length){a=user_registration_email_settings[n].replace(/\t/g,"");i.val(a)}}}}})}),e(document).on("click","#ur-modal-close, #ur-modal-cancel a",function(e){e.preventDefault(),t()}),e(document).on("click","#ur-modal-submit",function(n){n.preventDefault();var o;o='[user_registration_form id="'+e("#ur-modal-select-form").val()+'"',o+="]",wp.media.editor.insert(o),t()}),e(document).on("change","#select-smart-tags",function(n){n.preventDefault();var o;o=e(this).val(),wp.media.editor.insert(o),t(),e("#select-smart-tags").val(e("#select-smart-tags option:first").val())}),e("#ur-pro-popups-tab, #ur-endpoints-tab").on("change",function(t){var n=e(t.target),o=n.closest("#posttype-user-registration-modal, #posttype-user-registration-endpoints").find(".menu-item-checkbox"),r=!1;n.is(":checked")&&(r=!0),o.each(function(t,n){e(n).prop("checked",r)})}),e("#posttype-user-registration-modal, #posttype-user-registration-endpoints").find(".menu-item-checkbox").on("change",function(t){var n=e(t.target),o=!0;n.closest("ul").find(".menu-item-checkbox").each(function(t,n){if(e(n).is(":checked")||(o=!1),!o)return!1});var r=n.closest("#posttype-user-registration-modal, #posttype-user-registration-endpoints").find(".select-all");o?r.prop("checked",!0):r.prop("checked",!1)})})}(jQuery);