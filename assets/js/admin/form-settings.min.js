!function(t){var i=UR_Form_Settings={init:function(){t(document).ready(UR_Form_Settings.ready)},ready:function(){UR_Form_Settings.initSettings()},initSettings:function(){i.initImageUploader()},initImageUploader:function(){t(".form-row.ur-image-uploader").each(function(i,e){t(e).find("input").hide();var n=t(e).find(".input-wrapper").append('<div class="ur-image-uploader-wrapper"><img src="#" style="display:none"><div class="ur-image-uploader-btns-wrapper"><button class="ur-file-upload-button button" style="display:none">Upload</button><button class="ur-file-remove-button button button-danger" style="display:none">Remove</button></div></div>'),o=t(e).find("input").val();o.length?(n.find("img").attr("src",o).show(),n.find("button.ur-file-remove-button").show()):n.find("button.ur-file-upload-button").show(),n.find("button.ur-file-upload-button").click(function(i){i.preventDefault();var e=t(this),n=wp.media({library:{type:["image"]},title:e.upload_file,multiple:!1}).open().on("select",function(){var t=n.state().get("selection").first().toJSON().url;t.length&&(e.closest(".ur-image-uploader-wrapper").find("img").attr("src",t).show(),e.closest(".input-wrapper").find("input").attr("value",t),e.siblings("button.ur-file-remove-button").show(),e.hide())})}),n.find("button.ur-file-remove-button").click(function(i){i.preventDefault(),t(this).closest(".input-wrapper").find("input").attr("value",""),t(this).closest(".ur-image-uploader-wrapper").find("img").hide(),t(this).hide(),t(this).siblings("button.ur-file-upload-button").show()})})}};UR_Form_Settings.init()}(jQuery);