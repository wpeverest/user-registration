function ur_init_tooltips(e,t){if(undefined!==e&&null!==e&&""!==e){var i={attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200,keepAlive:!0};t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),"string"==typeof e?jQuery(e).tipTip(i):e.tipTip(i)}}function ur_alert(e,t){void 0===t&&(t={}),Swal.fire({type:"error",title:t.title,text:e,customClass:"user-registration-swal2-modal user-registration-swal2-modal--center"})}function ur_confirmation(e,t){void 0===t&&(t={});var i='<i class="dashicons dashicons-trash"></i><span class="user-registration-swal2-modal__title">'+t.title;Swal.fire({customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",title:i,text:e,showCancelButton:"undefined"==typeof t.showCancelButton||t.showCancelButton,confirmButtonText:"undefined"!=typeof t.confirmButtonText?t.confirmButtonText:user_registration_admin_data.i18n_admin.i18n_choice_delete,confirmButtonColor:"#ff4149",cancelButtonText:"undefined"!=typeof t.cancelButtonText?t.cancelButtonText:user_registration_admin_data.i18n_admin.i18n_choice_cancel}).then(function(e){e.value?t.confirm():t.reject()})}jQuery(function(e){e(document.body).on("input",".ur_advance_setting.ur-settings-min",function(){e(".ur-selected-item.ur-item-active .ur_advance_setting.ur-settings-min").val(e(this).val())}),e(document.body).on("input",".ur_advance_setting.ur-settings-max",function(){e(".ur-selected-item.ur-item-active .ur_advance_setting.ur-settings-max").val(e(this).val())}),e(document.body).on("input",".ur_advance_setting.ur-settings-step",function(){e(".ur-selected-item.ur-item-active .ur_advance_setting.ur-settings-step").val(e(this).val())}),e(document.body).on("input","#ur-search-fields",function(){var t=e(this).val().toLowerCase();e(".ur-registered-item").each(function(){e(this).text().toLowerCase().search(t)>-1?(e(this).addClass("ur-searched-item"),e(this).show()):(e(this).removeClass("ur-searched-item"),e(this).hide())}),e(".ur-registered-list").each(function(){var t=e(this).find(".ur-registered-item.ur-searched-item").length,i=e(this).prev("hr"),r=e(this).prev("hr").prev(".ur-toggle-heading");0===t?(i.hide(),r.hide()):(i.show(),r.show())}),e(".ur-registered-item.ur-searched-item").length?e(".ur-fields-not-found").hide():e(".ur-fields-not-found").show()}),e(document).on("mousedown",".ur-upgradable-field",function(t){t.preventDefault();var i=e(this).text(),r='<i class="dashicons dashicons-lock"></i><span class="user-registration-swal2-modal__title">'+i+" is a premium field.</span>",n=i+" field is locked. Upgrade to <strong>"+e(this).data("plan")+"</strong> to unlock this field.";Swal.fire({title:r,html:n,customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",showCloseButton:!0,confirmButtonText:"View Pricing"}).then(function(e){if(e.value){window.open("https://wpeverest.com/wordpress-plugins/user-registration/pricing/?utm_source=pro-fields&utm_medium=popup-button&utm_campaign=ur-upgrade-to-pro","_blank")}})}),e(window).on("resize orientationchange",function(){var t;clearTimeout(t),t=setTimeout(function(){e(document.body).trigger("adjust_builder_width")},250)}),e(document.body).on("click","#collapse-button",function(){e(document.body).trigger("ur_adjust_builder_width")}),e(document.body).on("ur_adjust_builder_width",function(){var t=e("#adminmenuwrap").width(),i=e(".user-registration_page_add-new-registration .ur-form-subcontainer .menu-edit"),r=e(".user-registration_page_add-new-registration .ur-form-subcontainer .ur-loading-container");i.css({left:t+"px"}),r.fadeOut(1e3)}).trigger("ur_adjust_builder_width"),e(document.body).on("click",".user-registration-editable-title__icon",function(){var t=e(this).siblings(".user-registration-editable-title__input");t.hasClass("is-editing")||t.focus(),t.toggleClass("is-editing"),t.attr("data-editing","true"==t.attr("data-editing")?"false":"true")}),e(document.body).not(e(".user-registration-editable-title")).click(function(t){var i=e(".user-registration-editable-title__input");"ur-form-name"!==t.target.id&&"ur-form-name-edit-button"!==t.target.id&&!i.attr("hidden")&&i.hasClass("is-editing")&&(t.stopPropagation(),"true"!==i.data("data-editing")&&i.val()&&""!==i.val().trim()&&i.toggleClass("is-editing").trigger("blur").attr("data-editing","true"==i.attr("data-editing")?"false":"true"))}),e(document).on("init_perfect_scrollbar update_perfect_scrollbar",function(){if("undefined"!=typeof PerfectScrollbar){var t=e(".ur-tab-contents");t.length>=1&&"undefined"==typeof window.ur_tab_scrollbar?window.ur_tab_scrollbar=new PerfectScrollbar(document.querySelector(".ur-tab-contents"),{suppressScrollX:!0}):"undefined"!=typeof window.ur_tab_scrollbar&&(window.ur_tab_scrollbar.update(),t.scrollTop(0))}}),e(document).ready(function(){e(document).trigger("init_perfect_scrollbar");var t=e(".ur-selected-inputs"),i=e(".ur-registered-inputs nav").find("#ur-tab-field-settings");i.find("form").appendTo(t),t.find("form #ur-field-all-settings > div").each(function(t,r){var n=e(r).find("h3").text(),a=e(r).attr("id");i.append('<div id="'+a+'" class="form-settings-tab">'+n+"</div>"),e(r).hide()}),i.find("#general-settings").addClass("active"),t.find("#ur-field-all-settings div#general-settings").show(),i.find(".form-settings-tab").on("click",function(){this_id=e(this).attr("id"),e(this).siblings().removeClass("active"),e(this).addClass("active"),t.find("form #ur-field-all-settings > div").hide(),t.find("form #ur-field-all-settings > div#"+this_id).show(),e(document).trigger("update_perfect_scrollbar"),e(".ur-builder-wrapper").scrollTop(0)})}),e(document).on("click",'.ur-tab-lists li[role="tab"] a.nav-tab',function(t,i){e(document).trigger("update_perfect_scrollbar"),"triggered_click"!=i&&(e(".ur-builder-wrapper").scrollTop(0),e(".ur-builder-wrapper-content").scrollTop(0))}),e(document).on("click",'.ur-tab-lists li[aria-controls="ur-tab-field-settings"]',function(){e(".ur-builder-wrapper-content").hide(),e(".ur-builder-wrapper-footer").hide(),e(".ur-selected-inputs").find("form#ur-field-settings").show()}),e(document).on("click",'ul.ur-tab-lists li[aria-controls="ur-tab-registered-fields"]',function(){e(".ur-builder-wrapper-content").show(),e(".ur-builder-wrapper-footer").show(),e(".ur-selected-inputs").find("form#ur-field-settings").hide()});var t=e("#general-settings").find("#user_registration_form_setting_minimum_password_strength_field"),i=e("#general-settings").find("#user_registration_form_setting_enable_strong_password_field input#user_registration_form_setting_enable_strong_password"),r=i.is(":checked");"yes"===r||!0===r?t.show():t.hide(),e(i).change(function(){"yes"===(r=e(this).is(":checked"))||!0===r?t.show("slow"):t.hide("slow")}),e(document.body).on("init_tooltips",function(){ur_init_tooltips(".tips, .help_tip, .user-registration-help-tip"),ur_init_tooltips(".ur-copy-shortcode, #ur-setting-form .ur-portal-tooltip",{keepAlive:!1}),e(".parent-tips").each(function(){e(this).closest("a, th").attr("data-tip",e(this).data("tip")).tipTip(tiptip_args).css("cursor","help")})}).trigger("init_tooltips"),e("body").on("keypress","#ur-form-name",function(t){13===t.which&&e("#save_form_footer").eq(0).trigger("click")}),e("#ur-full-screen-mode").on("click",function(t){t.preventDefault();var i=e(this);i.hasClass("closed")?(i.removeClass("closed"),i.addClass("opened"),e("body").addClass("ur-full-screen-mode")):(i.removeClass("opened"),i.addClass("closed"),e("body").removeClass("ur-full-screen-mode"))}),e(document).on("keyup",function(t){"Escape"===t.key&&e("#ur-full-screen-mode.opened").trigger("click")}),e("input.input-color").wpColorPicker()}),function(e,t){function i(){var i=function(){var i=e.makeArray(t.form_one_time_draggable_fields),r=e.makeArray(t.form_required_fields),n={validation_status:!0,message:""};if(0===e(".ur-selected-item").length)return n.validation_status=!1,n.message=t.i18n_admin.i18n_at_least_one_field_need_to_select,n;if(""===e("#ur-form-name").val())return n.validation_status=!1,n.message=t.i18n_admin.i18n_empty_form_name,n;if(e(".ur_save_form_action_button").find(".ur-spinner").length>0)return n.validation_status=!1,n.message=t.i18n_admin.i18n_previous_save_action_ongoing,n;e.each(e(".ur-selected-item select.ur-settings-selected-countries"),function(){var i=e(this).val();if(!i||Array.isArray(i)&&0===i.length)return n.validation_status=!1,n.message=t.i18n_admin.i18n_select_countries,n}),e.each(e('.ur-input-grids .ur-general-setting-block input[data-field="field_name"]'),function(){var i,r=e(this),a=!1;try{var s=r.val(),l=e(".ur-input-grids .ur-general-setting-block").find('input[data-field="field_name"][value="'+s+'"]').length;if(l>1)throw t.i18n_admin.i18n_duplicate_field_name;if(""===r.closest(".ur-general-setting-block").find('input[data-field="label"]').val())throw r=r.closest(".ur-general-setting-block").find('input[data-field="label"]'),t.i18n_admin.i18n_empty_field_label;var d=s.match(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/gm);if(null===d||1!==d.length||d[0]!==s)throw t.i18n_admin.i18n_invald_field_name}catch(o){n.validation_status=!1,n.message=o.message===undefined?o:o.message,r.closest(".ur-selected-item").trigger("click"),i=r.attr("data-field"),e("#ur-setting-form").find('input[data-field="'+i+'"]').css({border:"1px solid red"}),setTimeout(function(){e("#ur-setting-form").find('input[data-field="'+i+'"]').removeAttr("style")},2e3),a=!0}if(a)return!1});for(var a=0;a<i.length;a++)if(e(".ur-input-grids").find('.ur-field[data-field-key="'+i[a]+'"]').length>1){n.validation_status=!1,n.message=t.i18n_admin.i18n_multiple_field_key+i[a];break}for(var s=0;s<r.length;s++)if(0===e(".ur-input-grids").find('.ur-field[data-field-key="'+r[s]+'"]').length){if(n.validation_status=!1,0===s)var l=t.i18n_admin.i18n_user_email;else if(1===s)var l=t.i18n_admin.i18n_user_password;n.message=l+" "+t.i18n_admin.i18n_field_is_required;break}return n}();if(!1!==i.validation_status){var n=function(){var t=[],i=e(".ur-input-grids .ur-single-row");return e.each(i,function(){var i=e(this).find(".ur-grid-list-item"),r=[];e.each(i,function(){var t=function(t){var i=t.find(".ur-selected-item"),r=[];return e.each(i,function(){var t=e(this),i={field_key:t.find(".ur-field").attr("data-field-key"),general_setting:function(t){var i=t.find(".ur-general-setting-block").find(".ur-general-setting-field"),r={},n=[],s=[];return e.each(i,function(){var t=e(this).closest(".ur-general-setting").hasClass("ur-setting-checkbox");if("options"===e(this).attr("data-field")){var i=e.trim(a(e(this)));n.every(function(e){return e!==i})&&(r.options=n.push(i),r.options=n)}else"default_value"===e(this).attr("data-field")?!0===t?e(this).is(":checked")&&(r.default_value=s.push(a(e(this))),r.default_value=s):e(this).is(":checked")&&(r.default_value=a(e(this))):"html"===e(this).attr("data-field")?r[e(this).attr("data-field")]=a(e(this)).replace(/"/g,"'"):r[e(this).attr("data-field")]=a(e(this))}),r}(t),advance_setting:function(t){var i=t.find(".ur-advance-setting-block").find(".ur_advance_setting"),r={};return e.each(i,function(){r[e(this).attr("data-advance-field")]=a(e(this))}),r}(t)};r.push(i)}),r}(e(this));r.push(t)}),t.push(r)}),t}(),s=function(){var t=[],i=e(".ur-input-grids .ur-single-row");return e.each(i,function(){t.push(e(this).attr("data-row-id"))}),t}(),l=e("#ur_form_id").val();g(t.post_id)!==g(l)&&(l=0);var d=e("#ur-field-settings :not(.urcl-user-role-field, .uret-override-content-field)").serializeArray(),o=function(){var t=[],i=e(".urcl-role-logic-wrap");return e.each(i,function(){var i=e(this).find(".urcl-user-role-field"),r=[],n=[],a="";e.each(i,function(){$field_key=e(this).attr("name").split("["),"user_registration_form_conditional_user_role"===$field_key[0]&&(a=e(this).val(),i.splice(e(this),1))});var s=e(this).find(".urcl-conditional-group");e.each(s,function(){var t=[],i=e(this).find(".urcl-user-role-field");e.each(i,function(){var i={field_key:e(this).attr("name"),field_value:e(this).val()};t.push(i)}),r.push(t)});var l=e(this).find(".urcl-or-groups");e.each(l,function(){var t=e(this).find(".urcl-conditional-or-group"),i=[];e.each(t,function(){var t=[],r=e(this).find(".urcl-user-role-field");e.each(r,function(){var i={field_key:e(this).attr("name"),field_value:e(this).val()};t.push(i)}),i.push(t)}),n.push(i)});var d={assign_role:a,conditions:r,or_conditions:n};t.push(d)}),t}(),u=function(){var t={},i=e(".user-registration-email-template-content-wrap");return e.each(i,function(){var i=e(this).find(".user-registration-card__header"),r=e(this).find(".user-registration-card__body");t[e(this).prop("id")]={title:i.find(".user-registration-card__title ").text(),description:i.find(".user-registration-help-tip").data("description"),override:i.find("#uret_override_"+e(this).prop("id")).hasClass("enabled")?1:0,subject:r.find(".uret_subject_input").val(),content:r.find("#user_registration_"+e(this).prop("id")+"_content").val()}}),t}(),c=e("#ur-multi-part-page-settings").serializeArray(),f={action:"user_registration_form_save_action",security:t.ur_form_save,data:{form_data:JSON.stringify(n),form_row_ids:JSON.stringify(s),form_name:e("#ur-form-name").val(),form_id:l,form_setting_data:d,conditional_roles_settings_data:o,email_content_override_settings_data:u,multipart_page_setting:c}};e.ajax({url:t.ajax_url,data:f,type:"POST",beforeSend:function(){e(".ur_save_form_action_button").append('<span class="ur-spinner is-active"></span>'),e(".ur-notices").remove()},complete:function(i){if(e(".ur_save_form_action_button").find(".ur-spinner").remove(),!0===i.responseJSON.success){var n=t.i18n_admin.i18n_form_successfully_saved;if("1"!==t.is_edit_form){message_body="<p>Want to create a login form as well? Check this <a target='_blank' href='https://docs.wpeverest.com/docs/user-registration/registration-form-and-login-form/how-to-show-login-form/'>link</a>. To know more about other cool features check our <a target='_blank' href='https://docs.wpeverest.com/docs/user-registration/'>docs</a>.</p>",Swal.fire({type:"success",title:"Form successfully created.",html:message_body}).then(function(e){0===parseInt(l)&&(window.location=t.admin_url+i.responseJSON.data.post_id)})}else r(n,"success"),0===parseInt(l)&&(window.location=t.admin_url+i.responseJSON.data.post_id)}else{r(i.responseJSON.data.message)}}})}else r(i.message)}function r(i,r){var a=e(".ur-form-container").find(".ur-builder-message-container"),s=e("#wpadminbar"),l="";0===a.length&&(e(".ur-form-container").append('<div class="ur-builder-message-container"></div>'),(a=e(".ur-form-container").find(".ur-builder-message-container")).css({top:s.height()+"px"})),l="success"===r?'<div class="ur-message"><div class="ur-success"><p><strong>'+t.i18n_admin.i18n_success+"! </strong>"+i+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>':'<div class="ur-message"><div class="ur-error"><p><strong>'+t.i18n_admin.i18n_error+"! </strong>"+i+'</p><span class="dashicons dashicons-no-alt ur-message-close"></span></div></div>';var d=e(l).prependTo(a);setTimeout(function(){d.addClass("entered")},50),setTimeout(function(){n(d)},2e3)}function n(e){e.removeClass("entered").addClass("exiting"),setTimeout(function(){e.remove()},120)}function a(e){var t="";switch(e.get(0).tagName.toLowerCase()){case"input":switch(e.attr("type")){case"checkbox":e.is(":checked")&&(t=e.val());break;default:t=e.val()}break;case"select":case"textarea":t=e.val()}return t}function s(){var t=e(".ur-general-setting-field");e.each(t,function(){var t=e(this);switch(t.attr("data-field")){case"label":t.on("keyup",function(){!function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-label").find("label").text(t.val()),i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').attr("value",t.val());var r=e(".ur-selected-item.ur-item-active .ur-general-setting").find("[data-field='field_name']").val();e('[class*="urcl-settings-rules_field_"] option[value="'+r+'"]').text(t.val()),e('[class*="urcl-field-conditional-field-select"] option[value="'+r+'"]').text(t.val())}(e(this))});break;case"field_name":case"max_files":case"input_mask":t.on("change",function(){!function(t){var i=e(".ur-selected-item.ur-item-active"),r=i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').attr("value");i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').attr("value",t.val()),e('[class*="urcl-settings-rules_field_"] option[value="'+r+'"]').attr("value",t.val()),e('[class*="urcl-field-conditional-field-select"] option[value="'+r+'"]').attr("value",t.val())}(e(this))});case"default_value":t.on("change",function(){"default_value"===t.attr("data-field")&&(t.closest(".ur-general-setting-block").hasClass("ur-general-setting-select")?u(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?o(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")&&d(e(this)))});break;case"options":t.on("keyup",function(){t.closest(".ur-general-setting-block").hasClass("ur-general-setting-select")&&t.siblings('input[data-field="default_value"]').is(":checked")?u(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?o(e(this)):t.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")&&d(e(this)),function(t){var i=e(".ur-selected-item.ur-item-active"),r=t.closest("li").index();i.find(".ur-general-setting-block li:nth("+r+') input[data-field="'+t.attr("data-field")+'"]').val(t.val()),i.find(".ur-general-setting-block li:nth("+r+') input[data-field="default_value"]').val(t.val()),t.closest("li").find('[data-field="default_value"]').val(t.val())}(e(this))});break;case"placeholder":t.on("keyup",function(){!function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-field").find("input").attr("placeholder",t.val()),i.find(".ur-general-setting-block").find('input[data-field="'+t.attr("data-field")+'"]').val(t.val())}(e(this))});break;case"required":t.on("change",function(){!function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-label").find("label").find("span").remove(),"yes"===t.val()&&i.find(".ur-label").find("label").append('<span style="color:red">*</span>');i.find(".ur-general-setting-block").find('select[data-field="'+t.attr("data-field")+'"]').find('option[value="'+t.val()+'"]').attr("selected","selected")}(e(this))});break;case"hide_label":t.on("change",function(){!function(t){e(".ur-selected-item.ur-item-active").find(".ur-general-setting-block").find('select[data-field="'+t.attr("data-field")+'"]').find('option[value="'+t.val()+'"]').attr("selected","selected")}(e(this))});break;case"description":case"html":t.on("keyup",function(){!function(t){var i=e(".ur-selected-item.ur-item-active");i.find(".ur-field").find("textarea").attr("description",t.val()),i.find(".ur-general-setting-block").find('textarea[data-field="'+t.attr("data-field")+'"]').val(t.val())}(e(this))})}});var i=e("#ur-setting-form .ur_advance_setting");e(".ur-settings-enable-min-max").on("change",function(){"true"===e(this).val()?(e(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").show(),e(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").show(),e("#ur-setting-form .ur-settings-min-date").addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,onChange:function(t,i,r){e(".ur-item-active .ur-settings-min-date").val(i)},onOpen:function(t,i,r){r.set("maxDate",new Date(e(".ur-item-active .ur-settings-max-date").val()))}}),e("#ur-setting-form .ur-settings-max-date").addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,onChange:function(t,i,r){e(".ur-item-active .ur-settings-max-date").val(i)},onOpen:function(t,i,r){r.set("minDate",new Date(e(".ur-item-active .ur-settings-min-date").val()))}})):(e(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").hide(),e(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").hide())}),e.each(i,function(){var t=e(this);switch(t.attr("data-advance-field")){case"date_format":t.on("change",function(){!function(t){e(".ur-selected-item.ur-item-active").find(".ur-field").find("input").attr("placeholder",t.val())}(e(this))});break;case"min_date":"true"===e(".ur-item-active").find(".ur-settings-enable-min-max").val()?e(this).addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,defaultDate:new Date(e(".ur-item-active").find(".ur-settings-min-date").val()),onChange:function(t,i,r){e(".ur-item-active").find(".ur-settings-min-date").val(i)},onOpen:function(t,i,r){r.set("maxDate",new Date(e(".ur-item-active").find(".ur-settings-max-date").val()))}}):e(".ur-item-active .ur-advance-min_date, #ur-setting-form .ur-advance-min_date").hide();break;case"max_date":"true"===e(".ur-item-active").find(".ur-settings-enable-min-max").val()?e(this).addClass("flatpickr-field").flatpickr({disableMobile:!0,"static":!0,defaultDate:new Date(e(".ur-item-active").find(".ur-settings-max-date").val()),onChange:function(t,i,r){e(".ur-item-active").find(".ur-settings-max-date").val(i)},onOpen:function(t,i,r){r.set("minDate",new Date(e(".ur-item-active .ur-settings-min-date").val()))}}):e(".ur-item-active .ur-advance-max_date, #ur-setting-form .ur-advance-max_date").hide()}var i=t.get(0).tagName.toLowerCase();"country_advance_setting_default_value"===t.attr("data-id")&&e(".ur-builder-wrapper #ur-input-type-country").find('option[value="'+t.val()+'"]').attr("selected","selected");var r="change";switch(i){case"input":r="keyup";break;case"select":r="change";break;case"textarea":r="keyup";break;default:r="change"}"valid_file_type"===t.attr("data-advance-field")&&t.select2(),e(this).on(r,function(){l(t,i)}),e(this).on("paste",function(){l(t,i)})})}function l(t,i){var r=e(".ur-selected-item.ur-item-active"),n=t.attr("data-id"),a=r.find(".ur-advance-setting-block").find('[data-id="'+n+'"]');switch(i){case"input":a.val(t.val());break;case"select":if(a.find("option").removeAttr("selected"),t.prop("multiple")){var s=t.val();a.val(s)}else a.find('option[value="'+t.val()+'"]').attr("selected","selected");break;case"textarea":a.val(t.val()),function(t){switch(e(".ur-selected-item.ur-item-active").find(".ur-field").attr("data-field-key")){case"select":u(t);break;case"checkbox":d(t);break;case"radio":o(t)}}(t.val())}}function d(t){var i=[],r=t.closest("ul").find("li"),n=t.closest("li").index();r.each(function(t,r){var n=e(r).find("input.ur-type-checkbox-label").val();n=e.trim(n),s=e(r).find("input.ur-type-checkbox-value").is(":checked"),i.every(function(e){return e.value!==n})&&i.push({value:n,checkbox:s})});var a=e(".ur-selected-item.ur-item-active"),s=a.find(".ur-field");s.html("");for(var l=0;l<i.length;l++)""!==i[l]&&s.append('<label><input value="'+i[l].value.trim()+'" type="checkbox" '+(i[l].checkbox?"checked":"")+" disabled>"+i[l].value.trim()+"</label>");"checkbox"===t.attr("type")&&(t.is(":checked")?a.find(".ur-general-setting-options li:nth("+n+') input[data-field="default_value"]').prop("checked",!0):a.find(".ur-general-setting-options li:nth("+n+') input[data-field="default_value"]').removeAttr("checked"))}function o(t){var i=t.closest("ul").find("li"),r=undefined,n=[];i.each(function(t,i){var a=e(i).find("input.ur-type-radio-label").val();a=e.trim(a),!0===(s=e(i).find("input.ur-type-radio-value").is(":checked"))&&(r=t),n.every(function(e){return e.value!==a})&&n.push({value:a,radio:s})});var a=e(".ur-selected-item.ur-item-active"),s=a.find(".ur-field");s.html("");for(var l=0;l<n.length;l++)""!==n[l]&&s.append('<label><input value="'+n[l].value.trim()+'" type="radio" '+(n[l].radio?"checked":"")+" disabled>"+n[l].value.trim()+"</label>");a.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(t,i){var n=e(i).find('[data-field="default_value"]');t===r?n.prop("checked",!0):n.removeAttr("checked")})}function u(t){var i=e.trim(t.val()),r=e(".ur-selected-item.ur-item-active"),n=t.closest("li").index(),a=r.find(".ur-field").find("select");a.html(""),a.append("<option value='"+i+"'>"+i+"</option>"),r.find(".ur-general-setting-options > ul.ur-options-list > li").each(function(t,i){var r=e(i).find('[data-field="default_value"]');t===n?r.prop("checked",!0):r.removeAttr("checked")})}function c(){var i=t.form_one_time_draggable_fields,r=e("#ur-tab-registered-fields").find("ul.ur-registered-list");e.each(r.find("li"),function(){var t=e(this),r=e(this).attr("data-field-id").replace("user_registration_","");e.inArray(r,i)>=0&&(e(".ur-input-grids").find('.ur-field[data-field-key="'+r+'"]').length>0?t.draggable("disable"):t.draggable("enable"))})}function f(t){e(".ur-grid-lists .ur-selected-item .ur-general-setting").each(function(){var i=e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-label label").text(),r=e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-field").data("field-key");if("section_title"!=r&&"html"!=r&&"wysiwyg"!=r&&"billing_address_title"!=r&&"shipping_address_title"!=r){var n=e(this).find("[data-field='field_name']").val();if(void 0!==n){!1===e(".urcl-field-conditional-field-select option[value='"+n+"']").length>0&&e('[class*="urcl-field-conditional-field-select"]').append('<option value ="'+n+'" data-type="'+r+'">'+i+" </option>");!1===e(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1 option[value='"+n+"']").length>0?(e('[class*="urcl-settings-rules_field_"]').append('<option value ="'+n+'" data-type="'+r+'">'+i+" </option>"),n==t&&e('.urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields option[value="'+t+'"]').remove()):e(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields").append('<option value ="'+n+'" data-type="'+r+'">'+i+" </option>")}}}),e(".urcl-rules select.ur_advance_setting.urcl-settings-rules_field_1.empty-fields").removeClass("empty-fields")}function g(e){return parseInt(e,0)}t.i18n_admin;e(function(){({init:function(){e(document.body).on("click",".column-data_link a",this.add_item).on("ur_backbone_modal_loaded",this.backbone.init).on("ur_backbone_modal_response",this.backbone.response)},add_item:function(t){return t.preventDefault(),e(this).URBackboneModal({template:"test-demo"}),!1},backbone:{init:function(e,t){},response:function(e,t){}}}).init(),e.fn.ur_form_builder=function(){var i={active_grid:t.active_grid,number_of_grid_list:t.number_of_grid,min_grid_height:70};return this.each(function(){var n=e(this),a={init:function(){this.single_row(),function(){var i=t.form_required_fields,r=e(".ur-input-grids");if(e.isArray(i))for(var n=0;n<i.length;n++){var a=r.find('.ur-field[data-field-key="'+i[n]+'"]');a.closest(".ur-selected-item").find('select[data-field="required"]').val("yes").trigger("change"),a.closest(".ur-selected-item").find('select[data-field="required"]').find('option[value="yes"]').attr("selected","selected"),a.closest(".ur-selected-item").find('select[data-field="required"]').attr("disabled","disabled")}var s=r.find('select[data-field="required"]').find('option[selected="selected"][value="yes"]').closest(".ur-selected-item").find(".ur-label").find("label");s.find("span").remove(),s.append('<span style="color:red">*</span>')}()},get_grid_button:function(){var t=e('<div class="ur-grid-containner"/>'),i='<button type="button" class="ur-edit-grid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg></button>';return i+='<button type="button" class="dashicons dashicons-no-alt ur-remove-row"></button>',i+='<div class="ur-toggle-grid-content" style="display:none">',i+="<small>Select the grid column.</small>",i+='<div class="ur-grid-selector" data-grid = "1">',i+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M28,6V26H4V6H28m2-2H2V28H30V4Z"/></svg>',i+="</div>",i+='<div class="ur-grid-selector" data-grid = "2">',i+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M17,4H2V28H30V4ZM4,26V6H15V26Zm24,0H17V6H28Z"/></svg>',i+="</div>",i+='<div class="ur-grid-selector" data-grid = "3">',i+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M22,4H2V28H30V4ZM4,26V6h6V26Zm8,0V6h8V26Zm16,0H22V6h6Z"/></svg>',i+="</div>",i+="</div>",t.html(i),t.html()},single_row:function(){if("1"!==t.is_edit_form){var r=e("<div class='ur-single-row'/ data-row-id=\"0\">");r.append(e("<div class='ur-grids'/>"));var l=this.get_grid_button();r.find(".ur-grids").append(l),r.find(".ur-grids").find('span[data-id="'+i.active_grid+'"]').addClass("ur-active-grid");var d=this.get_grid_lists(i.active_grid);r.append('<div style="clear:both"></div>'),r.append(d),r.append('<div style="clear:both"></div>'),n.append(r),e(".ur-single-row").eq(0).find(".ur-grid-lists").eq(0).find(".ur-grid-list-item").eq(0).find(".user-registration-dragged-me").remove(),e(".ur-single-row").eq(0).find(".ur-grid-lists").eq(0).find(".ur-grid-list-item").eq(0).append(t.required_form_html)}if(0==n.find(".ur-add-new-row").length){n.append('<button type="button" class="button button-primary dashicons dashicons-plus-alt ur-add-new-row ui-sortable-handle" data-total-rows="0">'+t.add_new+"</button>");var o=n.find(".ur-add-new-row").siblings(".ur-single-row").last().prev().attr("data-row-id");n.find(".ur-add-new-row").attr("data-total-rows",o)}s.render_draggable_sortable(),a.manage_empty_grid(),c()},get_grid_lists:function(t){for(var r=e('<div class="ur-grid-lists"/>'),n=1;n<=t;n++){var a=e("<div ur-grid-id='"+n+"' class='ur-grid-list-item'></div>"),s=Math.floor(100/t)-t;a.css({width:s+"%","min-height":i.min_grid_height+"px"}),r.append(a)}return r.append('<div style="clear:both"></div>'),r.find(".ur-grid-list-item").eq("0").css({}),r},populate_dropped_node:function(i,r){var n={action:"user_registration_user_input_dropped",security:t.user_input_dropped,form_field_id:r},s='<div class="ur-selected-item ajax_added"><div class="ur-action-buttons"><span title="Clone" class="dashicons dashicons-admin-page ur-clone"></span><span title="Trash" class="dashicons dashicons-trash ur-trash"></span></div>(content)</div>';i.closest(".ur-single-row").find(".user-registration-dragged-me").fadeOut(),e.ajax({url:t.ajax_url,data:n,type:"POST",beforeSend:function(){i.removeAttr("class").removeAttr("id").removeAttr("data-field-id").addClass("ur-selected-item").css({width:"auto"}),i.html('<small class="spinner is-active"></small>'),i.addClass("ur-item-dragged")},complete:function(t){if(a.manage_empty_grid(),!0===t.responseJSON.success){var r=e(s.replace("(content)",t.responseJSON.data.template));r.removeClass("ajax_added"),r.removeClass("ur-item-dragged"),i.find(".ajax_added").find(".spinner").remove(),i.find(".ajax_added").remove(),e(r).insertBefore(i),i.remove()}c();f(r.closest(".ur-selected-item ").find("[data-field='field_name']").val()),e('.ur-input-type-select2 .ur-field[data-field-key="select2"] select, .ur-input-type-multi-select2 .ur-field[data-field-key="multi_select2"] select').selectWoo(),e(document.body).trigger("ur_new_field_created")}})},manage_empty_grid:function(){var t=e(".ur-input-grids"),i=e('<div class="user-registration-dragged-me"/>');t.find(".user-registration-dragged-me").remove(),e.each(t.find(".ur-grid-list-item"),function(){var t=e(this);0===e(this).find(".ur-selected-item").length&&t.append(i.clone())})}},s={register:function(){this.register_add_new_row(),this.register_remove_row(),this.change_ur_grids(),this.remove_selected_item(),this.clone_selected_item()},register_add_new_row:function(){var t=this;e("body").on("click",".ur-add-new-row",function(){var r=e(this).attr("data-total-rows");e(this).attr("data-total-rows",parseInt(r)+1);var n=e(this).closest(".ur-input-grids").find(".ur-single-row").eq(0).clone();n.attr("data-row-id",parseInt(r)+1),n.find(".ur-grid-lists").html(""),n.find(".ur-grids").find("span").removeClass("ur-active-grid"),n.find(".ur-grids").find('span[data-id="'+i.active_grid+'"]').addClass("ur-active-grid");var s=a.get_grid_lists(i.active_grid);n.find(".ur-grid-lists").append(s.html()),n.insertBefore(".ur-add-new-row"),n.show(),t.render_draggable_sortable(),a.manage_empty_grid(),e(document).trigger("user_registration_row_added",[n])})},register_remove_row:function(){var i=this;e("body").on("click",".ur-remove-row",function(){if(e(".ur-input-grids").find(".ur-single-row:visible").length>1){var r=e(this);ur_confirmation(t.i18n_admin.i18n_are_you_sure_want_to_delete_row,{title:t.i18n_admin.i18n_msg_delete,confirm:function(){var t,n=r.prev();(t=n.hasClass("ur-add-new-row")?n.clone():r.clone().attr("class","dashicons-minus ur-remove-row")).hasClass("ur-add-new-row")&&r.closest(".ur-single-row").prev().find(".ur-remove-row").before(t);var a=r.closest(".ur-single-row");e(document).trigger("user_registration_row_deleted",[a]);var s=a.find(".ur-grid-lists .ur-selected-item .ur-general-setting");e(s).each(function(){e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-label label").text();var t=e(this).closest(".ur-selected-item").find(" .ur-admin-template .ur-field").data("field-key");if("section_title"!=t&&"html"!=t&&"wysiwyg"!=t&&"billing_address_title"!=t&&"shipping_address_title"!=t){var i=e(this).find("[data-field='field_name']").val();void 0!==i&&(e('[class*="urcl-settings-rules_field_"] option[value="'+i+'"]').remove(),e('[class*="urcl-field-conditional-field-select"] option[value="'+i+'"]').remove())}}),a.remove(),i.check_grid(),c(),Swal.fire({type:"success",title:"Successfully deleted!",customClass:"user-registration-swal2-modal user-registration-swal2-modal--center",showConfirmButton:!1,timer:1e3})},reject:function(){}})}else ur_alert(t.i18n_admin.i18n_at_least_one_row_is_required_to_create_a_registration_form,{title:t.i18n_admin.i18n_cannot_delete_row})})},change_ur_grids:function(){var t=this;e(document).on("click",".ur-grids .ur-edit-grid",function(t){t.stopPropagation(),e(this).siblings(".ur-toggle-grid-content").stop(!0).slideToggle(200)}),e(document).on("click",function(){e(".ur-toggle-grid-content").stop(!0).slideUp(200)}),e(document).on("click",".ur-grids .ur-toggle-grid-content .ur-grid-selector",function(){var i=e(this).closest(".ur-single-row"),r=e(this).attr("data-grid"),n=i.find(".ur-grid-lists .ur-grid-list-item").length,s=a.get_grid_lists(r),l=0;i.find(".ur-grid-lists .ur-grid-list-item").length!==parseInt(r)&&(i.find("button.ur-edit-grid").html(e(this).html()),e.each(i.find(".ur-grid-lists .ur-grid-list-item"),function(){e(this).children("*").each(function(){s.find(".ur-grid-list-item").eq(l).append(e(this).clone()),3===parseInt(e(this).parent().attr("ur-grid-id"))&&3===parseInt(n)&&2===parseInt(r)&&(l=Math.abs(--l))}),(parseInt(r)>n||e(this).children("*").length&&2<=parseInt(r))&&(l=parseInt(r)<=++l?0:l)}),i.find(".ur-grid-lists").eq(0).hide(),s.clone().insertAfter(i.find(".ur-grid-lists")),i.find(".ur-grid-lists").eq(0).remove(),t.render_draggable_sortable(),a.manage_empty_grid())})},render_draggable_sortable:function(){e(".ur-grid-list-item").sortable({containment:".ur-input-grids",over:function(){e(this).addClass("ur-sortable-active"),a.manage_empty_grid()},out:function(){e(this).removeClass("ur-sortable-active"),a.manage_empty_grid()},revert:!0,connectWith:".ur-grid-list-item"}).disableSelection(),e(".ur-input-grids").sortable({containment:".ur-builder-wrapper",tolerance:"pointer",revert:"invalid",placeholder:"ur-single-row",forceHelperSize:!0,over:function(){e(this).addClass("ur-sortable-active")},out:function(){e(this).removeClass("ur-sortable-active")}}),e("#ur-draggabled .draggable").draggable({connectToSortable:".ur-grid-list-item",containment:".ur-registered-from",helper:function(){return e(this).clone().insertAfter(e(this).closest(".ur-tab-contents").siblings(".ur-tab-lists"))},revert:"invalid",stop:function(i,n){if(0!==e(n.helper).closest(".ur-grid-list-item").length){var s=e.trim(e(n.helper).attr("data-field-id").replace("user_registration_","")),l=e(".ur-input-grids").find('.ur-field[data-field-key="'+s+'"]').length,d=e.makeArray(t.form_one_time_draggable_fields);if(l>0&&e.inArray(s,d)>=0)return r(t.i18n_admin.i18n_user_required_field_already_there),void e(n.helper).remove();var o=e(n.helper),u=e(o).attr("data-field-id");if(void 0!==u){var c=e(n.helper).closest(".ur-grid-list-item").find('li[data-field-id="'+e(this).attr("data-field-id")+'"]');a.populate_dropped_node(c,u)}}}}).disableSelection()},remove_selected_item:function(){var i=this;e("body").on("click",".ur-selected-item .ur-action-buttons .ur-trash",function(r){var n=e(this).closest(".ur-selected-item ").find("[data-field='field_name']").val(),s=i,l=e(this);ur_confirmation(t.i18n_admin.i18n_are_you_sure_want_to_delete_field,{title:t.i18n_admin.i18n_msg_delete,showCancelButton:!0,confirmButtonText:t.i18n_admin.i18n_choice_ok,cancelButtonText:t.i18n_admin.i18n_choice_cancel,ele:s,$ele:l,removed_item:n,confirm:function(){return l.closest(".ur-selected-item ").remove(),s.check_grid(),a.manage_empty_grid(),c(),e('[class*="urcl-settings-rules_field_"] option[value="'+n+'"]').remove(),e('[class*="urcl-field-conditional-field-select"] option[value="'+n+'"]').remove(),!1},reject:function(){return!1}})})},clone_selected_item:function(){e("body").on("click",".ur-selected-item .ur-action-buttons  .ur-clone",function(){var i=e(this).closest(".ur-selected-item ").find(".ur-field").attr("data-field-key");if(e(".ur-input-grids").find('.ur-field[data-field-key="'+i+'"]').length>0&&e.inArray(i,t.form_one_time_draggable_fields)>-1)r(t.i18n_admin.i18n_user_required_field_already_there_could_not_clone);else{var n=e(this).closest(".ur-selected-item ").clone(),a=n.find('input[data-field="field_name"]'),s=a.val().match(/\d+/g),l=s.length>0?s[s.length-1]:"",d=a.val().replace(l,"");n.find('input[data-field="field_name"]').attr("value",d+(new Date).getTime()),e(this).closest(".ur-grid-list-item").append(n);f(n.find("[data-field='field_name']").val())}})},check_grid:function(){e(".ur-tabs").tabs({disabled:[1]}),e(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"]),e(".ur-tabs").find('[aria-controls="ur-tab-field-options"]').addClass("ur-no-pointer"),e(".ur-selected-item").removeClass("ur-item-active")}};a.init(),s.register()})},e(".ur-input-grids").ur_form_builder(),e(".ur-tabs .ur-tab-lists").find("a.nav-tab").click(function(){e(".ur-tabs .ur-tab-lists").find("a.nav-tab").removeClass("active"),e(this).addClass("active")}),e(".ur-tabs").tabs(),e(".ur-tabs").find("a").eq(0).trigger("click",["triggered_click"]),e(".ur-tabs").tabs({disabled:[1]});var n,a;e.fn.select2.amd.require(["select2/selection/single","select2/selection/placeholder","select2/dropdown","select2/dropdown/search","select2/dropdown/attachBody","select2/utils","select2/selection/eventRelay"],function(t,i,r,s,l,d,o){function u(){}function c(){}n=d.Decorate(t,i),n=d.Decorate(n,o),a=d.Decorate(r,s),a=d.Decorate(a,l),u.prototype.render=function(t){var i=this,r=t.call(this),n=e('<button class="button button-secondary button-medium ur-unselect-all-countries-button" type="button">Unselect All</button>');return n.on("click",function(){i.$element.val([]),i.$element.trigger("change"),i.trigger("close")}),r.find(".select2-dropdown").prepend(n),r},a=d.Decorate(a,u),c.prototype.render=function(t){var i=this,r=t.call(this),n=e('<button class="button button-secondary button-medium ur-select-all-countries-button" type="button">Select All</button>');return n.on("click",function(){var t=[];i.$element.find("option").each(function(){t.push(e(this).val())}),i.$element.val(t),i.$element.trigger("change"),i.trigger("close")}),r.find(".select2-dropdown").prepend(n),r},a=d.Decorate(a,c)}),e(document).on("click",".ur-selected-item",function(){e(".ur-registered-inputs").find("ul li.ur-no-pointer").removeClass("ur-no-pointer"),e(".ur-selected-item").removeClass("ur-item-active"),e(this).addClass("ur-item-active"),function(t){var i=t.find(".ur-advance-setting-block").clone(),r=t.find(".ur-general-setting-block").clone(),n=e("<form id='ur-setting-form'/>");e("#ur-tab-field-options").html(""),n.append(r),n.append(i),e("#ur-tab-field-options").append(n),e("#ur-tab-field-options").find(".ur-advance-setting-block").show(),e("#ur-tab-field-options").find(".ur-general-setting-block").show(),1===e(".ur-item-active").length&&(e(".ur-tabs").tabs("enable",1),e(".ur-tabs").find("a").eq(1).trigger("click",["triggered_click"])),e(".ur-options-list").sortable({containment:".ur-general-setting-options"})}(e(this)),s(),e(document).trigger("update_perfect_scrollbar");var t=e(this).find(".ur-field").data("field-key");if("country"===t||"billing_country"===t||"shipping_country"===t){var i=e("#ur-setting-form select.ur-settings-selected-countries");i.on("change",function(t){var i=e(this).val(),r="",n=this;Array.isArray(i)&&i.forEach(function(t){var i=e(n).find('option[value="'+t+'"]').html();r+='<option value="'+t+'">'+i+"</option>"}),e("#ur-setting-form select.ur-settings-default-value").html(r),e(".ur-selected-item.ur-item-active select.ur-settings-default-value").html(r)}).select2({placeholder:"Select countries...",selectionAdapter:n,dropdownAdapter:a,templateResult:function(t){return t.id?e("<div></div>").text(t.text).addClass("wrap"):t.text},templateSelection:function(e){if(!e.id)return e.text;var t=0;return i.val()&&(t=i.val().length),"Selected "+t+" country(s)"}}).on("change",function(t){e(".urcl-rules, .urcl-conditional-group").each(function(){var t=e(this).find(".urcl-field").length?e(this).find(".urcl-field"):e(this).find(".urcl-form-group"),i=t.find("select option:selected").data("type");if("country"===i||"billing_country"===i||"shipping_country"===i){var r=t.find("select option:selected").val(),n=e(this).find(".urcl-value select").val(),a=e('.ur-general-setting-field-name input[value="'+r+'"').closest(".ur-selected-item").find(".ur-advance-selected_countries select option:selected"),s=[];e(this).find(".urcl-value select").html('<option value="">--select--</option>'),a.each(function(){var t=e(this).val(),i=e(this).text();s.push('<option value="'+t+'">'+i+"</option>")}),e(this).find(".urcl-value select").append(s.join("")),e(this).find(".urcl-value select").val(n),e(this).find('.urcl-value select option[value="'+n+'"]').attr("selected","selected")}})}).on("select2:close",function(t){setTimeout(function(){e(":focus").blur()},1)})}e(document.body).trigger("ur_rendered_field_options"),e(document.body).trigger("init_tooltips")}),e(".ur_import_form_action_button").on("click",function(){var i=e("#jsonfile").prop("files")[0],r=new FormData;r.append("jsonfile",i),r.append("action","user_registration_import_form_action"),r.append("security",t.ur_import_form_save),e.ajax({url:t.ajax_url,dataType:"json",cache:!1,contentType:!1,processData:!1,data:r,type:"post",beforeSend:function(){e(".ur_import_form_action_button").closest(".publishing-action").append('<span class="spinner is-active" style="float: left;margin-top: 6px;"></span>'),e(".ur-import_notice").remove()},complete:function(i){var r="";e(".ur_import_form_action_button").closest(".publishing-action").find(".spinner").remove(),e(".ur-import_notice").remove(),r=!0===i.responseJSON.success?'<div id="message" class="updated inline ur-import_notice"><p><strong>'+i.responseJSON.data.message+"</strong></p></div>":'<div id="message" class="error inline ur-import_notice"><p><strong>'+i.responseJSON.data.message+"</strong></p></div>",e(".ur-export-users-page").prepend(r),e("#jsonfile").val(""),e(".user-registration-custom-selected-file").html(t.no_file_selected)}})}),e(".ur_save_form_action_button").on("click",function(){i()}),e(document.body).on("click",".ur-quick-links-content",function(e){e.stopPropagation()}),e(document.body).on("click",".ur-button-quick-links",function(t){t.stopPropagation(),e(".ur-quick-links-content").slideToggle()}),e(document.body).on("click",function(t){e(".ur-quick-links-content").is(":hidden")||e(".ur-quick-links-content").slideToggle()}),e(window).on("keydown",function(e){if((e.ctrlKey||e.metaKey)&&"s"===String.fromCharCode(e.which).toLowerCase())return e.preventDefault(),i(),!1})}),e(document).on("click",".ur-message .ur-message-close",function(){$message=e(this).closest(".ur-message"),n($message)}),e(document).ready(function(){var t={};e(document.body).on("click","#load_flatpickr",function(){var i=e(this).data("id"),r=t[i];if(!r){var n=e(this).siblings("#formated_date").val()?e(this).siblings("#formated_date").val():e(this).closest(".ur-field-item").find("#formatted_date").val(),a=e(".ur-frontend-form #"+i+", #fieldset-user_registration #"+i).attr("type","text").val(n);e(this).attr("data-date-format",a.data("date-format")),e(this).attr("data-mode",a.data("mode")),e(this).attr("data-min-date",a.data("min-date")),e(this).attr("data-max-date",a.data("max-date")),e(this).attr("data-default-date",n),r=e(this).flatpickr({disableMobile:!0,onChange:function(t,r,n){e("#"+i).val(r)},onOpen:function(e,t,i){i.set("minDate",a.data("min-date")),i.set("maxDate",a.data("max-date"))}}),t[i]=r}r&&r.open()})}),e(document).on("click",".ur-toggle-heading",function(){e(this).hasClass("closed")?e(this).removeClass("closed"):e(this).addClass("closed");var t=e(this).find(" ~ .ur-registered-list")[0];e(t).slideToggle(),e(this).siblings(".ur-toggle-content").slideToggle()}),e(document).on("click",".ur-options-list .add",function(t){t.preventDefault();var i=e(this),r=e(".ur-selected-item.ur-item-active"),n=i.parent("li").index(),a=i.parent("li").clone(!0,!0);a.find('input[data-field="options"]').val(""),a.find('input[data-field="default_value"]').removeAttr("checked"),i.parent("li").after(a),r.find(".ur-general-setting-options .ur-options-list > li:nth( "+n+" )").after(a.clone(!0,!0)),i.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?o(i):i.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")&&d(i)}),e(document).on("click",".ur-options-list .remove",function(t){t.preventDefault();var i=e(this),r=e(this).closest("ul");$any_siblings=r.find("li"),$wrapper=e(".ur-selected-item.ur-item-active"),this_index=i.parent("li").index(),r.find("li").length>1&&(i.parent("li").remove(),$wrapper.find(".ur-general-setting-options .ur-options-list > li:nth( "+this_index+" )").remove(),$any_siblings.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?o($any_siblings):$any_siblings.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")&&d($any_siblings))}),e(document).on("sortstop",".ur-options-list",function(t,i){var r=e(this);!function(t){var i=t.clone(!0,!0),r=e(".ur-selected-item.ur-item-active").find(".ur-general-setting-options .ur-options-list");r.html(""),r.replaceWith(i)}(r),r.closest(".ur-general-setting-block").hasClass("ur-general-setting-radio")?o(r):r.closest(".ur-general-setting-block").hasClass("ur-general-setting-checkbox")&&d(r)})}(jQuery,window.user_registration_admin_data);
