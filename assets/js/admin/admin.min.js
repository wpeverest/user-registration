function ur_init_tooltips(e,t){if(undefined!==e&&null!==e&&""!==e){var i={theme:"tooltipster-borderless",maxWidth:200,multiple:!0,interactive:!0,position:"bottom",contentAsHTML:!0,functionInit:function(e,t){var i=jQuery(t.origin).attr("data-tip");i&&e.content(i)}};t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),"string"==typeof e?jQuery(e).tooltipster(i):e.tooltipster(i)}}function ur_confirmation(e,t){void 0===t&&(t={});var i='<i class="dashicons dashicons-trash"></i><span class="user-registration-swal2-modal__title">'+t.title;Swal.fire({customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",title:i,text:e,showCancelButton:"undefined"==typeof t.showCancelButton||t.showCancelButton,confirmButtonText:"undefined"!=typeof t.confirmButtonText?t.confirmButtonText:user_registration_form_builder_data.i18n_admin.i18n_choice_delete,confirmButtonColor:"#ff4149",cancelButtonText:"undefined"!=typeof t.cancelButtonText?t.cancelButtonText:user_registration_form_builder_data.i18n_admin.i18n_choice_cancel}).then(function(e){e.value?t.confirm():t.reject()})}jQuery(function(e){e(document.body).on("input","#ur-search-fields",function(){var t=e(this).val().toLowerCase();e(".ur-registered-item").each(function(){e(this).text().toLowerCase().search(t)>-1?(e(this).addClass("ur-searched-item"),e(this).show()):(e(this).removeClass("ur-searched-item"),e(this).hide())}),e(".ur-registered-list").each(function(){var t=e(this).find(".ur-registered-item.ur-searched-item").length,i=e(this).prev("hr"),r=e(this).prev("hr").prev(".ur-toggle-heading");0===t?(i.hide(),r.hide()):(i.show(),r.show())}),e(".ur-registered-item.ur-searched-item").length?e(".ur-fields-not-found").hide():e(".ur-fields-not-found").show()}),e(document).on("mousedown",".ur-upgradable-field",function(t){t.preventDefault();var i=e(this).text(),r='<i class="dashicons dashicons-lock"></i><span class="user-registration-swal2-modal__title">'+i+" is a premium field.</span>",s=i+" field is locked. Upgrade to <strong>"+e(this).data("plan")+"</strong> to unlock this field.";Swal.fire({title:r,html:s,customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",showCloseButton:!0,confirmButtonText:"View Pricing"}).then(function(e){if(e.value){window.open("https://wpeverest.com/wordpress-plugins/user-registration/pricing/?utm_source=pro-fields&utm_medium=popup-button&utm_campaign=ur-upgrade-to-pro","_blank")}})}),e(window).on("resize orientationchange",function(){var t;clearTimeout(t),t=setTimeout(function(){e(document.body).trigger("adjust_builder_width")},250)}),e(document.body).on("click","#collapse-button",function(){e(document.body).trigger("ur_adjust_builder_width")}),e(document.body).on("ur_adjust_builder_width",function(){var t=e("#adminmenuwrap").width(),i=e(".user-registration_page_add-new-registration .ur-form-subcontainer .menu-edit"),r=e(".user-registration_page_add-new-registration .ur-form-subcontainer .ur-loading-container");i.css({left:t+"px"}),r.fadeOut(1e3)}).trigger("ur_adjust_builder_width"),e(document.body).on("click",".user-registration-editable-title__icon",function(){var t=e(this).siblings(".user-registration-editable-title__input");t.hasClass("is-editing")||t.trigger("focus"),t.toggleClass("is-editing"),t.attr("data-editing","true"==t.attr("data-editing")?"false":"true")}),e(document).not(e(".user-registration-editable-title")).on("click",function(t){var i=e(".user-registration-editable-title__input");"ur-form-name"!==t.target.id&&"ur-form-name-edit-button"!==t.target.id&&!i.attr("hidden")&&i.hasClass("is-editing")&&(t.stopPropagation(),"true"!==i.data("data-editing")&&i.val()&&""!==i.val().trim()&&i.toggleClass("is-editing").trigger("blur").attr("data-editing","true"==i.attr("data-editing")?"false":"true"))}),e(document).on("init_perfect_scrollbar update_perfect_scrollbar",function(){if("undefined"!=typeof PerfectScrollbar){var t=e(".ur-tab-contents");t.length>=1&&"undefined"==typeof window.ur_tab_scrollbar?window.ur_tab_scrollbar=new PerfectScrollbar(document.querySelector(".ur-tab-contents"),{suppressScrollX:!0}):"undefined"!=typeof window.ur_tab_scrollbar&&(window.ur_tab_scrollbar.update(),t.scrollTop(0))}}),e(document).ready(function(){e(document).trigger("init_perfect_scrollbar");var t=e(".ur-selected-inputs"),i=e(".ur-registered-inputs nav").find("#ur-tab-field-settings");i.find("form").appendTo(t),t.find("form #ur-field-all-settings > div").each(function(t,r){var s=e(r).find("h3").text(),n=e(r).attr("id");i.append('<div id="'+n+'" class="form-settings-tab">'+s+"</div>"),e(r).hide()}),i.find("#general-settings").addClass("active"),t.find("#ur-field-all-settings div#general-settings").show(),i.find(".form-settings-tab").on("click",function(){this_id=e(this).attr("id"),e(this).siblings().removeClass("active"),e(this).addClass("active"),t.find("form #ur-field-all-settings > div").hide(),t.find("form #ur-field-all-settings > div#"+this_id).show(),e(document).trigger("update_perfect_scrollbar"),e(".ur-builder-wrapper").scrollTop(0)})}),e(document).on("click",'.ur-tab-lists li[role="tab"] a.nav-tab',function(t,i){e(document).trigger("update_perfect_scrollbar"),"triggered_click"!=i&&(e(".ur-builder-wrapper").scrollTop(0),e(".ur-builder-wrapper-content").scrollTop(0))}),e(document).on("click",'.ur-tab-lists li[aria-controls="ur-tab-field-settings"]',function(){e(".ur-builder-wrapper-content").hide(),e(".ur-builder-wrapper-footer").hide(),e(".ur-selected-inputs").find("form#ur-field-settings").show()}),e(document).on("click",'ul.ur-tab-lists li[aria-controls="ur-tab-registered-fields"]',function(){e(".ur-builder-wrapper-content").show(),e(".ur-builder-wrapper-footer").show(),e(".ur-selected-inputs").find("form#ur-field-settings").hide()});var t=e("#general-settings").find("#user_registration_form_setting_minimum_password_strength_field"),i=e("#general-settings").find("#user_registration_form_setting_enable_strong_password_field input#user_registration_form_setting_enable_strong_password"),r=i.is(":checked");if("yes"===r||!0===r?t.show():t.hide(),e(i).on("change",function(){"yes"===(r=e(this).is(":checked"))||!0===r?t.show("slow"):t.hide("slow")}),e(document.body).on("init_tooltips",function(){ur_init_tooltips(".tips, .help_tip, .user-registration-help-tip"),ur_init_tooltips(".ur-copy-shortcode, #ur-setting-form .ur-portal-tooltip",{keepAlive:!1}),e(".parent-tips").each(function(){e(this).closest("a, th").attr("data-tip",e(this).data("tip")).tooltipster().css("cursor","help")})}).trigger("init_tooltips"),e("body").on("keypress","#ur-form-name",function(t){13===t.which&&e("#save_form_footer").eq(0).trigger("click")}),e("#ur-full-screen-mode").on("click",function(t){t.preventDefault();var i=e(this);i.hasClass("closed")?(i.removeClass("closed"),i.addClass("opened"),e("body").addClass("ur-full-screen-mode")):(i.removeClass("opened"),i.addClass("closed"),e("body").removeClass("ur-full-screen-mode"))}),e(document).on("keyup",function(t){"Escape"===t.key&&e("#ur-full-screen-mode.opened").trigger("click")}),"admin_approval"!==e("#user_registration_form_setting_login_options").val())e("#user_registration_form_setting_enable_email_approval").parent().parent().hide();else var s=e("#user_registration_form_setting_enable_email_approval").prop("checked");e("#user_registration_form_setting_login_options").on("change",function(){var t=e("#user_registration_form_setting_enable_email_approval").parent().parent();"admin_approval"===e(this).val()?(e("#user_registration_form_setting_enable_email_approval").prop("checked",s),t.show()):(t.hide(),e("#user_registration_form_setting_enable_email_approval").prop("checked",!1))}),e("input.input-color").wpColorPicker(),e(".user_registration_send_email_test").on("click",function(t){var i=e("#user_registration_email_send_to").val();t.preventDefault(),e.ajax({url:user_registration_send_email.ajax_url,data:{action:"user_registration_send_test_email",email:i},type:"post",beforeSend:function(){e(".user_registration_send_email_test").append('<span class="ur-spinner is-active"></span>')},complete:function(t){e(".ur-spinner").remove(),e(".user-registration_page_user-registration-settings .notice").remove(),!0===t.responseJSON.success?(message_string='<div class="success notice notice-success is-dismissible"><p><strong>'+t.responseJSON.data.message+"</strong></p></div>",e(".user-registration-header").after(message_string)):(message_string='<div class="error notice notice-success is-dismissible"><p><strong>'+t.responseJSON.data.message+"</strong></p></div>",e(".user-registration-header").after(message_string)),e(".user-registration_page_user-registration-settings .notice").css("display","block"),e(window).scrollTop(e(".notice").position())}})})}),function(e,t){e(function(){e(".ur_import_form_action_button").on("click",function(){var i=e("#jsonfile").prop("files")[0],r=new FormData;r.append("jsonfile",i),r.append("action","user_registration_import_form_action"),r.append("security",t.ur_import_form_save),e.ajax({url:t.ajax_url,dataType:"json",cache:!1,contentType:!1,processData:!1,data:r,type:"post",beforeSend:function(){e(".ur_import_form_action_button").closest(".publishing-action").append('<span class="spinner is-active" style="float: left;margin-top: 6px;"></span>'),e(".ur-import_notice").remove()},complete:function(i){var r="";e(".ur_import_form_action_button").closest(".publishing-action").find(".spinner").remove(),e(".ur-import_notice").remove(),r=!0===i.responseJSON.success?'<div id="message" class="updated inline ur-import_notice"><p><strong>'+i.responseJSON.data.message+"</strong></p></div>":'<div id="message" class="error inline ur-import_notice"><p><strong>'+i.responseJSON.data.message+"</strong></p></div>",e(".ur-export-users-page").prepend(r),e("#jsonfile").val(""),e(".user-registration-custom-selected-file").html(t.no_file_selected)}})})})}(jQuery,window.user_registration_admin_data);