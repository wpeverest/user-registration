function ur_init_tooltips(e,t){var i;undefined!==e&&null!==e&&""!==e&&(i={theme:"tooltipster-borderless",maxWidth:200,multiple:!0,interactive:!0,position:"bottom",contentAsHTML:!0,functionInit:function(e,t){t=jQuery(t.origin).attr("data-tip");t&&e.content(t)}},t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),("string"==typeof e?jQuery(e):e).tooltipster(i))}function ur_confirmation(e,t){var i='<i class="dashicons dashicons-trash"></i><span class="user-registration-swal2-modal__title">'+(t=void 0===t?{}:t).title;Swal.fire({customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",title:i,text:e,showCancelButton:"undefined"==typeof t.showCancelButton||t.showCancelButton,confirmButtonText:"undefined"!=typeof t.confirmButtonText?t.confirmButtonText:user_registration_form_builder_data.i18n_admin.i18n_choice_delete,confirmButtonColor:"#ff4149",cancelButtonText:"undefined"!=typeof t.cancelButtonText?t.cancelButtonText:user_registration_form_builder_data.i18n_admin.i18n_choice_cancel}).then(function(e){e.value?t.confirm():t.reject()})}jQuery(function(n){n(document.body).on("input","#ur-search-fields",function(){var e=n(this).val().toLowerCase();n(".ur-registered-item").each(function(){-1<n(this).text().toLowerCase().search(e)?(n(this).addClass("ur-searched-item"),n(this).show()):(n(this).removeClass("ur-searched-item"),n(this).hide())}),n(".ur-registered-list").each(function(){var e=n(this).find(".ur-registered-item.ur-searched-item").length,t=n(this).prev("hr"),i=n(this).prev("hr").prev(".ur-toggle-heading");0===e?(t.hide(),i.hide()):(t.show(),i.show())}),n(".ur-registered-item.ur-searched-item").length?n(".ur-fields-not-found").hide():n(".ur-fields-not-found").show()}),n(document).on("mousedown",".ur-upgradable-field",function(e){e.preventDefault();var e=n(this).text(),t='<i class="dashicons dashicons-lock"></i><span class="user-registration-swal2-modal__title">'+e+" is a premium field.</span>",i=n(this).data("plan");Swal.fire({title:t,html:e+" field is locked. Upgrade to <strong>"+i+"</strong> to unlock this field.",customClass:"user-registration-swal2-modal user-registration-swal2-modal--centered",showCloseButton:!0,confirmButtonText:"View Pricing"}).then(function(e){e.value&&window.open("https://wpeverest.com/wordpress-plugins/user-registration/pricing/?utm_source=pro-fields&utm_medium=popup-button&utm_campaign=ur-upgrade-to-pro","_blank")})}),n(window).on("resize orientationchange",function(){clearTimeout(void 0),setTimeout(function(){n(document.body).trigger("adjust_builder_width")},250)}),n(document.body).on("click","#collapse-button",function(){n(document.body).trigger("ur_adjust_builder_width")}),n(document.body).on("ur_adjust_builder_width",function(){var e=n("#adminmenuwrap").width(),t=n(".user-registration_page_add-new-registration .ur-form-subcontainer .menu-edit"),i=n(".user-registration_page_add-new-registration .ur-form-subcontainer .ur-loading-container");t.css({left:e+"px"}),i.fadeOut(1e3)}).trigger("ur_adjust_builder_width"),n(document.body).on("click",".user-registration-editable-title__icon",function(){var e=n(this).siblings(".user-registration-editable-title__input");e.hasClass("is-editing")||e.trigger("focus"),e.toggleClass("is-editing"),e.attr("data-editing","true"==e.attr("data-editing")?"false":"true")}),n(document).not(n(".user-registration-editable-title")).on("click",function(e){var t=n(".user-registration-editable-title__input");"ur-form-name"!==e.target.id&&"ur-form-name-edit-button"!==e.target.id&&!t.attr("hidden")&&t.hasClass("is-editing")&&(e.stopPropagation(),"true"!==t.data("data-editing")&&t.val()&&""!==t.val().trim()&&t.toggleClass("is-editing").trigger("blur").attr("data-editing","true"==t.attr("data-editing")?"false":"true"))}),n(document).on("init_perfect_scrollbar update_perfect_scrollbar",function(){var e;"undefined"!=typeof PerfectScrollbar&&(1<=(e=n(".ur-tab-contents")).length&&"undefined"==typeof window.ur_tab_scrollbar?window.ur_tab_scrollbar=new PerfectScrollbar(document.querySelector(".ur-tab-contents"),{suppressScrollX:!0}):"undefined"!=typeof window.ur_tab_scrollbar&&(window.ur_tab_scrollbar.update(),e.scrollTop(0)))}),n(document).ready(function(){n(document).trigger("init_perfect_scrollbar");var e=n(".ur-selected-inputs"),s=n(".ur-registered-inputs nav").find("#ur-tab-field-settings");s.find("form").appendTo(e),e.find("form #ur-field-all-settings > div").each(function(e,t){var i=n(t).find("h3").text(),r=n(t).attr("id");s.append('<div id="'+r+'" class="form-settings-tab">'+i+"</div>"),n(t).hide()}),s.find("#general-settings").addClass("active"),e.find("#ur-field-all-settings div#general-settings").show(),s.find(".form-settings-tab").on("click",function(){this_id=n(this).attr("id"),n(this).siblings().removeClass("active"),n(this).addClass("active"),e.find("form #ur-field-all-settings > div").hide(),e.find("form #ur-field-all-settings > div#"+this_id).show(),n(document).trigger("update_perfect_scrollbar"),n(".ur-builder-wrapper").scrollTop(0)})}),n(document).on("click",'.ur-tab-lists li[role="tab"] a.nav-tab',function(e,t){n(document).trigger("update_perfect_scrollbar"),"triggered_click"!=t&&(n(".ur-builder-wrapper").scrollTop(0),n(".ur-builder-wrapper-content").scrollTop(0))}),n(document).on("click",'.ur-tab-lists li[aria-controls="ur-tab-field-settings"]',function(){n(".ur-builder-wrapper-content").hide(),n(".ur-builder-wrapper-footer").hide(),n(".ur-selected-inputs").find("form#ur-field-settings").show()}),n(document).on("click",'ul.ur-tab-lists li[aria-controls="ur-tab-registered-fields"]',function(){n(".ur-builder-wrapper-content").show(),n(".ur-builder-wrapper-footer").show(),n(".ur-selected-inputs").find("form#ur-field-settings").hide()});var t,r=n("#general-settings").find("#user_registration_form_setting_minimum_password_strength_field"),e=n("#general-settings").find("#user_registration_form_setting_enable_strong_password_field input#user_registration_form_setting_enable_strong_password"),i=e.is(":checked"),s=("yes"===i||!0===i?r.show():r.hide(),r.find("#user_registration_form_setting_minimum_password_strength"));n(document).ready(function(){var t="",e="";function i(e){switch(e){case"0":t=user_registration_form_builder_data.user_registration_very_weak_password_info;break;case"1":t=user_registration_form_builder_data.user_registration_weak_password_info;break;case"2":t=user_registration_form_builder_data.user_registration_medium_password_info;break;case"3":t=user_registration_form_builder_data.user_registration_strong_password_info;break;default:t=""}r.append("<span class='description'>"+t+"</span>")}i(s.find(":selected").val()),n(s).on("change",function(){e=r.find("span"),$strength=n(this).find(":selected").val(),e.remove(),i($strength)})}),n(e).on("change",function(){"yes"===(i=n(this).is(":checked"))||!0===i?r.show("slow"):r.hide("slow")}),n(document.body).on("init_tooltips",function(){ur_init_tooltips(".tips, .help_tip, .user-registration-help-tip"),ur_init_tooltips(".ur-copy-shortcode, .ur-portal-tooltip",{keepAlive:!1}),n(".parent-tips").each(function(){n(this).closest("a, th").attr("data-tip",n(this).data("tip")).tooltipster().css("cursor","help")})}).trigger("init_tooltips"),n("body").on("keypress","#ur-form-name",function(e){13===e.which&&n("#save_form_footer").eq(0).trigger("click")}),n("#ur-full-screen-mode").on("click",function(e){e.preventDefault();e=n(this);e.hasClass("closed")?(e.removeClass("closed"),e.addClass("opened"),n("body").addClass("ur-full-screen-mode")):(e.removeClass("opened"),e.addClass("closed"),n("body").removeClass("ur-full-screen-mode"))}),n(document).on("keyup",function(e){"Escape"===e.key&&n("#ur-full-screen-mode.opened").trigger("click")}),"admin_approval"!==n("#user_registration_form_setting_login_options").val()?n("#user_registration_form_setting_enable_email_approval").parent().parent().hide():t=n("#user_registration_form_setting_enable_email_approval").prop("checked"),n("#user_registration_form_setting_login_options").on("change",function(){var e=n("#user_registration_form_setting_enable_email_approval").parent().parent();"admin_approval"===n(this).val()?(n("#user_registration_form_setting_enable_email_approval").prop("checked",t),e.show()):(e.hide(),n("#user_registration_form_setting_enable_email_approval").prop("checked",!1))}),n("input.input-color").wpColorPicker(),n(".user_registration_send_email_test").on("click",function(e){var t=n("#user_registration_email_send_to").val();e.preventDefault(),n.ajax({url:user_registration_send_email.ajax_url,data:{action:"user_registration_send_test_email",email:t},type:"post",beforeSend:function(){n(".user_registration_send_email_test").append('<span class="ur-spinner is-active"></span>')},complete:function(e){n(".ur-spinner").remove(),n(".user-registration_page_user-registration-settings .notice").remove(),message_string=!0===e.responseJSON.success?'<div class="success notice notice-success is-dismissible"><p><strong>'+e.responseJSON.data.message+"</strong></p></div>":'<div class="error notice notice-success is-dismissible"><p><strong>'+e.responseJSON.data.message+"</strong></p></div>",n(".user-registration-header").after(message_string),n(".user-registration_page_user-registration-settings .notice").css("display","block"),n(window).scrollTop(n(".notice").position())}})})}),function(i,r){i(function(){i(".ur_import_form_action_button").on("click",function(){var e=i("#jsonfile").prop("files")[0],t=new FormData;t.append("jsonfile",e),t.append("action","user_registration_import_form_action"),t.append("security",r.ur_import_form_save),i.ajax({url:r.ajax_url,dataType:"json",cache:!1,contentType:!1,processData:!1,data:t,type:"post",beforeSend:function(){i(".ur_import_form_action_button").closest(".publishing-action").append('<span class="spinner is-active" style="float: left;margin-top: 6px;"></span>'),i(".ur-import_notice").remove()},complete:function(e){var t="";i(".ur_import_form_action_button").closest(".publishing-action").find(".spinner").remove(),i(".ur-import_notice").remove(),t=!0===e.responseJSON.success?'<div id="message" class="updated inline ur-import_notice"><p><strong>'+e.responseJSON.data.message+"</strong></p></div>":'<div id="message" class="error inline ur-import_notice"><p><strong>'+e.responseJSON.data.message+"</strong></p></div>",i(".ur-export-users-page").prepend(t),i("#jsonfile").val(""),i(".user-registration-custom-selected-file").html(r.no_file_selected)}})})})}(jQuery,window.user_registration_admin_data);