!function(O){O.fn.tipTip=function(t){var g,b,M,w=O.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},t);return O("#tiptip_holder").length<=0?(g=O('<div id="tiptip_holder" style="max-width:'+w.maxWidth+';"></div>'),b=O('<div id="tiptip_content"></div>'),M=O('<div id="tiptip_arrow"></div>'),O("body").append(g.html(b).prepend(M.html('<div id="tiptip_arrow_inner"></div>')))):(g=O("#tiptip_holder"),b=O("#tiptip_content"),M=O("#tiptip_arrow")),this.each(function(){var _,m,v=O(this);function t(){w.enter.call(this),b.html(_),g.hide().removeAttr("class").css("margin","0"),M.removeAttr("style");var t=parseInt(v.offset().top),e=parseInt(v.offset().left),o=parseInt(v.outerWidth()),i=parseInt(v.outerHeight()),n=g.outerWidth(),r=g.outerHeight(),p=Math.round((o-n)/2),h=Math.round((i-r)/2),l=Math.round(e+p),a=Math.round(t+i+w.edgeOffset),f="",d="",c=Math.round(n-12)/2,s=("bottom"==w.defaultPosition?f="_bottom":"top"==w.defaultPosition?f="_top":"left"==w.defaultPosition?f="_left":"right"==w.defaultPosition&&(f="_right"),p+e<parseInt(O(window).scrollLeft())),u=n+e>parseInt(O(window).width()),o=(s&&p<0||"_right"==f&&!u||"_left"==f&&e<n+w.edgeOffset+5?(f="_right",d=Math.round(r-13)/2,c=-12,l=Math.round(e+o+w.edgeOffset),a=Math.round(t+h)):(u&&p<0||"_left"==f&&!s)&&(f="_left",d=Math.round(r-13)/2,c=Math.round(n),l=Math.round(e-(n+w.edgeOffset+5)),a=Math.round(t+h)),t+i+w.edgeOffset+r+8>parseInt(O(window).height()+O(window).scrollTop())),u=t+i-(w.edgeOffset+r+8)<0;o||"_bottom"==f&&o||"_top"==f&&!u?("_top"==f||"_bottom"==f?f="_top":f+="_top",d=r,a=Math.round(t-(r+5+w.edgeOffset))):(u|("_top"==f&&u)||"_bottom"==f&&!o)&&("_top"==f||"_bottom"==f?f="_bottom":f+="_bottom",d=-12,a=Math.round(t+i+w.edgeOffset)),"_right_top"==f||"_left_top"==f?a+=5:"_right_bottom"!=f&&"_left_bottom"!=f||(a-=5),"_left_top"!=f&&"_left_bottom"!=f||(l+=5),M.css({"margin-left":c+"px","margin-top":d+"px"}),g.css({"margin-left":l+"px","margin-top":a+"px"}).attr("class","tip"+f),m&&clearTimeout(m),m=setTimeout(function(){g.stop(!0,!0).fadeIn(w.fadeIn)},w.delay)}function e(){w.exit.call(this),m&&clearTimeout(m),g.fadeOut(w.fadeOut)}""!=(_=w.content||v.attr(w.attribute))&&(w.content||v.removeAttr(w.attribute),m=!1,"hover"==w.activation?(v.hover(function(){t()},function(){w.keepAlive||e()}),w.keepAlive&&g.hover(function(){},function(){e()})):"focus"==w.activation?v.focus(function(){t()}).blur(function(){e()}):"click"==w.activation&&(v.click(function(){return t(),!1}).hover(function(){},function(){w.keepAlive||e()}),w.keepAlive&&g.hover(function(){},function(){e()})))})}}(jQuery);