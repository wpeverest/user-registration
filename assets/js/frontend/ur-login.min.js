jQuery(function(o){o(".ur-frontend-form").find("form.login").each(function(){o(this).find("#user_registration_ajax_login_submit").on("click",function(e){e.preventDefault();var r,s=o(this),e=s.closest("form").find('input[name="username"]').val(),n=s.closest("form").find('input[name="password"]').val(),a=s.closest("form").find('input[name="rememberme"]').val(),t=s.closest("form").find('input[name="redirect"]').val(),i=(r=("hCaptcha"===ur_recaptcha_code.version?s.closest("form").find('[name="h-captcha-response"]'):s.closest("form").find('[name="g-recaptcha-response"]')).val(),ur_login_params.ajax_url+"?action=user_registration_ajax_login_submit&security="+ur_login_params.ur_login_form_save_nonce);s.closest("form").find(".ur-submit-button").siblings("span").addClass("ur-front-spinner"),o.ajax({type:"POST",url:i,data:{username:e,password:n,rememberme:a,CaptchaResponse:r,redirect:t},success:function(e){s.closest("form").find(".ur-submit-button").siblings("span").removeClass("ur-front-spinner"),0==e.success?(o(document).trigger("user_registration_after_login_failed",[s]),s.closest("#user-registration").find(".user-registration-error").remove(),s.closest("#user-registration").prepend('<ul class="user-registration-error">'+e.data.message+"</ul>")):window.location.href=e.data.message}})})})});