function ur_includes(e,r){if(Array.isArray(e))for(var t=0;t<e.length;t+=1)if(e[t]===r)return!0;return!1}function customPasswordChecks(e){var r=ur_frontend_params_with_form_id.custom_password_params,t=void 0!==r.minimum_pass_length&&r.minimum_pass_length>=3?r.minimum_pass_length:3,a=void 0!==r.max_rep_chars?r.max_rep_chars:0,i=void 0!==r.no_rep_chars?r.no_rep_chars:0,n=void 0!==r.minimum_uppercase?r.minimum_uppercase:0,s=void 0!==r.minimum_special_chars?r.minimum_special_chars:0,o=void 0!==r.minimum_digits?r.minimum_digits:0,d=new Set(["!","@","#","$","%","^","&","*","(",")","-","_","=","+","{","}","[","]","|","\\",":",";",'"',"'","<",">",",",".","?","/"]),u="",l=0,f=0,c=0,_=0;if(e.length<t)return 0;for(var p=0;p<e.length;p++){var m=e[p];if(/[A-Z]/.test(m)&&f++,m=m.toLowerCase(),/\d/.test(m)&&c++,d.has(m)&&_++,i&&m===u){if(++l>=a)return 0}else l=0;u=m}return n>0&&f<n||s>0&&_<s||o>0&&c<o?0:4}function convert_to_array(e){return Object.values(e).reverse().slice(2).reverse()}!function(e){var r=function(){var r=user_registration_params.ursL10n,a={show_success_message:function(r){e(".user-registration-membership-notice__container .user-registration-membership-notice__red").removeClass("user-registration-membership-notice__red").addClass("user-registration-membership-notice__blue"),e(".user-registration-membership-notice__message").text(r),e(".user-registration-membership-notice__container").css("display","block"),1===e(document).find(".user-registration-MyAccount").length&&e(".user-registration-membership-notice__container .ur-toaster"),this.ur_remove_cookie("urm_toast_content"),this.ur_remove_cookie("urm_toast_success_message")},show_error_message:function(r){e(".user-registration-membership-notice__container").removeClass("user-registration-membership-notice__blue").addClass("user-registration-membership-notice__red"),e(".user-registration-membership-notice__message").text(r),e(".user-registration-membership-notice__container").css("display","block"),1===e(document).find(".user-registration-MyAccount").length&&e(".user-registration-membership-notice__container .ur-toaster "),this.ur_remove_cookie("urm_toast_content"),this.ur_remove_cookie("urm_toast_success_message")},toggleNotice:function(){var r=e(".user-registration-membership-notice__container");setTimeout(function(){r.fadeOut(4e3)},4e3)},ur_get_cookie:function(e){var r=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return r?decodeURIComponent(r[1]):void 0},ur_remove_cookie:function(e){document.cookie=e+"=; Max-Age=-99999999; path=/"}};e.fn.ur_form_submission=function(){return this.each(function(){var t=e(this),a=[],i=user_registration_params.form_required_fields,n={init:function(){},get_form_data:function(r){if(r===t.closest(".ur-frontend-form").attr("id")||e(".ur-frontend-form").find("form.edit-profile").hasClass("user-registration-EditProfileForm")){var a=this,i=[],s=n.separate_form_handler(""),o={};t.closest("form").find(".ur-repeater-row").each(function(){var r=e(this).closest(".ur-repeater-row").data("repeater-field-name"),t="row_"+e(this).closest(".ur-repeater-row").data("repeater-row");e(this).closest(".user-registration-EditProfileForm").length>0&&(r="user_registration_"+r),o[r]||(o[r]={field_name:r,field_type:"repeater",value:{},label:e(this).closest(".ur-repeater-row").find(".ur-repeater-label").find(".ur-label").text(),extra_params:{field_key:"repeater",label:e(this).closest(".ur-repeater-row").find(".ur-repeater-label").find(".ur-label").text()}}),o[r].value[t]||(o[r].value[t]=[])});var d=new Array;e.each(s,function(){var r=e(this).attr("name"),t=e(this).attr("type"),s=n.separate_form_handler('[name="'+r+'"]'),u=e(this).closest(".ur-repeater-row").data("repeater-field-name");e(this).closest(".user-registration-EditProfileForm").length>0&&(u="user_registration_"+u);var l="row_"+e(this).closest(".ur-repeater-row").data("repeater-row");if((s.length<2||s.closest(".ur-repeater-row").length>0)&&e.inArray(t,["radio"])<0){var f=a.get_fieldwise_data(e(this)),c=document.querySelector("#invite_code");"invite_code"===f.field_name?"none"!==c.style.display&&i.push(f):e(this).closest(".ur-repeater-row").length>0?e(this).closest(".form-row").find("*[name='"+e(this).attr("name")+"']").length<2||"range"===e(this).attr("type")||e(this).hasClass("ur-smart-phone-field")?o[u].value[l].push(f):-1===d.indexOf(f.field_name+"[]")&&d.push(f.field_name+"[]"):i.push(f)}else e.inArray(r,d)<0&&d.push(r)});for(var u=0;u<d.length;u++){var l=n.separate_form_handler('[name="'+d[u]+'"]'),f=(l.get(0).tagName.toLowerCase(),"undefined"!==l.eq(0).attr("type")?l.eq(0).attr("type"):"null"),c=new Array,_={};if(e.each(l,function(){var r=e(this),t="";switch(r.get(0).tagName.toLowerCase()){case"input":switch(f){case"checkbox":case"radio":t=r.prop("checked")?r.val():"";break;default:t=r.val()}break;case"select":case"textarea":t=r.val()}""!==t&&(r.closest(".ur-repeater-row").length>0?r.closest(".field-radio").length>0?_[r.attr("data-id")]=t:(void 0===_[r.attr("data-id")]&&(_[r.attr("data-id")]=new Array),_[r.attr("data-id")].push(t)):c.push(t))}),"checkbox"==f)if(""!==user_registration_params.is_payment_compatible)if("multiple_choice"==l.eq(0).attr("data-field")){e(document).trigger("user_registration_frontend_multiple_choice_data_filter",[c,l]),c=l.closest(".field-multiple_choice").data("payment-value");var p=JSON.stringify(c)}else p=JSON.stringify(c);else if("multiple_choice"==l.eq(0).attr("data-field"))for(var m=c,g=(p=0,0);g<m.length;g++)p+=m[g]|0;else p=JSON.stringify(c);else if("radio"==f)if(""!==user_registration_params.is_payment_compatible)if("subscription_plan"==l.eq(0).attr("data-field")){if(e(document).trigger("user_registration_frontend_subscription_plan_data_filter",[c,l]),selectedSubscriptionPlan=l.closest(".field-subscription_plan").find('input[name="subscription_plan[]"]:checked'),selectedSubscriptionPlan.length>0){var h=selectedSubscriptionPlan.data("value");p=JSON.stringify(h+":"+selectedSubscriptionPlan.val())}}else p=c[0];else p=c[0];else p=l.val();var v=d[u];"urm_membership"===(v=v.replace("[]",""))&&(v=l.eq(0).attr("data-name"));var b={value:p,field_type:f,label:l.eq(0).attr("data-label"),field_name:v};if(Object.keys(_).length>0){new Array;e.each(_,function(r,t){r=e("[name='"+r+"']").length<1&&-1===r.indexOf("[]")?r+"[]":r;var a=e('[name="'+r+'"]').closest(".ur-repeater-row").data("repeater-row"),i=Object.assign({},b);i.value="string"==typeof t?t:JSON.stringify(t),i.field_name=v.slice(0,-2);var n=void 0===o[e("[name='"+r+"']").closest(".ur-repeater-row").data("repeater-field-name")]?"user_registration_"+e("[name='"+r+"']").closest(".ur-repeater-row").data("repeater-field-name"):e("[name='"+r+"']").closest(".ur-repeater-row").data("repeater-field-name");o[n].value["row_"+a].push(i)})}else i.push(b)}return Object.keys(o).forEach(function(r){e("input[name='"+r+"'").length>0&&e("input[name='"+r+"'").val(JSON.stringify(o[r]))}),Object.keys(o).length>0&&e.merge(i,Object.values(o)),e(document).trigger("user_registration_frontend_form_data_filter",[i]),i}},get_fieldwise_data:function(r){var t={},n=r.get(0).tagName.toLowerCase(),s="undefined"!==r.attr("name")?r.attr("name"):"null",o=[];void 0!==r.attr("name")&&""!==r.attr("name")?(t.field_name=r.attr("name"),t.field_name=t.field_name.replace("[]",""),e(r).closest(".ur-repeater-row").length>0&&(e(r).closest(".field-multi_select2").length>0&&(t.field_name=t.field_name.slice(0,-2)),e(r).closest(".field-file").length>0&&(t.field_name=e(r).closest(".field-file").attr("data-ref-id")))):t.field_name="",e(".field-phone, .field-billing_phone").each(function(){var r=e(this).find(".form-row").attr("id");e(this).find(".form-row").find("#"+r).hasClass("ur-smart-phone-field")&&o.push(e(this).find(".form-row").attr("id"))});var d="undefined"!==r.attr("type")?r.attr("type"):"null",u=r.get(0).className.split(" ")[0];switch(t.value="",n){case"input":var l=new Array;switch(d){case"checkbox":!r.closest(".field-privacy_policy").length>0?r.prop("checked")?(l.push(r.val()),t.value=JSON.stringify(l),"separate_shipping"===r.attr("data-id")&&(t.value=r.val())):t.value="":(t.value=r.prop("checked")?r.val():"",privacy_field_name=r.closest(".field-privacy_policy").data("ref-id"),"undefined"!=typeof privacy_field_name&&(t.field_name=privacy_field_name));break;case"radio":t.value=r.prop("checked")?r.val():"",t.field_name=r.closest(".field-privacy_policy").data("ref-id");break;default:t.value=r.val()}ur_includes(o,s)&&(t.value=r.siblings('input[type="hidden"]').val());break;case"select":t.value=r.val();break;case"textarea":if("wysiwyg"===u)tinyMCE.triggerSave(),t.value=r.val();else t.value=r.val()}return e(document).trigger("user_registration_frontend_form_data_render",[r,t]),t.field_type="undefined"!==r.eq(0).attr("type")?r.eq(0).attr("type"):"null",void 0!==r.attr("data-label")?t.label=r.attr("data-label"):r.prev().length&&"label"===r.prev().get(0).tagName.toLowerCase()?t.label=r.prev().text():t.label=t.field_type,e.inArray(t.field_name,i.join(",").trim())>=0&&a.push(t.field_name),t},show_message:function(r,t,a,i){if(a.closest(".user-registration").find(".ur-message").remove(),e(".ur-frontend-form").find("form.edit-profile").hasClass("user-registration-EditProfileForm")){(n=e('<div class="user-registration-'+t+'"/>')).append(r),e("#user-registration").hasClass("vertical")?n.insertBefore(".ur-frontend-form"):n.insertBefore(".user-registration-MyAccount-navigation")}else{var n=e('<div class="ur-message user-registration-'+t+'" id="ur-submit-message-node"/>');if("error"===t){n.append('<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 35 35" fill="none">    <g clip-path="url(#clip0_8269_857)">        <path d="M10.4979 24.6391C14.4408 28.5063 20.7721 28.445 24.6394 24.5022C28.5066 20.5593 28.4453 14.2279 24.5025 10.3607C20.5596 6.49343 14.2283 6.55472 10.361 10.4976C6.49374 14.4404 6.55503 20.7718 10.4979 24.6391Z" stroke="#F25656" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>        <path d="M20.3008 14.6445L14.699 20.3559" stroke="#F25656" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>        <path d="M14.6445 14.6992L20.3559 20.301" stroke="#F25656" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>    </g>    <defs>        <clipPath id="clip0_8269_857">            <rect width="24" height="24" fill="white" transform="translate(17.3359 0.530273) rotate(44.4454)"></rect>        </clipPath>    </defs></svg>')}n.append(r),"1"===i?a.append(n):"2"===i?"message"==t?(a.closest(".entry-content").prepend(n),a.closest(".ur-frontend-form").hide()):a.append(n):a.closest(".ur-frontend-form").prepend(n)}},separate_form_handler:function(r){return e(".ur-frontend-form").find("form.edit-profile").hasClass("user-registration-EditProfileForm")?t.find(".user-registration-profile-fields").find(".ur-edit-profile-field"+r):t.closest(".ur-frontend-form").find(".ur-form-grid").find(".ur-frontend-field"+r)},missing_attachment_handler:function(r){var t=[];if(1<=r.length){r.each(function(){var r=e(this).attr("id");-1===e.inArray(r,t)&&t.push(r)});for(var a=0;a<t.length;a++){for(var i=e("#"+t[a]).val().split(","),n=i.length;n>=0;n--)e.isNumeric(i[n])||i.splice(n,1);e("#"+t[a]).val(i)}}}},s={init:function(){this.form_submit_event(),user_registration_params.ajax_submission_on_edit_profile&&this.edit_profile_event()},form_submit_event:function(){e(".ur-frontend-form").each(function(){var t=e(this);t.find("form.register").off("submit").on("submit",function(a){if(a.preventDefault(),t.find("form.register button.ur-submit-button").is(":hidden")||t.find("form.register button.ur-submit-button").is(":disabled"))return!1;var i=e(this);if(e.extend(e.validator.messages,{required:user_registration_params.message_required_fields,url:user_registration_params.message_url_fields,email:user_registration_params.message_email_fields,number:user_registration_params.message_number_fields,confirmpassword:user_registration_params.message_confirm_password_fields}),i.find(".user-registration-password-strength").length>0){var o=i.find(".user-registration-password-strength").attr("data-current-strength"),d=i.find(".user-registration-password-strength").attr("data-min-strength");if(parseInt(o,0)<parseInt(d,0)){if(""!=i.find("#user_pass").val()){i.find("#user_pass-error").remove();var u='<label id="user_pass-error" class="user-registration-error" for="user_pass">'+r.password_strength_error+".</label>";i.find(".user-registration-password-hint").after(u),i.find("#user_pass").attr("aria-invalid",!0),i.find("#user_pass").trigger("focus")}return!1}}var l=i.find(".ur-smart-phone-field");if("true"===l.attr("aria-invalid")){(_=l.closest("p.form-row")).find("#"+l.data("id")+"-error").remove();var f='<label id="'+l.data("id")+'-error" class="user-registration-error" for="'+l.data("id")+'">'+user_registration_params.message_validate_phone_number+"</label>";return _.append(f),_.find("#"+l.data("id")).attr("aria-invalid",!0),!0}var c=i.find(".urfu-file-input");if(n.missing_attachment_handler(c),1===i.find(".uraf-profile-picture-upload").find(".user-registration-error").length){var _,p=i.find(".uraf-profile-picture-upload").find(".uraf-profile-picture-input");(_=i.find(".uraf-profile-picture-upload")).find("#"+p.attr("name")+"-error").remove(),_.find(".uraf-profile-picture-file-error").remove();var m='<label id="'+p.attr("name")+'-error" class="user-registration-error" for="'+p.attr("name")+'">'+user_registration_params.message_required_fields+"</label>";_.find("button.wp_uraf_profile_picture_upload").after(m)}if(i.valid()&&(e(document).trigger("user_registration_frontend_validate_before_form_submit",[i]),!e("#stripe-errors.user-registration-error:visible").length&&!(0<i.find(".dz-error-message").length||i.find("#user_registration_stripe_gateway").find(".user-registration-error").length>0&&i.find("#user_registration_stripe_gateway").find(".user-registration-error").is(":visible")))){var g;i.find(".ur-submit-button").prop("disabled",!0);var h=0,v="0",b="",w="";b="hcaptcha"===user_registration_params.recaptcha_type?i.find('[name="h-captcha-response"]').val():"cloudflare"===user_registration_params.recaptcha_type?i.find('[name="cf-turnstile-response"]').val():i.find('[name="g-recaptcha-response"]').val();try{g=JSON.stringify(n.get_form_data(i.closest(".ur-frontend-form").attr("id")))}catch(e){g=""}1===e(this).closest("form").find('input[name="ur-user-form-id"]').length&&(h=e(this).closest("form").find('input[name="ur-user-form-id"]').val()),1===e(this).closest("form").find('input[name="ur-registration-language"]').length&&(w=e(this).closest("form").find('input[name="ur-registration-language"]').val()),1===e(this).closest("form").find('input[name="ur_frontend_form_nonce"]').length&&(v=e(this).closest("form").find('input[name="ur_frontend_form_nonce"]').val());var y=e(document).find("#ur-tax-details");y.length>0&&(g.tax_rate=y.data("tax-rate"),g.tax_calculation_method=y.data("tax-calculation-method"));var x={action:"user_registration_user_form_submit",security:user_registration_params.user_registration_form_data_save,form_data:g,captchaResponse:b,form_id:h,registration_language:w,ur_frontend_form_nonce:v},k={};if(e(document).trigger("user_registration_frontend_before_form_submit",[x,i,k]),void 0!==k.message&&""!==k.message)return n.show_message("<p>"+k.message+"</p>","error",i,"1"),void i.find(".ur-submit-button").prop("disabled",!1);if(!(i.find('.field-authorize_net_gateway[data-field-id="authorizenet_gateway"]').find(".ur-authorize-net-errors").length>0))if(i.find(".ur-submit-button").find("span").addClass("ur-front-spinner"),t.find("form.register button.ur-submit-button").hasClass("urm-update-membership-button"))e(document).trigger("user_registration_membership_update_before_form_submit",[x,i,k]);else if(s.wait_third_party_api(i))new Promise(function(r,t){e(document).trigger("user_registration_third_party_api_before_form_submit",[x,i,k,r,t])}).then(function(e){s.ajax_form_submit(e)});else s.ajax_form_submit(x)}})})},wait_third_party_api:function(e){var r=!1;return e.find("#user_registration_authorize_net_gateway[data-gateway='authorize_net']:visible").length>0&&(r=!0),r},handle_ajax_error:function(e,r,t,a,i){a.find(".ur-submit-button").prop("disabled",!1),a.find(".field-membership").length>0||a.find(".field-stripe_gateway").length>0||a.find(".field-authorize_net_gateway").length>0?(a.find(".ur-submit-button").find("span").removeClass("ur-front-spinner"),n.show_message(user_registration_params.ajax_form_submit_error,"error",a,"1")):(0===a.find('input[name="ur_fallback_submit"]').length&&a.append('<input type="hidden" name="ur_fallback_submit" value="1" />'),0===a.find('input[name="action"]').length&&a.append('<input type="hidden" name="action" value="user_registration_user_form_submit" />'),0===a.find('input[name="security"]').length&&a.append('<input type="hidden" name="security" value="'+user_registration_params.user_registration_form_data_save+'" />'),0===a.find('input[name="form_data"]').length&&a.append('<input type="hidden" name="form_data" value="'+encodeURIComponent(i.form_data)+'" />'),i.captchaResponse&&0===a.find('input[name="captchaResponse"]').length&&a.append('<input type="hidden" name="captchaResponse" value="'+i.captchaResponse+'" />'),i.form_id&&0===a.find('input[name="form_id"]').length&&a.append('<input type="hidden" name="form_id" value="'+i.form_id+'" />'),i.registration_language&&0===a.find('input[name="registration_language"]').length&&a.append('<input type="hidden" name="registration_language" value="'+i.registration_language+'" />'),i.ur_frontend_form_nonce&&0===a.find('input[name="ur_frontend_form_nonce"]').length&&a.append('<input type="hidden" name="ur_frontend_form_nonce" value="'+i.ur_frontend_form_nonce+'" />'),a[0].submit())},ajax_form_submit:function(a){var i=t;e.ajax({url:user_registration_params.ajax_url,data:a,type:"POST",async:!0,error:function(e,r,t){s.handle_ajax_error(e,r,t,i,a)},complete:function(i){e(document.body).trigger("user_registration_after_form_submit_completion");var s=[];s.status=!0;var o=JSON.parse(i.responseText);if(o&&o.success&&a&&a.ur_authorize_net){var d=o.data,u={ur_authorize_net:a.ur_authorize_net};d=e.extend({},d,u),o.data=d}if(i.responseText=JSON.stringify(o),e(document).trigger("user_registration_frontend_before_ajax_complete_success_message",[i,s,t]),s.status){t.find(".ur-submit-button").find("span").removeClass("ur-front-spinner");var l=t.find('input[name="ur-redirect-url"]').val(),f=e('<ul class=""/>'),c="error",_=!1;try{var p=JSON.parse(i.responseText),m=p&&p.data&&void 0!==p.data.redirect_timeout&&null!==p.data.redirect_timeout&&""!==p.data.redirect_timeout?p.data.redirect_timeout:2e3;void 0!==p.success&&!0===p.success&&void 0!==p.data.paypal_redirect&&window.setTimeout(function(){window.location=p.data.paypal_redirect},m),void 0!==p.success&&!0===p.success&&void 0!==p.data.mollie_redirect&&window.setTimeout(function(){window.location=p.data.mollie_redirect},m),void 0!==p.success&&!0===p.success&&(c="message"),"message"===c?(t.find(".user-registration-password-hint").remove(),t.find(".user-registration-password-strength").remove(),"admin_approval"==p.data.form_login_option?f.append("<li>"+r.user_under_approval+"</li>"):"email_confirmation"==p.data.form_login_option||"admin_approval_after_email_confirmation"==p.data.form_login_option?f.append("<li>"+r.user_email_pending+"</li>"):"payment"==p.data.form_login_option&&void 0!==p.data.message?f.append("<li>"+p.data.message+"</li>"):f.append((p.data.message,r.user_successfully_saved)),void 0!==p.data.auto_password_generation_success_message&&f.append("<li>"+p.data.auto_password_generation_success_message+"</li>"),e(".ur-input-count").text("0"),user_registration_params.ur_hold_data_before_redirection||t[0].reset(),t.find("#profile_pic_url").length&&e("#profile_pic_url").val(""),jQuery("#billing_country").trigger("change"),jQuery("#shipping_country").trigger("change"),void 0!==p.data.role_based_redirect_url&&(l=p.data.role_based_redirect_url),void 0!==p.data.form_login_option&&"sms_verification"===p.data.form_login_option&&window.setTimeout(function(){void 0!==p.data.redirect_url&&p.data.redirect_url&&(window.location=p.data.redirect_url)},m),void 0!==l&&""!==l?(e(document).trigger("user_registration_frontend_before_redirect_url",[l]),window.setTimeout(function(){window.location=l},m)):void 0!==p.data.auto_login&&p.data.auto_login&&(e(document).trigger("user_registration_frontend_before_auto_login"),window.setTimeout(function(){void 0!==p.data.redirect_url&&p.data.redirect_url?window.location=p.data.redirect_url:location.reload()},m))):"error"===c&&("object"==typeof p.data.message?e.each(p.data.message,function(r,a){if(a.hasOwnProperty("individual")){var i=[];e.each(t.find(".ur-field-item").find(".ur-frontend-field"),function(r){var t=e(this);if(t.hasClass("input-captcha-icon-radio")){var a=t.attr("data-id");i.includes(a)||i.push(a)}else{var n=t.attr("id");i.push(n)}});var n="";e.each(a,function(e,r){var s="",o="";if(a.hasOwnProperty("repeater_field_name")&&(s=a.repeater_field_name,e=e+"_"+(o=a.row_id.replace("row_",""))),i.includes(e)){n=e;var d='<label id="'+e+'-error" class="user-registration-error" for="'+e+'">'+r+"</label>",u="";(u=t.find(".ur-repeater-row[data-repeater-field-name='"+s+"'][data-repeater-row='"+o+"'] ").length>0?t.find(".ur-repeater-row[data-repeater-field-name='"+s+"'][data-repeater-row='"+o+"'] ").find(".ur-field-item").find("input[id='"+e+"'], textarea[id='"+e+"']"):t.find(".ur-form-row").find(".ur-field-item").find("input[id='"+e+"'], textarea[id='"+e+"']")).closest(".ur-field-item").find(".user-registration-error").remove(),u.closest(".form-row").append(d),_=!0}}),e(document).trigger("ur_handle_field_error_messages",[t,n])}else f.append("<li>"+a+"</li>")}):f.append("<li>"+p.data.message+"</li>"))}catch(e){f.append("<li>"+e.message+"</li>")}var g=JSON.parse(i.responseText).data.success_message_positon;if(_){var h=[];e.each(t.find(".ur-field-item").find(".ur-frontend-field"),function(r){var t=e(this).attr("id");h.push(t)});var v="";e.each(p.data.message,function(e,r){if(h.includes(e)){v=e;var a='<label id="'+e+'-error" class="user-registration-error" for="'+e+'">'+r+"</label>",i=t.find(".ur-field-item").find("input[id='"+e+"'], textarea[id='"+e+"']");i.closest(".ur-field-item").find(".user-registration-error").remove(),i.closest(".form-row").append(a)}}),e(document).trigger("ur_handle_field_error_messages",[t,v])}else n.show_message(f,c,t,g);"1"===g?e(window).scrollTop(t.find(".ur-button-container").offset().top):e(window).scrollTop(t.closest(".ur-frontend-form").offset().top),e(document).trigger("user_registration_frontend_after_ajax_complete",[i.responseText,c,t]),t.find(".ur-submit-button").prop("disabled",!1)}e(".coupon-message").css({display:"none"})}})},edit_profile_event:function(){user_registration_params.ajax_submission_on_edit_profile&&e("form.user-registration-EditProfileForm").off("submit").on("submit",function(r){r.preventDefault(),r.stopImmediatePropagation();var t=e(this);e.extend(e.validator.messages,{required:user_registration_params.message_required_fields,url:user_registration_params.message_url_fields,email:user_registration_params.message_email_fields,number:user_registration_params.message_number_fields});var a=t.find(".ur-smart-phone-field");if("true"===a.attr("aria-invalid")){(s=a.closest("p.form-row")).find("#"+a.data("id")+"-error").remove();var i='<label id="'+a.data("id")+'-error" class="user-registration-error" for="'+a.data("id")+'">'+user_registration_params.message_validate_phone_number+"</label>";return s.append(i),s.find("#"+a.data("id")).attr("aria-invalid",!0),!0}if(1===t.find(".uraf-profile-picture-upload").find(".user-registration-error").length){var s,o=t.find(".uraf-profile-picture-upload").find(".uraf-profile-picture-input");(s=t.find(".uraf-profile-picture-upload")).find("#"+o.attr("name")+"-error").remove(),s.find(".uraf-profile-picture-file-error").remove();var d='<label id="'+o.attr("name")+'-error" class="user-registration-error" for="'+o.attr("name")+'">'+user_registration_params.message_required_fields+"</label>";s.find("button.wp_uraf_profile_picture_upload").after(d)}if(!t.valid())return!1;if(1===t.find(".user-registration-profile-picture-error").find(".user-registration-error").length)return!1;r.preventDefault(),t.find(".user-registration-submit-Button").prop("disabled",!0);var u,l=t.find(".urfu-file-input");n.missing_attachment_handler(l);try{u=n.get_form_data();var f=e("#profile_pic_url").val();u.push({value:f,field_name:"user_registration_profile_pic_url"}),u=JSON.stringify(u)}catch(e){u=""}var c={action:"user_registration_update_profile_details",security:user_registration_params.user_registration_profile_details_save,form_data:u};e(document).trigger("user_registration_frontend_before_edit_profile_submit",[c,t]),t.find(".user-registration-submit-Button").find("span").addClass("ur-front-spinner"),e.ajax({type:"POST",url:user_registration_params.ajax_url,dataType:"JSON",data:c,complete:function(r){e(document).trigger("user_registration_process_before_edit_profile_submit_completion"),t.find("span.ur-front-spinner").removeClass("ur-front-spinner"),t.closest(".user-registration").find(".user-registration-error").remove(),t.closest(".user-registration").find(".user-registration-message").remove();var a=e('<ul class=""/>'),i="error";try{var s=JSON.parse(r.responseText);void 0!==s.success&&!0===s.success&&(i="message",void 0!==s.data.profile_pic_id&&(t.find(".ur_removed_profile_pic").val(""),t.find(".uraf-profile-picture-remove").length>0&&t.find(".uraf-profile-picture-remove").data("attachment-id",s.data.profile_pic_id),t.find(".profile-pic-remove").length>0&&t.find(".profile-pic-remove").data("attachment-id",s.data.profile_pic_id)));var o=!1;"object"==typeof s.data.message?e.each(s.data.message,function(r,i){if(i.hasOwnProperty("individual")){var n=[];e.each(t.find(".ur-form-row").find(".ur-field-item").find(".ur-edit-profile-field"),function(r){var t=e(this).attr("id");n.push(t)}),e.each(i,function(e,r){var a="",s="";if(i.hasOwnProperty("repeater_field_name")?(a=i.repeater_field_name,e="user_registration_"+e+"_"+(s=i.row_id.replace("row_",""))):e=-1===e.indexOf("user_registration_")?"user_registration_"+e:e,n.includes(e)){var d='<label id="'+e+'-error" class="user-registration-error" for="'+e+'">'+r+"</label>",u=t.find(".ur-form-row");(u=u.hasClass("ur-repeater-row")?u.find(".ur-repeater-row[data-repeater-field-name='"+a+"'][data-repeater-row='"+s+"'] ").find(".ur-field-item").find("input[id='"+e+"'], textarea[id='"+e+"']"):u.find(".ur-field-item").find("input[id='"+e+"'], textarea[id='"+e+"']")).closest(".form-row").append(d),o=!0}})}else a.append("<li>"+i+"</li>")}):(a.append("<li>"+s.data.message+"</li>"),void 0!==s.data.userEmailPendingMessage&&(e(".user-registration-info.user-email-change-update-notice").remove(),n.show_message(e('<ul class=""/>').append("<li>"+s.data.userEmailUpdateMessage+"</li>"),"info user-email-change-update-notice",t,"0"),e("input#user_registration_user_email").next("div.email-updated").length&&e("input#user_registration_user_email").next("div.email-updated").remove(),e(s.data.userEmailPendingMessage).insertAfter(e("input#user_registration_user_email")),e("input#user_registration_user_email").val(s.data.oldUserEmail)))}catch(e){a.append("<li>"+e.message+"</li>")}o||n.show_message(a,i,t,"0"),e(document).trigger("user_registration_edit_profile_after_ajax_complete",[r,t]),t.find(".user-registration-submit-Button").prop("disabled",!1),e(window).scrollTop(e(".user-registration").position())}}).fail(function(){n.show_message("<p>"+user_registration_params.ajax_form_submit_error+"</p>","error",t,"1"),t.find(".user-registration-submit-Button").prop("disabled",!1)})})}};n.init(),e(".user-registration-EditProfileForm ").length>0&&n.get_form_data(e(".user-registration-EditProfileForm ").data("form-id")),s.init()})},e(function(){e(document).ready(function(){e(".ur-submit-button").on("click",function(){e(this).closest("form.register").ur_form_submission()});var r=a.ur_get_cookie("urm_toast_content");0===e(".user-registration-page .notice-container").length&&e(document).find(".user-registration-page").prepend(r);var t=a.ur_get_cookie("urm_toast_success_message");if(a.show_success_message(t),e(".user-registration-membership__close_notice").on("click",function(){e(".user-registration-membership-notice__container").hide()}),e("input[name='save_account_details'], button[name='save_account_details']").off("click").on("click",function(r){r.preventDefault(),e(".ur-frontend-form").find("form.edit-profile").hasClass("user-registration-EditProfileForm")&&e("form.user-registration-EditProfileForm").ur_form_submission(),user_registration_params.ajax_submission_on_edit_profile?e(this).submit():e(this).closest("form")[0].submit()}),e(".ur-flatpickr-field").length){var i=[];e(".ur-flatpickr-field").each(function(){var r=e(this),t=i.find(function(e){return e.element==r[0]});if(t)t.open();else{var a=r.attr("data-id"),n=r.closest(".ur-field-item").find("#formated_date").val();if(0<e(".ur-frontend-form").length)var s=e(".ur-frontend-form #"+a).attr("type","text").val(n);else s=e(".woocommerce-MyAccount-content #"+a).attr("type","text").val(n);r.attr("data-date-format",s.data("date-format")),s.data("mode")&&r.attr("data-mode","range"),r.attr("data-locale",s.data("locale")),r.attr("data-min-date",s.data("min-date")),r.attr("data-max-date",s.data("max-date")),r.attr("data-default-date",n),t=r.flatpickr({disableMobile:!0,onChange:function(r,t,i){e("#"+a).val(t)}}),i.push(t)}})}}),e(document).on("tinymce-editor-init",function(r,t){var a=e(t.getContainer()).attr("id"),i=e("#"+a).closest(".form-row").find("[data-label = 'WYSIWYG']");t.on("keyup",function(e){i.val(tinyMCE.activeEditor.getContent())})}),e(".ur-frontend-form").each(function(){e(this).find("form.register").on("focusout","#user_pass, #password_1",function(){$this=e(this);var t=e(this).attr("name"),a=e(this).data("id");if($this.closest("form").attr("data-enable-strength-password")){var i=$this.closest("form"),n=i.attr("data-minimum-password-strength"),s=[];(s="function"==typeof wp.passwordStrength.userInputDisallowedList?wp.passwordStrength.userInputDisallowedList():wp.passwordStrength.userInputBlacklist()).push(i.find('input[data-id="user_email"]').val()),s.push(i.find('input[data-id="user_login"]').val());var o=wp.passwordStrength.meter($this.val(),s);if("4"===n&&(o=customPasswordChecks($this.val())),o<n&&""!==$this.val()){i.find("#"+a+"-error").remove();var d='<label id="'+a+'-error" class="user-registration-error" for="'+t+'">'+r.password_strength_error+".</label>";i.find(".user-registration-password-hint").after(d)}}})})}),e(function(){e("textarea").each(function(){var r;e(this).on("input",t);var a=e(this).closest(".ur-field-item");if(a.find(".ur-input-count").length>0){var i=e(this).val().trim();r="characters"===a.find(".ur-input-count").data("count-type")?i.length:""===i?0:i.split(/\s+/).length}a.find(".ur-input-count").text(r)})}),e(function(){e(".user-registration-EditProfileForm.edit-profile .field-country").length>0&&e(".field-country").each(function(){var r=e(this).find(".ur-data-holder").data("option-value"),t=e(this).find(".ur-data-holder").data("option-html"),a=e(this).find("select");r&&t&&(0===a.find('option[value="'+r+'"]').length&&a.append("<option class='ur-remove' selected='selected' value='"+r+"'>"+t+"</option>"),e(this).on("click",function(){e(this).find(".ur-remove").remove()}))})}),e(document).on("urm_show_action_message",function(e,r){"error"==r.type?a.show_error_message(r.message):a.show_success_message(r.message)})};function t(){e("textarea").each(function(){var r,t=e(this).closest(".ur-field-item");if(t.find(".ur-input-count").length>0){var a=e(this).val().trim();r="characters"===t.find(".ur-input-count").data("count-type")?a.length:""===a?0:a.split(/\s+/).length}t.find(".ur-input-count").text(r)})}e(function(){e(".input-checkbox").each(function(){var r=e(this).attr("data-id");void 0!==r&&e('input[name="'+r+'[]"]:checked').length==e('[data-id = "'+r+'" ]').length&&e('[data-check = "'+r+'" ]').prop("checked",!0)}),e('input[type="checkbox"]#checkall').on("click",function(){var r=e(this).attr("data-check");void 0!==r&&e('[data-id = "'+r+'[]" ]').prop("checked",e(this).prop("checked"))}),e(".input-checkbox").on("change",function(){var r=e(this).attr("data-id");void 0!==r&&(r=r.replace("[]",""),!1===e(this).prop("checked")&&e('[data-check = "'+r+'" ]').prop("checked",!1),e('input[name="'+r+'[]"]:checked').length==e('[data-id = "'+r+'" ]').length&&e('[data-check = "'+r+'" ]').prop("checked",!0))})});var a="";function i(r,t,a,i){var s="",o=user_registration_params.regions_list.regions[t],d=user_registration_params.tax_calculation_method,u=o&&null!=o.rate?o.rate:0,l={};if(e(document).find("#urm-membership-list").length?l=function(){var r={},t=e("#ur-membership-registration").find("input.ur_membership_input_class");(t=convert_to_array(t)).forEach(function(t){var a=e(t);if(void 0!==a.attr("name")){var i=a.attr("name").toLowerCase().replace("urm_","");r[i]=a.val()}});var a=e('input[name="urm_membership"]:checked');r.membership=a.val(),r.payment_method="free",r.total=a.data("urm-pg-calculated-amount"),"free"!==a.data("urm-pg-type")&&(r.payment_method=e('input[name="urm_payment_method"]:checked:visible').val());var i=new Date;return r.start_date=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),r}():l.total=e('.ur-total-amount[type="hidden"]').val(),s=a?i.find("option:first").val():i.val(),user_registration_params.regions_list.regions.hasOwnProperty(t))if(o.hasOwnProperty("states")&&""!==s){var f=o.states;if(f.hasOwnProperty(s)){let e=f[s];"calculate_tax"===d&&n(l,e)}else void 0!==u&&""!==u&&n(l,u)}else n(l,u);else n(l,u)}function n(r,t){var a=e("#ur-membership-total");let i=parseFloat(r.total),n=parseFloat(i+i*t/100).toFixed(2);a.length?"left"===user_registration_params.currency_pos?a.val(user_registration_params.currency_symbol+n):a.val(n+user_registration_params.currency_symbol):((a=e(".ur-total-amount[type='hidden']")).val(n),e(document).find("span.ur-total-amount").text(n)),e("#ur-tax-details").remove();var s='<input type="hidden" id="ur-tax-details" name="ur_tax_details" data-tax-rate="'+t+'" data-tax-calculation-method="'+user_registration_params.tax_calculation_method+'" data-total="'+n+'">';a.after(s)}e("form.register").each(function(){a+=e(this).data("form-id")+","}),function(r){e.ajax({url:user_registration_params.ajax_url,data:{action:"user_registration_get_recent_nonce",form_ids:r,nonce_for:"registration"},type:"POST",async:!0,complete:function(r){var t=JSON.parse(r.responseText);t.success&&e.each(t.data,function(r,t){console.log(r,t),e("#user-registration-form-"+r).find("#ur_frontend_form_nonce").val(t)})}})}(a),r(),e(window).on("load",function(){r()}),e(window).on("user_registration_repeater_modified",function(){r()}),window.addEventListener("load",function(){window.addEventListener("elementor/popup/show",function(){document.querySelectorAll(".elementor-popup-modal form.register:not(.elementor)").forEach(function(e){r(),e.classList.add("elementor")})})}),e(document).on("click","#login-registration--login,#login-registration--registration",function(){var r=e(this).data("action");"login"!==r||e(this).hasClass("active")||(e(this).addClass("active"),e("#login-registration--registration").removeClass("active"),e(".login-registration").find(".ur-login-form").removeClass("hidden"),e(".login-registration").find(".ur-registration-form").addClass("hidden")),"registration"!==r||e(this).hasClass("active")||(e(this).addClass("active"),e("#login-registration--login").removeClass("active"),e(".login-registration").find(".ur-login-form").addClass("hidden"),e(".login-registration").find(".ur-registration-form").removeClass("hidden"))}),e(document).on("change",".ur-field-address-country",function(r){r.stopPropagation(),r.preventDefault();var t=e(this),a=t.data("id"),n=t.val(),s={action:"user_registration_update_state_field",security:user_registration_params.user_registration_update_state_field,country:n};e.ajax({type:"POST",url:user_registration_params.ajax_url,data:s,success:function(r){var s=t.siblings(".ur-field-address-state-outer-wrapper");s.empty();var o="";r.success&&r.data.has_state?(o+='<select class="ur-field-address-state select ur-frontend-field" name="'+a+'_state">',o+=r.data.state,o+="</select>"):o+='<input type="text" class="ur-field-address-state input-text ur-frontend-field" name="'+a+'_state"/>';var d=e(o);s.append(d),i(t,n,r.data.has_state,d)}})}),e(document).on("change",".ur-field-address-state",function(r){r.stopPropagation(),r.preventDefault();var t=e(this),a=t.closest(".form-row").find(".ur-field-address-country");i(t,a.val(),!1,t)})}(jQuery),jQuery(document).ready(function(e){var r=e(document).find(".urcr-restrict-msg");r.length>1&&r.hide().first().show()}),jQuery(document).ready(function(e){e('link#hello-elementor-css[href*="themes/hello-elementor"]').length>0&&e(document).on("focus",".ur-flatpickr-field",function(){e(this);setTimeout(function(){e(".flatpickr-calendar:visible .flatpickr-current-month").css("display","flex")},50)})}),jQuery(document).ready(function(e){e(".ur-submit-button.ur-disabled-btn").on("click",function(e){e.preventDefault()})});