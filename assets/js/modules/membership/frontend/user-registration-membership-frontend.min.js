!function(e,t){var r={},a={append_spinner:function(e){if(e&&e.append){return e.append('<span class="urm-spinner is-active"></span>'),!0}return!1},remove_spinner:function(e){return!(!e||!e.remove)&&(e.find(".urm-spinner").remove(),!0)},show_payment_processing_overlay:function(){var t=e(".ur-frontend-form").find("form.register").find(".ur-button-container").find(".ur-submit-button");t.prop("disabled",!0),t.find("span.ur-front-spinner").length||t.find("span").addClass("ur-front-spinner")},hide_payment_processing_overlay:function(){e(".ur-frontend-form").find("form.register").find(".ur-button-container").find(".ur-submit-button").find("span").removeClass("ur-front-spinner")},update_payment_processing_overlay:function(){this.show_payment_processing_overlay()},convert_to_array:function(e){return Object.values(e).reverse().slice(2).reverse()},toggleSaveButtons:function(t,r){t=this.if_empty(t,!0),e(r).prop("disabled",!!t)},if_empty:function(e,t){return null==e||""===e?t:e},clear_validation_error:function(){e("span.notice_red").each(function(){e(this).text("")})},show_validation_error:function(t,r){t.removeClass("notice_blue").addClass("notice_red").text(r),this.clear_validation_error();t.siblings("input");e("html, body").animate({scrollTop:t.parent().offset().top},200),t.text(r)},toggleNotice:function(){e(".notice-container").toggleClass("active"),setTimeout(this.toggleNotice,5e3)},show_failure_message:function(t){e(".notice-container .notice_blue").removeClass("notice_blue").addClass("notice_red"),e(".notice_message").text(t),this.toggleNotice()},show_success_message:function(t){e(".notice-container .notice_red").removeClass("notice_red").addClass("notice_blue"),e(".notice_message").text(t),this.toggleNotice()},show_form_success_message:function(r,a){var n=r.data,s=user_registration_params.ursL10n,o=e("#user-registration-form-"+r.form_id),u=e('<ul class=""/>'),d=n.success_message_positon,c=o.find('input[name="ur-redirect-url"]').val(),m=r.data.redirect_timeout?r.data.redirect_timeout:2e3,p=c;if(void 0!==n.role_based_redirect_url&&(c=n.role_based_redirect_url),void 0!==r.data.form_login_option&&"sms_verification"===r.data.form_login_option&&window.setTimeout(function(){void 0!==r.data.redirect_url&&r.data.redirect_url&&(window.location=r.data.redirect_url)},m),void 0!==c&&""!==c){if(e(document).trigger("user_registration_frontend_before_redirect_url",[c]),window.setTimeout(function(){window.location=c},m),""!=p)return}else c=t.thank_you_page_url;o.find(".ur-submit-button").find("span").removeClass("ur-front-spinner"),"admin_approval"==n.form_login_option?u.append("<li>"+s.user_under_approval+"</li>"):"email_confirmation"===n.form_login_option||"admin_approval_after_email_confirmation"===n.form_login_option?u.append("<li>"+s.user_email_pending+"</li>"):u.append("<li>"+s.user_successfully_saved+"</li>");var _=new URLSearchParams(window.location.search).get("action");if("hide_message"!=a.context&&("register"===_||null===_)){o.find("form")[0].reset();var l=e('<div class="ur-message user-registration-message" id="ur-submit-message-node"/>');l.append(u),"1"===d?(o.find("form").append(l),e(window).scrollTop(o.find("form").find(".ur-button-container").offset().top)):(o.find("form").prepend(l),e(window).scrollTop(o.find("form").closest(".ur-frontend-form").offset().top))}o.find("form").find(".ur-submit-button").prop("disabled",!1),(void 0!==c&&""!==c||void 0!==n.auto_login&&n.auto_login)&&i.show_default_response(c,a,m)},isEventRegistered:function(t,r){var a=e._data(e(t)[0],"events");return a&&a[r]}},i={prepare_members_data:function(){var t={},r=e("#ur-membership-registration").find("input.ur_membership_input_class");(r=a.convert_to_array(r)).forEach(function(r){var a=e(r);if(void 0!==a.attr("name")){var i=a.attr("name").toLowerCase().replace("urm_","");t[i]=a.val()}});var i=e('input[name="urm_membership"]:checked');t.membership=i.val(),t.payment_method="free","free"!==i.data("urm-pg-type")&&(t.payment_method=e('input[name="urm_payment_method"]:checked').val());var n=new Date;t.start_date=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();var s=e(document).find("#ur-tax-details");s.length>0&&(t.tax_rate=s.data("tax-rate"),t.tax_calculation_method=s.data("tax-calculation-method"));var o=i.data("local-currency"),u=i.data("zone-id");o&&u&&(t.switched_currency=o,t.urm_zone_id=u),e("#ur-local-currency-switch-currency").length&&(t.switched_currency=e("#ur-local-currency-switch-currency").val(),t.urm_zone_id=e("#ur-local-currency-switch-currency").data("urm-zone-id"));var d=i.closest(".urm-team-pricing-card").find(".urm-team-pricing-tier.selected");if(d.length>0&&(t.team=d.data("team"),"variable"===d.data("seat-model")&&(t.no_of_seats=d.find('input[name="no_of_seats"]').val(),"tier"===d.data("pricing-model")))){var c=d.data("selected-tier");t.tier=c}return t},prepare_coupons_apply_data:function(){var t={};t.coupon=e("#ur-membership-coupon").val(),t.membership_id=e('input[name="urm_membership"]:checked').val();var r=e('input[name="urm_membership"]:checked'),a=e(document).find("#ur-tax-details");a.length>0&&(t.tax_rate=a.data("tax-rate"),t.tax_calculation_method=a.data("tax-calculation-method"));var i=r.data("local-currency"),n=r.data("zone-id");return i&&n&&(t.switched_currency=i,t.urm_zone_id=n),e("#ur-local-currency-switch-currency").length&&(t.switched_currency=e("#ur-local-currency-switch-currency").val(),t.urm_zone_id=e("#ur-local-currency-switch-currency").data("urm-zone-id")),t},validate_membership_form:function(n){void 0===n&&(n=!1);var s=!0,o=e('input[name="urm_payment_method"]:visible'),u=e(".urm-team-pricing-tier.selected"),d=u.find(".ur-team-tier-seats-input");if(o.length>0&&o.each(function(){if("stripe"===e(this).val()&&e(this).is(":checked")&&(n?e(".membership-upgrade-container").find(".stripe-input-container .StripeElement--empty").length:e(".ur-frontend-form").find(".stripe-input-container .StripeElement--empty").length)){s=!1;var a={error:{message:t.labels.i18n_empty_card_details}};r.card.emit("change",a)}}),d.length>0){var c=parseInt(d.val(),10),m=u.data("pricing-model"),p=parseInt(u.data("minimum-seats"),10),_=parseInt(u.data("maximum-seats"),10),l=0;if((isNaN(c)||c<p)&&(d.val(p),c=p),c>_&&(d.val(_),c=_),"per_seat"===m)l=u.data("per-seat-price");else{var h=u.data("price-tiers");e.each(h,function(e,t){var r=parseInt(t.tier_from,10),a=parseInt(t.tier_to,10);if(c>=r&&c<=a)return l=t.tier_per_seat_price,!1})}if(c>=p&&c<=_){var f=u.closest(".urm-team-pricing-card").find('input[type="radio"]'),g=c*l;f.data("urm-pg-calculated-amount",g),i.calculate_total(f)}}return s&&a.clear_validation_error(),s},validate_coupon_data:function(){var r=e("#ur-membership-coupon").val(),i=e('input[name="urm_membership"]:checked'),n=e("#coupon-validation-error"),s=!0;return a.clear_validation_error(),r.length<1?(s=!1,a.show_validation_error(n,t.labels.i18n_error+"! "+t.labels.i18n_coupon_empty_error),s):0===i.length?(s=!1,a.show_validation_error(n,t.labels.i18n_error+"! "+t.labels.i18n_membership_required),s):"free"===i.data("urm-pg-type")?(s=!1,a.show_validation_error(n,t.labels.i18n_error+"! "+t.labels.i18n_coupon_free_membership_error),s):s},create_member:function(e){var r=this.prepare_members_data();r.username=e.data.username,this.send_data({action:"user_registration_membership_register_member",members_data:JSON.stringify(r),form_response:JSON.stringify(e.data)},{success:function(t){t.success?i.handle_response(t,r,e):(a.show_failure_message(t.data.message),n.hide_loader(e.form_id))},failure:function(r,i){a.show_failure_message(t.labels.network_error+"("+i+")"),n.hide_loader(e.form_id)},complete:function(){}})},handle_response:function(e,t,r){switch(t.payment_method){case"paypal":case"mollie":a.show_success_message(e.data.message),window.location.replace(e.data.pg_data.payment_url);break;case"bank":a.show_success_message(e.data.message),this.show_bank_response(e,t,r);break;case"stripe":a.show_success_message(e.data.message),s.handle_stripe_response(e,t,r);break;case"authorize":a.show_success_message(e.data.message),window.location.replace(e.data.redirect);break;default:a.show_success_message(e.data.message),a.show_form_success_message(r,{username:t.username,context:"hide_message"})}},show_bank_response:function(e,t,r){if(e.data.is_renewing)window.location.replace(e.data.redirect);else{var i={transaction_id:e.data.transaction_id,payment_type:"unpaid",info:e.data.pg_data.data,username:t.username,context:"hide_message"};a.show_form_success_message(r,i)}},show_default_response:function(r,a,i){i=i||2e3;var n=t.thank_you_page_url,s=e.param(a).toString();window.setTimeout(function(){window.location.replace(n+"?"+s)},i)},validate_coupon:function(r){if(a.toggleSaveButtons(!0,r),a.append_spinner(r),this.validate_coupon_data()){var n={action:"user_registration_membership_validate_coupon",coupon_data:this.prepare_coupons_apply_data()},s=r.closest(".ur_membership_registration_container").find("input[name='urm_membership']:checked");s.data("urm-upgrade-type")&&(n.coupon_data.upgrade_amount=s.data("urm-pg-calculated-amount")),this.send_data(n,{success:function(e){e.success?i.handle_coupon_validation_response(e):a.show_failure_message(e.data.message)},failure:function(r,i){500===r.status?a.show_failure_message(t.labels.network_error+"("+i+")"):a.show_validation_error(e("#coupon-validation-error"),t.labels.i18n_error+"! "+r.responseJSON.data.message)},complete:function(){a.remove_spinner(r),a.toggleSaveButtons(!1,r)}})}else a.toggleSaveButtons(!1,r),a.remove_spinner(r)},handle_coupon_validation_response:function(r){e(".urm_apply_coupon").hide(),a.clear_validation_error(),e("#coupon-validation-error").removeClass("notice_red").addClass("notice_blue").text(r.data.message),r=JSON.parse(r.data.data);var n,s=e('input[name="urm_membership"]:checked');s.attr("data-ur-discount-amount",r.discount_amount),i.calculate_total(s),n="fixed"===r.coupon_details.coupon_discount_type?""+r.coupon_details.coupon_discount:r.coupon_details.coupon_discount+"%",e("#total-input-notice").text(n+" "+t.labels.i18n_coupon_discount_message)},send_data:function(r,a){var i="function"==typeof a.success?a.success:function(){},n="function"==typeof a.failure?a.failure:function(){},s="function"==typeof a.beforeSend?a.beforeSend:function(){},o="function"==typeof a.complete?a.complete:function(){};!r._wpnonce&&t&&(r._wpnonce=t._nonce),e.ajax({type:"post",dataType:"json",url:t.ajax_url,data:r,beforeSend:s,success:i,error:n,complete:o})},calculate_total:function(r){var a=r.data("urm-pg-calculated-amount"),n=e("#ur-membership-subtotal"),s=e("#ur-membership-tax"),u=e("#ur-membership-coupons"),d="",c=t.currency_symbol;subTotal=a,r.data("local-currency")&&(d=r.data("local-currency"),c=o.decodeHtmlEntity(t.local_currencies_symbol[d]||c));var m=e("#ur-membership-total"),p=r.data("ur-discount-amount"),_=void 0!==p&&""!==p?a-p:a,l=r.data("urm-upgrade-type"),h=e(".urm-membership-total-value").find(".ur_membership_input_label");h.find(".user-registration-badge").length>0&&h.find(".user-registration-badge").remove(),l&&h.append('<span class="user-registration-badge">'+l+"</span>");var f=i.convert_currency_and_calculate_tax(r,_,subTotal,p);_=parseFloat(_).toFixed(2),"left"===t.curreny_pos?(m.text(c+parseFloat(f.total).toFixed(2)),n.text(c+parseFloat(f.subTotal).toFixed(2)),s.text(c+parseFloat(f.taxAmount).toFixed(2)),u.text(c+parseFloat(f.discountAmount).toFixed(2))):(m.text(parseFloat(f.total).toFixed(2)+c),n.text(parseFloat(f.subTotal).toFixed(2)+c),s.text(parseFloat(f.taxAmount).toFixed(2)+c),u.text(parseFloat(f.discountAmount).toFixed(2)+c))},upgrade_membership:function(e,r,n,s,o,u){"authorize"===o?this.handle_authorize_upgrade(e,r,n,s,o,u):this.send_data({_wpnonce:t.upgrade_membership_nonce,action:"user_registration_membership_upgrade_membership",form_data:e.form_data,form_id:e.form_id,current_membership_id:r,selected_membership_id:n,current_subscription_id:s,selected_pg:o,coupon:e.coupon},{success:function(e){if(e.success){a.show_success_message(e.data.message);var t={payment_method:o,username:e.data.username};i.handle_update_response(e,t)}else a.show_failure_message(e.data.message)},failure:function(e,t){a.show_failure_message(user_registration_params.network_error+"("+t+")")},complete:function(){"stripe"!==o&&a.remove_spinner(u),a.toggleSaveButtons(!1,u)}})},convert_currency_and_calculate_tax:function(r,a,n,s){var u=r,d=u.data("urm-local-currency-details")||{},c=u.data("urm-pg-type"),m={},p=0,_=e("#ur-local-currency-switch-currency"),l=_.val(),h=ur_membership_frontend_localized_data.local_currencies_symbol,f=o.decodeHtmlEntity(h[l]||"");s=void 0!==s?parseInt(s):0;if(m.total=a,m.taxAmount=0,m.subTotal=n,m.discountAmount=s,"free"!==c){d[l]&&d[l].hasOwnProperty("ID")&&_.data("urm-zone-id",d[l].ID).attr("data-urm-zone-id",d[l].ID);var g=u.siblings(".ur-membership-period-span"),b=g.text().split("/"),v=b[1]?"/ "+b[1].trim():"";if(d[l]){var y=a*parseFloat(d[l].rate),w=n*parseFloat(d[l].rate),x=s*parseFloat(d[l].rate);"manual"==d[l].pricing_method&&(w=y=parseFloat(d[l].rate)),"left"===t.curreny_pos?g.text(f+w.toFixed(2)+" "+v):g.text(w.toFixed(2)+f+" "+v),u.data("urm-converted-amount",y),u.data("local-currency",l).attr("data-local-currency",l),u.is(":checked")&&(p=i.calculate_tax_amount(y),m.total=parseFloat(y)+parseFloat(p),m.taxAmount=p,m.subTotal=w,m.discountAmount=x)}else u.data("urm-converted-amount",0),"left"===t.curreny_pos?(n&&g.text(t.currency_symbol+n.toFixed(2)+" "+v),u.is(":checked")&&(p=i.calculate_tax_amount(a),m.total=parseFloat(a)+parseFloat(p),m.taxAmount=p,m.subTotal=a)):(g.text(n.toFixed(2)+t.currency_symbol+" "+v),u.is(":checked")&&(p=i.calculate_tax_amount(a),m.total=parseFloat(a)+parseFloat(p),m.taxAmount=p,m.subTotal=a))}return m},calculate_tax_amount:function(r){var a=e(document).find(".ur-field-address-country"),i=e(document).find(".ur-field-address-state"),n=0,s=0;if(a.length){var o=a.val()||"",u=i.val()||"",d=null;void 0!==t&&t.regions_list&&t.regions_list.regions&&o&&t.regions_list.regions.hasOwnProperty(o)&&(d=t.regions_list.regions[o]);var c=t.tax_calculation_method,m=e("#ur-membership-total");if(t.is_tax_calculation_enabled){d&&(n=d.hasOwnProperty("states")&&""!==u&&d.states.hasOwnProperty(u)?d.states[u]:d.rate)>0&&c&&(s=r*n/100,r=parseFloat(r)+parseFloat(s)),e("#ur-tax-details").remove();var p='<input type="hidden" id="ur-tax-details" name="ur_tax_details" data-tax-rate="'+n+'" data-tax-calculation-method="'+c+'" data-total="'+r+'">';m.after(p)}}return e(".urm-membership-tax-value").find(".ur_membership_input_label").text(n+"% Tax"),s},add_multiple_membership:function(e,r,n,s,o){"authorize"===n?this.handle_authorize_multiple_purchase(e,r,n,s,o):this.send_data({_wpnonce:t.upgrade_membership_nonce,action:"user_registration_membership_add_multiple_membership",selected_membership_id:r,selected_pg:n,form_data:e.form_data,coupon:e.coupon,form_id:e.form_id,type:o},{success:function(e){if(e.success){a.show_success_message(e.data.message);var t={payment_method:n,username:e.data.username};i.handle_update_response(e,t)}else a.show_failure_message(e.data.message)},failure:function(e,t){a.show_failure_message(user_registration_params.network_error+"("+t+")")},complete:function(){"stripe"!==n&&a.remove_spinner(s),a.toggleSaveButtons(!1,s)}})},renew_membership:function(e,r,n,s,o){this.send_data({_wpnonce:t.renew_membership_nonce,action:"user_registration_membership_renew_membership",form_data:e.form_data,selected_pg:r,membership_id:s,form_id:e.form_id,coupon:e.coupon},{success:function(e){if(e.success){a.show_success_message(e.data.message);var t={payment_method:r,username:e.data.username};i.handle_renewal_response(e,t)}else a.show_failure_message(e.data.message)},failure:function(e,t){a.show_failure_message(user_registration_params.network_error+"("+t+")")},complete:function(){a.toggleSaveButtons(!1,n)}})},handle_authorize_upgrade:function(r,n,s,o,u,d){var c={current_plan:n,selected_membership_id:s,current_subscription_id:o,selected_pg:u,btn:d,form_data:r.form_data,coupon:r.coupon};e(document).trigger("urm_before_upgrade_membership_submit",{data:c,onComplete:function(n){i.send_data({_wpnonce:t.upgrade_membership_nonce,action:"user_registration_membership_upgrade_membership",current_membership_id:n.current_plan,selected_membership_id:n.selected_membership_id,current_subscription_id:n.current_subscription_id,selected_pg:n.selected_pg,ur_authorize_data:n.ur_authorize_data,form_data:r.form_data,coupon:r.coupon},{success:function(t){if(t.success){a.show_success_message(t.data.message);var r={payment_method:u,username:t.data.username};i.handle_update_response(t,r)}else a.show_failure_message(t.data.message),e(document).find(".swal2-confirm").find("span").removeClass("urm-spinner")},failure:function(t,r){a.show_failure_message(user_registration_params.network_error+"("+r+")"),e(document).find(".swal2-confirm").find("span").removeClass("urm-spinner")},complete:function(){a.toggleSaveButtons(!1,d)}})}})},handle_authorize_multiple_purchase:function(r,n,s,o){var u={selected_membership_id:r,selected_pg:n,btn:s,type:o};e(document).trigger("urm_before_multiple_membership_submit",{data:u,onComplete:function(r){i.send_data({_wpnonce:t.upgrade_membership_nonce,action:"user_registration_membership_add_multiple_membership",selected_membership_id:r.selected_membership_id,selected_pg:r.selected_pg,ur_authorize_data:r.ur_authorize_data},{success:function(t){if(t.success){a.show_success_message(t.data.message);var r={payment_method:n,username:t.data.username};i.handle_update_response(t,r)}else a.show_failure_message(t.data.message),e(document).find(".swal2-confirm").find("span").removeClass("urm-spinner")},failure:function(t,r){a.show_failure_message(user_registration_params.network_error+"("+r+")"),e(document).find(".swal2-confirm").find("span").removeClass("urm-spinner")},complete:function(){a.toggleSaveButtons(!1,s)}})}})},authorize_net_container_html:function(){return'<div id="authorize-net-container" class="urm-d-none membership-only authorize-net-container"><div data-field-id="authorizenet_gateway" class="ur-field-item field-authorize_net_gateway" data-ref-id="authorizenet_gateway" data-field-pattern-enabled="0" data-field-pattern-value=" " data-field-pattern-message=" "><div class="form-row" id="authorizenet_gateway_field"><label class="ur-label" for="Authorize.net">Authorize.net <abbr class="required" title="required">*</abbr></label><p></p><div id="user_registration_authorize_net_gateway" data-gateway="authorize_net" class="input-text" conditional_rules=""><div class="ur-field-row"><div class="user-registration-authorize-net-card-number"><input type="text" id="user_registration_authorize_net_card_number" name="user_registration_authorize_net_card_number" maxlength="16" placeholder="411111111111111" class="widefat ur-anet-sub-field user_registration_authorize_net_card_number"><br><label class="user-registration-sub-label">Card Number</label></div></div><div class="ur-field-row clearfix"><div class="user-registration-authorize-net-expiration user-registration-one-half"><div class="user-registration-authorize-net-expiration-month user-registration-one-half"><select class="widefat ur-anet-sub-field user_registration_authorize_net_expiration_month" id="user_registration_authorize_net_expiration_month" name="user_registration_authorize_net_expiration_month"><option> MM </option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select><label class="user-registration-sub-label">Expiration</label></div><div class="user-registration-authorize-net-expiration-year user-registration-one-half last"><select class="widefat ur-anet-sub-field user_registration_authorize_net_expiration_year" id="user_registration_authorize_net_expiration_year" name="user_registration_authorize_net_expiration_year"><option> YY </option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option></select></div></div><div class="user-registration-authorize-net-cvc user-registration-one-half last"><input type="text" id="user_registration_authorize_net_card_code" name="user_registration_authorize_net_card_code" placeholder="900" maxlength="4" class="widefat ur-anet-sub-field user_registration_authorize_net_card_code"><br><label class="user-registration-sub-label">CVC</label></div></div></div></div></div></div>'},prepare_pg_html:function(t){var r="";return e.each(t,function(e,a){var i=a.toLowerCase();r+='<label class="ur_membership_input_label ur-label" for="ur-membership-'+i+'"><input class="ur_membership_input_class pg-list" data-key-name="ur-payment-method" id="ur-membership-'+i+'" type="radio" name="urm_payment_method" '+(0===e&&t&&1===t.length?"checked":"")+' required value="'+i+'"><span class="ur-membership-duration">'+i.charAt(0).toUpperCase()+i.slice(1)+"</span></label>"}),r},prepare_renew_membership_html:function(e){return'<div class="membership-upgrade-container"><div class="ur_membership_registration_container"><div class="ur_membership_frontend_input_container urm_hidden_payment_container ur_payment_gateway_container"><div id="payment-gateway-body" class="ur_membership_frontend_input_container">'+i.prepare_pg_html(e)+'<span id="payment-gateway-notice" class="notice_red"></span></div></div><div class="ur_membership_frontend_input_container"><div class="stripe-container urm-d-none"><button type="button" class="stripe-card-indicator ur-stripe-element-selected" id="credit_card">Credit Card</button><div class="stripe-input-container"><div id="card-element"></div></div></div></div>'+i.authorize_net_container_html()+'</div><span id="upgrade-membership-notice"></span></div>'},prepare_upgrade_membership_html:function(r){var a=e("#membership-title").text()||"",n="",s=t.membership_gateways||[];return e.each(r,function(e,t){var r=t.ID||"",a=t.title||"",i=t.type||"",s=t.period||"",o=t.calculated_amount||"",u=(t.amount,t.active_payment_gateways||"{}");n+='<label class="upgrade-membership-label" for="ur-membership-select-membership-'+r+'"><input class="ur_membership_input_class ur_membership_radio_input ur-frontend-field" id="ur-membership-select-membership-'+r+'" type="radio" name="urm_membership" data-label="'+a+'" required="required" value="'+r+"\" data-urm-pg='"+u+"' data-urm-pg-type=\""+i+'" data-urm-pg-calculated-amount="'+o+'"><span class="ur-membership-duration">'+a+'</span><span class="ur-membership-duration"> - '+s+"</span></label>"}),'<div class="membership-upgrade-container"><span>Your current Plan is <b>'+a+'</b></span><div class="upgrade-plan-container"><span class="ur-upgrade-label">Select Plan</span><div id="upgradable-plans">'+n+'</div></div><div class="ur_membership_registration_container urm-d-none"><div class="ur_membership_frontend_input_container urm_hidden_payment_container ur_payment_gateway_container urm-d-none"><span class="ur-upgrade-label ur-label required">Select Payment Gateway</span><div id="payment-gateway-body" class="ur_membership_frontend_input_container">'+i.prepare_pg_html(s)+'<span id="payment-gateway-notice" class="notice_red"></span></div></div><div class="ur_membership_frontend_input_container"><div class="stripe-container urm-d-none"><button type="button" class="stripe-card-indicator ur-stripe-element-selected" id="credit_card">Credit Card</button><div class="stripe-input-container"><div id="card-element"></div></div></div></div>'+i.authorize_net_container_html()+"</div></div>"},prepare_intended_membership_purchase_html:function(r){var a=e("#membership-title").text()||"",n="",s=t.membership_gateways||[],o=r.ID||"",u=r.title||"",d=r.type||"",c=r.period||"",m=r.calculated_amount||"";r.amount;return'<div class="membership-upgrade-container"><span>Your current Plan is <b>'+a+'</b></span><div class="upgrade-plan-container"><span class="ur-upgrade-label">Select Plan</span><div id="upgradable-plans">'+(n+='<label class="upgrade-membership-label" for="ur-membership-select-membership-'+o+'"><input class="ur_membership_input_class ur_membership_radio_input ur-frontend-field" id="ur-membership-select-membership-'+o+'" type="radio" name="urm_membership" data-label="'+u+'" required="required" value="'+o+"\" data-urm-pg='"+(r.active_payment_gateways||"{}")+"' data-urm-pg-type=\""+d+'" data-urm-pg-calculated-amount="'+m+'"><span class="ur-membership-duration">'+u+'</span><span class="ur-membership-duration"> - '+c+"</span></label>")+'</div></div><div class="ur_membership_registration_container urm-d-none"><div class="ur_membership_frontend_input_container urm_hidden_payment_container ur_payment_gateway_container urm-d-none"><span class="ur-upgrade-label ur-label required">Select Payment Gateway</span><div id="payment-gateway-body" class="ur_membership_frontend_input_container">'+i.prepare_pg_html(s)+'<span id="payment-gateway-notice" class="notice_red"></span></div></div><div class="ur_membership_frontend_input_container"><div class="stripe-container urm-d-none"><button type="button" class="stripe-card-indicator ur-stripe-element-selected" id="credit_card">Credit Card</button><div class="stripe-input-container"><div id="card-element"></div></div></div></div>'+i.authorize_net_container_html()+"</div></div>"},handle_update_response:function(e,r){switch(r.payment_method){case"paypal":a.show_success_message(e.data.message),window.location.replace(e.data.pg_data.payment_url);break;case"stripe":s.handle_stripe_response(e,r,{data:{}});break;case"mollie":a.show_success_message(e.data.message),window.location.replace(e.data.pg_data.payment_url);break;case"authorize":window.location.replace(e.data.redirect);break;case"free":window.location.origin,window.location.pathname;window.location.replace(t.thank_you_page_url);default:i.show_bank_response(e,{username:r.username,payment_method:r.payment_method},{data:{}})}},handle_renewal_response:function(e,t){switch(t.payment_method){case"paypal":a.show_success_message(e.data.message),window.location.replace(e.data.pg_data.payment_url);break;case"stripe":s.handle_stripe_response(e,t,{data:{}});break;default:i.show_bank_response(e,{username:t.username,payment_method:t.payment_method},{data:{}})}},cancel_delayed_subscription:function(e){a.toggleSaveButtons(!0,e),a.append_spinner(e),this.send_data({_wpnonce:t.upgrade_membership_nonce,action:"user_registration_membership_cancel_upcoming_subscription"},{success:function(e){e.success?(Swal.close(),a.show_success_message(e.data.message)):a.show_failure_message(e.data.message)},failure:function(e,r){a.show_failure_message(t.labels.network_error+" ("+e.statusText+")")},complete:function(){a.remove_spinner(e),a.toggleSaveButtons(!1,e)}})}},n={hide_loader:function(t){var r=e("#user-registration-form-"+t);r.find(".ur-submit-button").find("span").removeClass("ur-front-spinner"),r.find("form").find(".ur-submit-button").prop("disabled",!1)}},s={show_stripe_error:function(e){if($membership_registration_form.find("#stripe-errors").length>0)$membership_registration_form.find("#stripe-errors").html(e).show();else{var t='<label id="stripe-errors" class="user-registration-error" role="alert">'+e+"</label>";$membership_registration_form.find(".stripe-container").closest(".ur_membership_frontend_input_container").append(t)}},init:function(t){r=s.setupElements(),$membership_registration_form=e(t?".membership-upgrade-container":"#ur-membership-registration"),this.triggerInputChange()},triggerInputChange:function(){r.card.addEventListener("change",function(e){e.error?s.show_stripe_error(e.error.message):$membership_registration_form.find("#stripe-errors").length>0&&$membership_registration_form.find("#stripe-errors").remove()})},setupElements:function(){var e=Stripe(t.stripe_publishable_key),r=e.elements(),a={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"14px","::placeholder":{color:"#8f9194"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},i=r.create("card",{style:a,hidePostalCode:"1"==t.urm_hide_stripe_card_postal_code}),n=r.create("idealBank",{style:a});return i.mount("#card-element"),{stripe:e,card:i,ideal:n,clientSecret:""}},handle_stripe_response:function(e,t,i){a.show_payment_processing_overlay(),"paid"===e.data.pg_data.type?this.handle_one_time_payment(e,t,i):this.handle_recurring_payment(e,{paymentElements:r,user_id:e.data.member_id,response_data:e,prepare_members_data:t,form_response:i,team_id:e.data.team_id?e.data.team_id:""}).then(function(){a.show_success_message(e.data.message),n.hide_loader(i.form_id)}).catch(function(){n.hide_loader(i.form_id)})},handle_one_time_payment:function(t,i,n){return a.show_payment_processing_overlay(),r.stripe.confirmCardPayment(t.data.pg_data.client_secret,{payment_method:{card:r.card}}).then(function(r){var o=e(".membership_register_button");a.toggleSaveButtons(!0,o),a.append_spinner(o),s.update_order_status(r,t,i,n),a.hide_payment_processing_overlay()})},update_order_status:function(r,o,u,d){i.send_data({_wpnonce:t._confirm_payment_nonce,action:"user_registration_membership_confirm_payment",members_data:JSON.stringify(u),member_id:o.data.member_id,payment_status:r.error?"failed":"succeeded",form_response:JSON.stringify(d.data),payment_result:r,selected_membership_id:o.data.selected_membership_id?o.data.selected_membership_id:"",current_membership_id:o.data.current_membership_id?o.data.current_membership_id:"",team_id:o.data.team_id?o.data.team_id:""},{success:function(e){if(e.success)if(e.data.is_upgrading||e.data.is_renewing||e.data.is_purchasing_multiple){var o={username:u.username,message:e.data.message};e.data.is_upgrading?o.is_upgrading=e.data.is_upgrading:e.data.is_renewing&&(o.is_renewing=e.data.is_renewing),i.show_default_response(window.location.href,o)}else i.show_default_response(t.thank_you_page_url,{username:u.username,transaction_id:r.paymentIntent&&r.paymentIntent.id?r.paymentIntent.id:r.id});else a.hide_payment_processing_overlay(),s.show_stripe_error(e.data.message),n.hide_loader(d.form_id)},failure:function(e,r){a.hide_payment_processing_overlay(),a.show_failure_message(t.labels.i18n_error+"("+e.responseJSON.data.message+")")},complete:function(){var t=e(".swal2-confirm ");n.hide_loader(d.form_id),a.toggleSaveButtons(!1,t),a.remove_spinner(t)}})},handle_recurring_payment:function(t,r){return Promise.resolve(e.extend({},r,{customer_id:t.data.pg_data.stripe_cus_id,selected_membership_id:t.data.selected_membership_id?t.data.selected_membership_id:"",current_membership_id:t.data.current_membership_id?t.data.current_membership_id:""})).then(s.createPaymentMethod).then(s.createSubscription).then(s.handleCustomerActionRequired).then(s.handleOnComplete).catch(function(e,i){return a.hide_payment_processing_overlay(),s.update_order_status({error:{}},t,r.prepare_members_data,r.form_response),Promise.reject(i)})},createPaymentMethod:function(t){return new Promise(function(r,i){var n=e(".membership_register_button");a.toggleSaveButtons(!0,n),a.append_spinner(n),t.paymentElements.stripe.createPaymentMethod({type:"card",card:t.paymentElements.card}).then(function(a){a.error?i(a.error.message,a):r(e.extend({},t,{payment_method_id:a.paymentMethod.id}))}).catch(function(e){i(e,result)})})},createSubscription:function(r){return new Promise(function(s,o){i.send_data({_wpnonce:t._confirm_payment_nonce,action:"user_registration_membership_create_stripe_subscription",member_id:r.user_id,customer_id:r.customer_id,payment_method_id:r.payment_method_id,form_response:JSON.stringify(r.form_response.data),selected_membership_id:r.selected_membership_id?r.selected_membership_id:"",current_membership_id:r.current_membership_id?r.current_membership_id:"",team_id:r.team_id?r.team_id:""},{success:function(t){if(t.success){var a=t.data.subscription.latest_invoice.payment_intent;if(t.error){var i=t.error.message;return void o(i,r)}if("trialing"!==t.data.subscription.status)if(a&&"requires_payment_method"===a.status)o(t,i="Your card was declined");s(e.extend({},r,{subscription:t.data.subscription,message:t.data.message}))}else n.hide_loader(r.form_id),o(t,i)},failure:function(e,r){a.show_failure_message(t.labels.network_error+"("+r+")")}})})},handleCustomerActionRequired:function(e){return a.show_payment_processing_overlay(),new Promise(function(t,r){!e.subscription||"active"!==e.subscription.status&&"trialing"!==e.subscription.status||(t({subscription:e.subscription,response_data:e.response_data,message:e.message,prepare_members_data:e.prepare_members_data,form_response:e.form_response}),a.hide_payment_processing_overlay());var i=e.subscription.latest_invoice.payment_intent;"trialing"!==e.subscription.status&&"requires_action"===i.status&&e.paymentElements.stripe.confirmCardPayment(i.client_secret,{payment_method:e.paymentMethodId}).then(function(i){if(i.error){var n=i.error.message;r(n,e)}else{if("succeeded"===i.paymentIntent.status)e.subscription.status="active",t({subscription:e.subscription,form_id:e.form_response.form_id,response_data:e.response_data,prepare_members_data:e.prepare_members_data,form_response:e.form_response,three_d_secure:!0});else r(n="Unable to complete the payment.",e);a.hide_payment_processing_overlay()}})})},handleOnComplete:function(e){var t=void 0!==e.response_data.data.is_upgrading&&e.response_data.data.is_upgrading,r=void 0!==e.response_data.data.is_renewing&&e.response_data.data.is_renewing,i=void 0!==e.response_data.data.is_purchasing_multiple&&e.response_data.data.is_purchasing_multiple,n=void 0!==e.three_d_secure&&e.three_d_secure;return(t||r||i||n)&&s.update_order_status(e.subscription,e.response_data,e.prepare_members_data,e.form_response),!e.subscription||"active"!==e.subscription.status&&"trialing"!==e.subscription.status||t||r||i||e.three_d_secure||a.show_form_success_message(e.form_response,{username:e.prepare_members_data.username,transaction_id:e.subscription.id}),{success:!0}}},o={init:function(){e('input[name="urm_payment_method"]').on("change",function(){var i=e(this).val(),n=e(".stripe-container"),o=e("#stripe-errors"),u=e(".authorize-net-container"),d=e("#authorize-errors");if(n.addClass("urm-d-none"),o.remove(),u.addClass("urm-d-none"),d.remove(),r={},"stripe"===i){if(0==t.stripe_publishable_key.length)return void a.show_failure_message(t.labels.i18n_incomplete_stripe_setup_error);n.removeClass("urm-d-none"),s.init()}"authorize"===i&&u.removeClass("urm-d-none")}),e(document).on("change",'input[name="urm_membership"]',function(){e(".ur_membership_registration_container").removeClass("urm-d-none"),e("#total-input-notice").text("");var r=e(this).data("urm-pg"),a=e(this).data("urm-pg-type"),n=e(".ur_payment_gateway_container"),o=n.find("input"),u=e(".urm_hidden_payment_container"),d=e(".stripe-container"),c=e("#stripe-errors"),m=e("#upgrade-membership-notice"),p=e(this).data("urm-default-pg");"yes"===e(this).data("has-coupon-link")?e(document).find("#ur_coupon_container").show():e(document).find("#ur_coupon_container").hide();var _=e(".authorize-net-container");if(e("#authorize-errors").remove(),c.remove(),m.text(""),p&&p.toLowerCase()===p?(e(this).closest("#ur-membership-registration").find("#ur-membership-"+p).prop("checked",!0).trigger("change"),"stripe"===p.toLowerCase()&&s.init(),"authorize"!==p.toLowerCase()&&_.addClass("urm-d-none")):(e('input[name="urm_payment_method"]').prop("checked",!1),d.addClass("urm-d-none")),u.addClass("urm-d-none"),e(".urm_apply_coupon").show(),"free"!==a){if(t.gateways_configured&&Object.keys(t.gateways_configured).length>0&&(u.removeClass("urm-d-none"),o.each(function(r,a){var i=e(a).val(),n=e('label[for="ur-membership-'+i+'"]');n.removeClass("urm-d-none"),i in t.gateways_configured||n.addClass("urm-d-none")})),o.each(function(a,i){var n=e(i).val(),s=e('label[for="ur-membership-'+n+'"]');t.gateways_configured,r.hasOwnProperty(n)||s.addClass("urm-d-none")}),1===n.find("input:visible").length){var l=n.find("input:visible");e(l[0]).prop("checked",!0),l.trigger("change")}i.calculate_total(e(this))}else d.addClass("urm-d-none")});var n=new URLSearchParams(window.location.search),u=e('input[name="urm_membership"]');function d(e){var t=e.closest(".urm-team-pricing-card").find('input[name="urm_membership"]'),r=e.find('input[name="no_of_seats"]'),a=parseInt(r.val(),10)||0,n=e.data("seat-model"),s=e.data("pricing-model"),o=0;("fixed"===n&&(o=e.data("fixed-price")||0),"variable"===n&&"per_seat"===s)&&(o=a*(e.data("per-seat-price")||0));if("variable"===n&&"tier"===s){var u=e.find(".ur-tier-radio-input:checked");if(!u.length)return;o=a*(parseFloat(u.data("tier-price"))||0)}t.data("urm-pg-calculated-amount",o),i.calculate_total(t)}e(document).on("user_registration_membership_update_before_form_submit",function(t,r){t.preventDefault();var a,s="free",o=(e('input[name="urm_membership"]:checked').data("urm-pg-type"),e(this));a=e('input[name="urm_membership"]:checked').val(),s=void 0===e('input[name="urm_payment_method"]:checked').val()?s:e('input[name="urm_payment_method"]:checked').val();var u=n.get("action"),d=n.get("current"),c=n.get("subscription_id");if(e("#ur-membership-coupon").length>0&&(r.coupon=e("#ur-membership-coupon").val().trim()),"multiple"==u)i.add_multiple_membership(r,a,s,o,"multiple");else if("upgrade"==u)e("#ur-membership-coupon").length>0&&(r.coupon=e("#ur-membership-coupon").val().trim()),c||d||(c=e(".urm_membership_upgrade_data").data("current-subscription-id"),d=e(".urm_membership_upgrade_data").data("current-membership-id")),i.upgrade_membership(r,d,a,c,s,o);else if("register"==u)i.add_multiple_membership(r,a,s,o,"register");else if("renew"===u){var m=o.data("team-id");i.renew_membership(r,s,o,d,m)}}),n.has("membership_id")&&e('input[name="urm_membership"]:checked').change(),void 0!==u&&1===u.length&&e(u[0]).prop("checked",!0).change(),e(".close_notice").on("click",a.toggleNotice),e("#ur-membership-password").on("keyup change",function(){var r=e(this).val(),i=e("#password-notice"),n=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+}{\"':;?/>.<,]).*$");if(a.show_validation_error(i,""),r.length<8)a.show_validation_error(i,t.labels.i18n_field_password_field_length_validation);else{if(n.test(r))return!0;a.show_validation_error(i,t.labels.i18n_field_password_field_regex_validation)}}),e("#ur-membership-confirm-password").on("keyup",function(){var r=e(this).val(),i=e("#ur-membership-password").val(),n=e("#confirm-password-notice");if(a.show_validation_error(n,""),0===i.length&&a.show_validation_error(n,t.labels.i18n_field_password_empty_validation),r===i)return!0;a.show_validation_error(n,t.labels.i18n_field_confirm_password_field_validation)}),e(document).on("click",".urm_apply_coupon",function(){i.validate_coupon(e(this))}),e(document).on("click",".ur_clear_coupon",function(){e("#ur-membership-coupon").val(""),e("#coupon-validation-error").text(""),e(".urm_apply_coupon").show(),e("#total-input-notice").text("");var t=e('input[name="urm_membership"]:checked');t.removeData("ur-discount-amount").removeAttr("data-ur-discount-amount"),i.calculate_total(t)}),e(document).on("click",".membership-selection-form .membership-signup-button",function(r){if(r.preventDefault(),!t.isEditor){var i=e(this),n=i.siblings('input[name="membership_id"]').attr("value"),s=i.siblings('input[name="redirection_url"]').val(),o=i.siblings('input[name="thank_you_page_id"]').val(),u=i.siblings('input[name="urm_uuid"]').val(),d=i.siblings('input[name="action"]').val();if(a.clear_validation_error(),i.closest(".membership-selection-form").find(".ur_membership_frontend_input_container").hasClass("radio")){var c=e('input[name="membership_id"]:checked');if(!(c.length>0)){var m=i.closest(".membership-selection-form").find("#urm-listing-error");return m.parent().css("position","static").css("margin-bottom","10px"),void a.show_validation_error(m,t.labels.i18n_error+"! "+t.membership_selection_message)}n=c.val(),s=c.data("redirect"),o=c.data("thankyou"),u=c.data("urm-uuid"),d=c.data("action")}var p=-1===s.indexOf("?")?"?":"&",_=s+p+"membership_id="+n+"&action="+d+"&thank_you="+o;"register"===d&&(_+="&uuid="+u),"_blank"!==e(this).attr("target")?window.location.replace(_):window.open(_,"_blank")}}),e(document).on("user_registration_frontend_validate_before_form_submit",function(){i.validate_membership_form()}),e(document).on("user_registration_frontend_before_form_submit",function(t,r,a,i){e(a).find("#ur-membership-registration").length>0&&(r.is_membership_active=e(a).find('input[name="urm_membership"]:checked').val(),r.membership_type=e('input[name="urm_membership"]:checked').val())}),e(document).on("user_registration_frontend_before_ajax_complete_success_message",function(t,r,a,n){var s=!0,o=JSON.parse(r.responseText),u={data:o.data,form_id:e(n).data("form-id")};void 0!==o.data.registration_type&&"membership"===o.data.registration_type&&(s=!1,i.create_member(u)),a.status=s}),e(document).on("change",'.membership-upgrade-container input[name="urm_payment_method"]',function(){var i=e(this).val(),n=e(".stripe-container"),o=e("#stripe-errors"),u=e("#upgrade-membership-notice"),d=e(".authorize-net-container"),c=e("#authorize-errors");if(u.text(""),n.addClass("urm-d-none"),o.remove(),d.addClass("urm-d-none"),c.remove(),r={},"stripe"===i){if(0==t.stripe_publishable_key.length)return void a.show_failure_message(t.labels.i18n_incomplete_stripe_setup_error);n.removeClass("urm-d-none"),s.init(!0)}"authorize"===i&&d.removeClass("urm-d-none")}),e(document).on("click",".cancel-membership-button",function(r){r.preventDefault();var a=e(this),i=e("#membership-error-div"),n=a.text(),s=e("#membership-title").text();Swal.fire({icon:"warning",title:t.labels.i18n_cancel_membership_text+" "+s.trim(),text:t.labels.i18n_cancel_membership_subtitle,customClass:"user-registration-upgrade-membership-swal2-container",showConfirmButton:!0,showCancelButton:!0}).then(function(r){r.isConfirmed&&e.ajax({url:t.ajax_url,type:"POST",data:{action:"user_registration_membership_cancel_subscription",security:t._nonce,subscription_id:a.data("id")},beforeSend:function(){a.text(t.labels.i18n_sending_text)},success:function(e){e.success?(i.hasClass("btn-error")&&(i.removeClass("btn-error"),i.addClass("btn-success")),i.text(e.data.message),i.show(),location.reload()):(i.hasClass("btn-success")&&(i.removeClass("btn-success"),i.addClass("btn-error")),i.text(e.data.message),i.show())},complete:function(){a.text(n)}})})}),e(document).on("click",".reactivate-membership-button",function(r){r.preventDefault();var a=e(this),i=(e("#membership-error-div"),a.text());e("#membership-title").text();e.ajax({url:t.ajax_url,type:"POST",data:{action:"user_registration_membership_reactivate_membership",security:t._nonce,subscription_id:a.data("id")},beforeSend:function(){a.text(t.labels.i18n_sending_text)},success:function(t){t.success?location.reload():(0===e(".user-registration-page .notice-container").length&&(e(".user-registration-membership-notice__container").remove(),e(document).find(".user-registration-page").prepend('<div class="user-registration-membership-notice__container"><div class="ur-toaster urm-error user-registration-membership-notice__red"><span class="user-registration-membership-notice__message"></span><span class="user-registration-membership__close_notice">&times;</span></div></div>')),e(document).trigger("urm_show_action_message",{message:t.data.message,type:t.success?"success":"error"}))},complete:function(){a.text(i)}})}),e("#membership-error-div .cancel-notice").on("click",function(){e(this).siblings("span").text(""),e(this).closest("#membership-error-div").hide()}),e(".field-membership").length&&e(".field-membership").each(function(t,r){if(e(r).find(".no-membership")){var a=e(r).find(".no-membership").attr("data-form-id");e("#user-registration-form-"+a).find(".ur-submit-button").prop("disabled",!0)}}),e(document).on("click",".view-bank-data",function(e){e.preventDefault(),e.stopPropagation(),jQuery(".user-registration-help-tip.tooltipstered").tooltipster("close");var r=jQuery(this).closest(".tooltipster-box").find(".upgrade-info").html()||jQuery(this).siblings(".upgrade-info").html();Swal.fire({title:t.labels.i18n_bank_details_title,html:r,customClass:"user-registration-upgrade-membership-swal2-container",showCancelButton:!1,showConfirmButton:!1})}),e(document).on("change","#ur-local-currency-switch-currency",function(r){r.preventDefault();var a=e(this),n=a.val(),s=e('input[name="urm_membership"]'),u=ur_membership_frontend_localized_data.local_currencies_symbol,d=o.decodeHtmlEntity(u[n]||"");s.each(function(){var r=e(this),s=r.data("urm-local-currency-details")||{},o=parseFloat(r.data("urm-pg-calculated-amount"))||0,u=parseFloat(r.data("ur-discount-amount"))||0,c=u?o-u:o;if("free"!==r.data("urm-pg-type")){s[n]&&s[n].hasOwnProperty("ID")&&a.data("urm-zone-id",s[n].ID).attr("data-urm-zone-id",s[n].ID);var m=r.siblings(".ur-membership-period-span"),p=m.text().split("/"),_=p[1]?"/ "+p[1].trim():"";if(s[n]){var l=c*parseFloat(s[n].rate);l=l.toFixed(2),"manual"==s[n].pricing_method&&(l=s[n].rate),"left"===t.curreny_pos?m.text(d+l+" "+_):m.text(l+d+" "+_),r.data("urm-converted-amount",l),r.data("local-currency",n).attr("data-local-currency",n),r.is(":checked")&&i.calculate_total(r)}else r.data("urm-converted-amount",0),c=c.toFixed(2),"left"===t.curreny_pos?(m.text(t.currency_symbol+c+" "+_),r.is(":checked")&&i.calculate_total(r)):(m.text(c+t.currency_symbol+" "+_),r.is(":checked")&&i.calculate_total(r))}})}),e(document).on("change",".ur-field-address-country, .ur-field-address-state",function(t){t.stopPropagation(),t.preventDefault();var r=e('input[name="urm_membership"]:checked');i.calculate_total(r)}),e(".ur-label.ur-has-team-pricing").on("click",function(t){var r=e(this),a=e(this).data("membership-id"),i=e("#urm-team-pricing-container-"+a),n=i.find('input[type="radio"]');e(this).hide(),i.show(),n.prop("checked",!0).trigger("change"),r.hide(),i.show(),e(".urm-team-pricing-container").not(i).hide(),e(".ur-label.ur-has-team-pricing").not(r).show(),t.preventDefault()}),e(".ur-label.ur-normal-pricing").on("click",function(){e(this).find('input[type="radio"]').prop("checked",!0).trigger("change"),e(".urm-team-pricing-container").hide(),e(".ur-label.ur-has-team-pricing").show()}),e(".ur-team-pricing-label").on("click",function(t){e(this).find('input[type="radio"]').prop("checked",!0).trigger("change"),t.preventDefault()}),e(".ur-membership-price").on("click",function(){e(this).addClass("ur-membership-price-selected");var t=e(this).closest(".urm-team-pricing-card"),r=t.find('input[type="radio"]');t.find(".urm-team-pricing-tier").removeClass("selected"),t.find(".ur-team-tier-seats-wrapper").hide(),r.data("urm-pg-calculated-amount",e(this).data("price")),i.calculate_total(r),e('.ur-membership-payment-gateway-lists label[for="ur-membership-mollie"]').show(),e('.ur-membership-payment-gateway-lists label[for="ur-membership-authorize"]').show(),e(".ur-team-tier-seats-tier").hide()}),e(document).on("click",".urm-team-pricing-tier",function(t){if(!e(t.target).is(".ur-tier-radio-input")&&!e(t.target).is("input[name='no_of_seats']")){var r=e(this),a=r.closest(".urm-team-pricing-card").find(".ur-membership-price-selected");e(".urm-team-pricing-tier").removeClass("selected"),e(".ur-team-tier-seats-wrapper").hide(),e(".ur-team-tier-seats-tier").hide(),e('.ur-membership-payment-gateway-lists label[for="ur-membership-mollie"]').hide(),e('.ur-membership-payment-gateway-lists label[for="ur-membership-authorize"]').hide(),r.addClass("selected"),a.removeClass("ur-membership-price-selected"),e(".ur-tier-radio-input").prop("checked",!1),r.find(".ur-tier-radio-input").prop("disabled",!1),e(".ur-tier-radio-input").not(r.find(".ur-tier-radio-input")).prop("disabled",!0);var i=r.data("seat-model"),n=r.data("pricing-model"),s=r.find('input[name="no_of_seats"]');if(e('input[name="no_of_seats"]').not(s).each(function(){var t=e(this).attr("min")||e(this).attr("placeholder")||"";e(this).val(t),e(this).prop("disabled",!0),e(this).removeClass("ur-input-border-red"),e(this).removeAttr("aria-invalid")}),e("#no_of_seats-error").remove(),"variable"===i&&"per_seat"===n&&(r.find(".ur-team-tier-seats-wrapper").show(),s.prop("disabled",!1).val(s.attr("min")||1),d(r)),"fixed"===i&&d(r),"variable"===i&&"tier"===n)r.find(".ur-team-tier-seats-tier").show(),r.find(".ur-team-tier-seats-wrapper").hide(),s.prop("disabled",!0)}}),e(document).on("input",'.urm-team-pricing-tier.selected input[name="no_of_seats"]',function(){d(e(this).closest(".urm-team-pricing-tier"))}),e(document).on("change",".ur-tier-radio-input",function(t){var r=e(this),a=r.closest(".urm-team-pricing-tier");if(!a.hasClass("selected"))return t.preventDefault(),t.stopImmediatePropagation(),void r.prop("checked",!1);var i=a.find('input[name="no_of_seats"]'),n=parseInt(r.data("tier-from"),10),s=parseInt(r.data("tier-to"),10);a.attr("data-selected-tier",r.val()),e(".ur-team-tier-seats-wrapper").hide(),a.find(".ur-team-tier-seats-wrapper").show(),i.attr({min:n,max:s}).val(n).prop("disabled",!1),i.trigger("input"),e('input[name="no_of_seats"]').not(i).prop("disabled",!0)})},validateSwitchCurrency:function(r){var a=e("#ur-local-currency-switch-currency");if(!t.supported_currencies.hasOwnProperty(r))return a.find("option").show(),void a.val(a.find("option:first").val()).trigger("change");var i=t.supported_currencies[r];a.find("option").each(function(){var t=e(this).val();-1===i.indexOf(t)?e(this).hide():e(this).show()});var n=a.find("option:visible:first").val();a.val(n).trigger("change")},decodeHtmlEntity:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}};o.init(),e(document).ready(function(){e("#ur-local-currency-switch-currency").trigger("change")})}(jQuery,window.ur_membership_frontend_localized_data);